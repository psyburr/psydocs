<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>sigaction(2) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="sigaction(2) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve"> </script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>
<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>
          <th rowspan="1" colspan="1"><a href="../index2.html" shape="rect">Section 2</a></th>
          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>
  <div class="refentry">
    <a id="sigaction.2" name="sigaction.2" shape="rect"> </a>
    <div class="titlepage"> </div>
    <div class="refnamediv">
      <h2>Name</h2>
      <p>sigaction, rt_sigaction — examine and change a
      signal action</p>
    </div>
    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>
      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">#include &lt;signal.h&gt;</pre>
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>sigaction</strong>(</code></td>
            <td rowspan="1" colspan="1">int <var class="pdparam">signum</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const struct sigaction *restrict <var class="pdparam">act</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">struct sigaction *restrict <var class="pdparam">oldact</var><code>)</code>;</td>
          </tr>
        </table>
        <div class="funcprototype-spacer">
           
        </div>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25" colspan="1">
            <img alt="[Note]" src="../stylesheet/note.png" /></td>
            <th align="left" rowspan="1" colspan="1">Note</th>
          </tr>
          <tr>
            <td align="left" valign="top" rowspan="1" colspan="1">
              <div class="featuretests">
                <table class="featuretests" style="border-collapse: collapse;">
                  <colgroup span="1">
                    <col span="1" />
                  </colgroup>
                  <thead>
                    <tr>
                      <th style="" rowspan="1" colspan="1">Feature Test Macro Requirements
                      for glibc (see <a class="link" href="../htmlman7/feature_test_macros.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">feature_test_macros</span>(7)</span></a>):</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">sigaction</code>():</td>
                    </tr>
                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_POSIX_C_SOURCE</code></td>
                    </tr>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="varname">siginfo_t</code>:</td>
                    </tr>
                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_POSIX_C_SOURCE</code>
                      &gt;= 199309L</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect1" name="sigaction-2_sect1" shape="rect"> </a>
      <h2>DESCRIPTION</h2>
      <p>The <code class="function">sigaction</code>() system call
      is used to change the action taken by a process on receipt of
      a specific signal. (See <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a> for an overview
      of signals.)</p>
      <p><em class="parameter"><code>signum</code></em> specifies
      the signal and can be any valid signal except <code class="constant">SIGKILL</code> and <code class="constant">SIGSTOP</code>.</p>
      <p>If <em class="parameter"><code>act</code></em> is
      non-NULL, the new action for signal <em class="parameter"><code>signum</code></em> is installed from
      <em class="parameter"><code>act</code></em>. If <em class="parameter"><code>oldact</code></em> is non-NULL, the
      previous action is saved in <em class="parameter"><code>oldact</code></em>.</p>
      <p>The <span class="structname">sigaction</span> structure is
      defined as something like:</p>
      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="structdef">
            <table class="structdef" style="border-collapse: collapse;">
              <colgroup span="1">
                <col class="c1" span="1" />
                <col class="c2" span="1" />
                <col class="c3" span="1" />
                <col class="c4" span="1" />
                <col class="c5" span="1" />
              </colgroup>
              <tbody>
                <tr>
                  <td class="structdefhdr" style="" align="left" rowspan="1" colspan="1">
                  struct</td>
                  <td class="structdefhdr" style="" colspan="4" align="left" rowspan="1"><span class="structname">sigaction</span> {</td>
                </tr>
                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>
                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">void</span></td>
                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                  (*</td>
                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_handler</code></em>)(int);</td>
                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>
                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>
                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">void</span></td>
                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                  (*</td>
                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_sigaction</code></em>)(int, siginfo_t *, void *);</td>
                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>
                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>
                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">sigset_t</span></td>
                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                   </td>
                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_mask</code></em>;</td>
                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>
                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>
                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">int</span></td>
                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                   </td>
                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_flags</code></em>;</td>
                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>
                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>
                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">void</span></td>
                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                  (*</td>
                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_restorer</code></em>)(void);</td>
                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>
                <tr>
                  <td class="structdefftr" style="" colspan="5" align="left" rowspan="1">};</td>
                </tr>
              </tbody>
            </table>
          </div>
        </blockquote>
      </div>
      <p>On some architectures a union is involved: do not assign
      to both <em class="parameter"><code>sa_handler</code></em>
      and <em class="parameter"><code>sa_sigaction</code></em>.</p>
      <p>The <em class="parameter"><code>sa_restorer</code></em>
      field is not intended for application use. (POSIX does not
      specify a <em class="parameter"><code>sa_restorer</code></em>
      field.) Some further details of the purpose of this field can
      be found in <a class="link" href="../htmlman2/sigreturn.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigreturn</span>(2)</span></a>.</p>
      <p><em class="parameter"><code>sa_handler</code></em>
      specifies the action to be associated with <em class="parameter"><code>signum</code></em> and is be one of the
      following:</p>
      <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc;">
          <li class="listitem">
            <p><code class="constant">SIG_DFL</code> for the
            default action.</p>
          </li>
          <li class="listitem">
            <p><code class="constant">SIG_IGN</code> to ignore this
            signal.</p>
          </li>
          <li class="listitem">
            <p>A pointer to a signal handling function. This
            function receives the signal number as its only
            argument.</p>
          </li>
        </ul>
      </div>
      <p>If <code class="constant">SA_SIGINFO</code> is specified
      in <em class="parameter"><code>sa_flags</code></em>, then
      <em class="parameter"><code>sa_sigaction</code></em> (instead
      of <em class="parameter"><code>sa_handler</code></em>)
      specifies the signal-handling function for <em class="parameter"><code>signum</code></em>. This function receives
      three arguments, as described below.</p>
      <p><em class="parameter"><code>sa_mask</code></em> specifies
      a mask of signals which should be blocked (i.e., added to the
      signal mask of the thread in which the signal handler is
      invoked) during execution of the signal handler. In addition,
      the signal which triggered the handler will be blocked,
      unless the <code class="constant">SA_NODEFER</code> flag is
      used.</p>
      <p><em class="parameter"><code>sa_flags</code></em> specifies
      a set of flags which modify the behavior of the signal. It is
      formed by the bitwise OR of zero or more of the
      following:</p>
      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">SA_NOCLDSTOP</code></span></dt>
          <dd>
            <p>If <em class="parameter"><code>signum</code></em> is
            <code class="constant">SIGCHLD</code>, do not receive
            notification when child processes stop (i.e., when they
            receive one of <code class="constant">SIGSTOP</code>,
            <code class="constant">SIGTSTP</code>, <code class="constant">SIGTTIN</code>, or <code class="constant">SIGTTOU</code>) or resume (i.e., they
            receive <code class="constant">SIGCONT</code>) (see
            <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a>). This flag
            is meaningful only when establishing a handler for
            <code class="constant">SIGCHLD</code>.</p>
          </dd>
          <dt><span class="term"><code class="constant">SA_NOCLDWAIT</code> (since Linux
          2.6)</span></dt>
          <dd>
            <p>If <em class="parameter"><code>signum</code></em> is
            <code class="constant">SIGCHLD</code>, do not transform
            children into zombies when they terminate. See also
            <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">waitpid</span>(2)</span></a>. This flag
            is meaningful only when establishing a handler for
            <code class="constant">SIGCHLD</code>, or when setting
            that signal's disposition to <code class="constant">SIG_DFL</code>.</p>
            <p>If the <code class="constant">SA_NOCLDWAIT</code>
            flag is set when establishing a handler for
            <code class="constant">SIGCHLD</code>, POSIX.1 leaves
            it unspecified whether a <code class="constant">SIGCHLD</code> signal is generated when a
            child process terminates. On Linux, a <code class="constant">SIGCHLD</code> signal is generated in this
            case; on some other implementations, it is not.</p>
          </dd>
          <dt><span class="term"><code class="constant">SA_NODEFER</code></span></dt>
          <dd>
            <p>Do not add the signal to the thread's signal mask
            while the handler is executing, unless the signal is
            specified in <em class="replaceable"><code>act.sa_mask</code></em>.
            Consequently, a further instance of the signal may be
            delivered to the thread while it is executing the
            handler. This flag is meaningful only when establishing
            a signal handler.</p>
            <p><code class="constant">SA_NOMASK</code> is an
            obsolete, nonstandard synonym for this flag.</p>
          </dd>
          <dt><span class="term"><code class="constant">SA_ONSTACK</code></span></dt>
          <dd>
            <p>Call the signal handler on an alternate signal stack
            provided by <a class="link" href="../htmlman2/sigaltstack.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigaltstack</span>(2)</span></a>. If an
            alternate stack is not available, the default stack
            will be used. This flag is meaningful only when
            establishing a signal handler.</p>
          </dd>
          <dt><span class="term"><code class="constant">SA_RESETHAND</code></span></dt>
          <dd>
            <p>Restore the signal action to the default upon entry
            to the signal handler. This flag is meaningful only
            when establishing a signal handler.</p>
            <p><code class="constant">SA_ONESHOT</code> is an
            obsolete, nonstandard synonym for this flag.</p>
          </dd>
          <dt><span class="term"><code class="constant">SA_RESTART</code></span></dt>
          <dd>
            <p>Provide behavior compatible with BSD signal
            semantics by making certain system calls restartable
            across signals. This flag is meaningful only when
            establishing a signal handler. See <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a> for a
            discussion of system call restarting.</p>
          </dd>
          <dt><span class="term"><code class="constant">SA_RESTORER</code></span></dt>
          <dd>
            <p><span class="emphasis"><em>Not intended for
            application use</em></span>. This flag is used by C
            libraries to indicate that the <em class="parameter"><code>sa_restorer</code></em> field
            contains the address of a "signal trampoline". See
            <a class="link" href="../htmlman2/sigreturn.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigreturn</span>(2)</span></a> for more
            details.</p>
          </dd>
          <dt><span class="term"><code class="constant">SA_SIGINFO</code> (since Linux
          2.2)</span></dt>
          <dd>
            <p>The signal handler takes three arguments, not one.
            In this case, <em class="parameter"><code>sa_sigaction</code></em> should be
            set instead of <em class="parameter"><code>sa_handler</code></em>. This flag is
            meaningful only when establishing a signal handler.</p>
          </dd>
        </dl>
      </div>
      <div class="refsect2">
        <a id="sigaction-2_sect2" name="sigaction-2_sect2" shape="rect"> </a>
        <h3>The siginfo_t argument to a SA_SIGINFO handler</h3>
        <p>When the <code class="constant">SA_SIGINFO</code> flag
        is specified in <em class="replaceable"><code>act.sa_flags</code></em>, the signal
        handler address is passed via the <em class="replaceable"><code>act.sa_sigaction</code></em> field.
        This handler takes three arguments, as follows:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="informalexample">
              <pre class="programlisting" xml:space="preserve">
void
handler(int sig, siginfo_t *info, void *ucontext)
{
    ...
}
</pre>
            </div>
          </blockquote>
        </div>
        <p>These three arguments are as follows</p>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><em class="replaceable"><code>sig</code></em></span></dt>
            <dd>
              <p>The number of the signal that caused invocation of
              the handler.</p>
            </dd>
            <dt><span class="term"><em class="replaceable"><code>info</code></em></span></dt>
            <dd>
              <p>A pointer to a <span class="type">siginfo_t</span>, which is a structure
              containing further information about the signal, as
              described below.</p>
            </dd>
            <dt><span class="term"><em class="replaceable"><code>ucontext</code></em></span></dt>
            <dd>
              <p>This is a pointer to a <span class="type">ucontext_t</span> structure, cast to
              <span class="emphasis"><em>void *</em></span>. The
              structure pointed to by this field contains signal
              context information that was saved on the user-space
              stack by the kernel; for details, see <a class="link" href="../htmlman2/sigreturn.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigreturn</span>(2)</span></a>.
              Further information about the <span class="type">ucontext_t</span> structure can be found in
              <a class="link" href="../htmlman3/getcontext.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getcontext</span>(3)</span></a> and
              <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a>.
              Commonly, the handler function doesn't make any use
              of the third argument.</p>
            </dd>
          </dl>
        </div>
        <p>The <span class="type">siginfo_t</span> data type is a
        structure with the following fields:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="informalexample">
              <pre class="programlisting" xml:space="preserve">
siginfo_t {
    int      si_signo;     /* Signal number */
    int      si_errno;     /* An errno value */
    int      si_code;      /* Signal code */
    int      si_trapno;    /* Trap number that caused
                              hardware−generated signal
                              (unused on most architectures) */
    pid_t    si_pid;       /* Sending process ID */
    uid_t    si_uid;       /* Real user ID of sending process */
    int      si_status;    /* Exit value or signal */
    clock_t  si_utime;     /* User time consumed */
    clock_t  si_stime;     /* System time consumed */
    union sigval si_value; /* Signal value */
    int      si_int;       /* POSIX.1b signal */
    void    *si_ptr;       /* POSIX.1b signal */
    int      si_overrun;   /* Timer overrun count;
                              POSIX.1b timers */
    int      si_timerid;   /* Timer ID; POSIX.1b timers */
    void    *si_addr;      /* Memory location which caused fault */
    long     si_band;      /* Band event (was <span class="type">int</span> in
                              glibc 2.3.2 and earlier) */
    int      si_fd;        /* File descriptor */
    short    si_addr_lsb;  /* Least significant bit of address
                              (since Linux 2.6.32) */
    void    *si_lower;     /* Lower bound when address violation
                              occurred (since Linux 3.19) */
    void    *si_upper;     /* Upper bound when address violation
                              occurred (since Linux 3.19) */
    int      si_pkey;      /* Protection key on PTE that caused
                              fault (since Linux 4.6) */
    void    *si_call_addr; /* Address of system call instruction
                              (since Linux 3.5) */
    int      si_syscall;   /* Number of attempted system call
                              (since Linux 3.5) */
    unsigned int si_arch;  /* Architecture of attempted system call
                              (since Linux 3.5) */
}
</pre>
            </div>
          </blockquote>
        </div>
        <p><em class="replaceable"><code>si_signo</code></em>,
        <em class="replaceable"><code>si_errno</code></em> and
        <em class="replaceable"><code>si_code</code></em> are
        defined for all signals. (<em class="replaceable"><code>si_errno</code></em> is generally
        unused on Linux.) The rest of the struct may be a union, so
        that one should read only the fields that are meaningful
        for the given signal:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc;">
            <li class="listitem">
              <p>Signals sent with <a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a> and
              <a class="link" href="../htmlman3/sigqueue.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(3)</span></a> fill in
              <em class="replaceable"><code>si_pid</code></em> and
              <em class="replaceable"><code>si_uid</code></em>. In
              addition, signals sent with <a class="link" href="../htmlman3/sigqueue.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(3)</span></a> fill in
              <em class="replaceable"><code>si_int</code></em> and
              <em class="replaceable"><code>si_ptr</code></em> with
              the values specified by the sender of the signal; see
              <a class="link" href="../htmlman3/sigqueue.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(3)</span></a> for
              more details.</p>
            </li>
            <li class="listitem">
              <p>Signals sent by POSIX.1b timers (since Linux 2.6)
              fill in <em class="replaceable"><code>si_overrun</code></em> and
              <em class="replaceable"><code>si_timerid</code></em>.
              The <em class="replaceable"><code>si_timerid</code></em> field is
              an internal ID used by the kernel to identify the
              timer; it is not the same as the timer ID returned by
              <a class="link" href="../htmlman2/timer_create.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">timer_create</span>(2)</span></a>.
              The <em class="replaceable"><code>si_overrun</code></em> field is
              the timer overrun count; this is the same information
              as is obtained by a call to <a class="link" href="../htmlman2/timer_getoverrun.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">timer_getoverrun</span>(2)</span></a>.
              These fields are nonstandard Linux extensions.</p>
            </li>
            <li class="listitem">
              <p>Signals sent for message queue notification (see
              the description of <code class="constant">SIGEV_SIGNAL</code> in <a class="link" href="../htmlman3/mq_notify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mq_notify</span>(3)</span></a>) fill
              in <em class="replaceable"><code>si_int</code></em>/<em class="replaceable"><code>si_ptr</code></em>, with the
              <em class="replaceable"><code>sigev_value</code></em>
              supplied to <a class="link" href="../htmlman3/mq_notify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mq_notify</span>(3)</span></a>;
              <em class="replaceable"><code>si_pid</code></em>,
              with the process ID of the message sender; and
              <em class="replaceable"><code>si_uid</code></em>,
              with the real user ID of the message sender.</p>
            </li>
            <li class="listitem">
              <p><code class="constant">SIGCHLD</code> fills in
              <em class="replaceable"><code>si_pid</code></em>,
              <em class="replaceable"><code>si_uid</code></em>,
              <em class="replaceable"><code>si_status</code></em>,
              <em class="replaceable"><code>si_utime</code></em>,
              and <em class="replaceable"><code>si_stime</code></em>, providing
              information about the child. The <em class="replaceable"><code>si_pid</code></em> field is the
              process ID of the child; <em class="replaceable"><code>si_uid</code></em> is the child's
              real user ID. The <em class="replaceable"><code>si_status</code></em> field
              contains the exit status of the child (if <em class="replaceable"><code>si_code</code></em> is
              <code class="constant">CLD_EXITED</code>), or the
              signal number that caused the process to change
              state. The <em class="replaceable"><code>si_utime</code></em> and
              <em class="replaceable"><code>si_stime</code></em>
              contain the user and system CPU time used by the
              child process; these fields do not include the times
              used by waited-for children (unlike <a class="link" href="../htmlman2/getrusage.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getrusage</span>(2)</span></a> and
              <a class="link" href="../htmlman2/times.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">times</span>(2)</span></a>). In
              kernels up to 2.6, and since 2.6.27, these fields
              report CPU time in units of <em class="replaceable"><code>sysconf(_SC_CLK_TCK)</code></em>.
              In 2.6 kernels before 2.6.27, a bug meant that these
              fields reported time in units of the (configurable)
              system jiffy (see <a class="link" href="../htmlman7/time.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">time</span>(7)</span></a>).</p>
            </li>
            <li class="listitem">
              <p><code class="constant">SIGILL</code>, <code class="constant">SIGFPE</code>, <code class="constant">SIGSEGV</code>, <code class="constant">SIGBUS</code>, and <code class="constant">SIGTRAP</code> fill in <em class="replaceable"><code>si_addr</code></em> with the
              address of the fault. On some architectures, these
              signals also fill in the <em class="replaceable"><code>si_trapno</code></em> field.</p>
            </li>
            <li class="listitem">
              <p>Some suberrors of <code class="constant">SIGBUS</code>, in particular <code class="constant">BUS_MCEERR_AO</code> and <code class="constant">BUS_MCEERR_AR</code>, also fill in
              <em class="replaceable"><code>si_addr_lsb</code></em>. This
              field indicates the least significant bit of the
              reported address and therefore the extent of the
              corruption. For example, if a full page was
              corrupted, <em class="replaceable"><code>si_addr_lsb</code></em> contains
              <em class="replaceable"><code>log2(sysconf(_SC_PAGESIZE))</code></em>.
              When <code class="constant">SIGTRAP</code> is
              delivered in response to a <a class="link" href="../htmlman2/ptrace.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ptrace</span>(2)</span></a> event
              (PTRACE_EVENT_foo), <em class="replaceable"><code>si_addr</code></em> is not
              populated, but <em class="replaceable"><code>si_pid</code></em> and <em class="replaceable"><code>si_uid</code></em> are populated
              with the respective process ID and user ID
              responsible for delivering the trap. In the case of
              <a class="link" href="../htmlman2/seccomp.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">seccomp</span>(2)</span></a>, the
              tracee will be shown as delivering the event.
              <em class="replaceable"><code>BUS_MCEERR_*</code></em> and
              <em class="replaceable"><code>si_addr_lsb</code></em>
              are Linux-specific extensions.</p>
            </li>
            <li class="listitem">
              <p>The <code class="constant">SEGV_BNDERR</code>
              suberror of <code class="constant">SIGSEGV</code>
              populates <em class="replaceable"><code>si_lower</code></em> and
              <em class="replaceable"><code>si_upper</code></em>.</p>
            </li>
            <li class="listitem">
              <p>The <code class="constant">SEGV_PKUERR</code>
              suberror of <code class="constant">SIGSEGV</code>
              populates <em class="replaceable"><code>si_pkey</code></em>.</p>
            </li>
            <li class="listitem">
              <p><code class="constant">SIGIO</code>/<code class="constant">SIGPOLL</code> (the two names are synonyms
              on Linux) fills in <em class="replaceable"><code>si_band</code></em> and
              <em class="replaceable"><code>si_fd</code></em>. The
              <em class="replaceable"><code>si_band</code></em>
              event is a bit mask containing the same values as are
              filled in the <em class="replaceable"><code>revents</code></em> field by
              <a class="link" href="../htmlman2/poll.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">poll</span>(2)</span></a>. The
              <em class="replaceable"><code>si_fd</code></em> field
              indicates the file descriptor for which the I/O event
              occurred; for further details, see the description of
              <code class="constant">F_SETSIG</code> in <a class="link" href="../htmlman2/fcntl.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fcntl</span>(2)</span></a>.</p>
            </li>
            <li class="listitem">
              <p><code class="constant">SIGSYS</code>, generated
              (since Linux 3.5) when a seccomp filter returns
              <code class="constant">SECCOMP_RET_TRAP</code>, fills
              in <em class="replaceable"><code>si_call_addr</code></em>,
              <em class="replaceable"><code>si_syscall</code></em>,
              <em class="replaceable"><code>si_arch</code></em>,
              <em class="replaceable"><code>si_errno</code></em>,
              and other fields as described in <a class="link" href="../htmlman2/seccomp.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">seccomp</span>(2)</span></a>.</p>
            </li>
          </ul>
        </div>
      </div>
      <div class="refsect2">
        <a id="sigaction-2_sect3" name="sigaction-2_sect3" shape="rect"> </a>
        <p>The si_code field The <em class="replaceable"><code>si_code</code></em> field inside the
        <span class="type">siginfo_t</span> argument that is passed
        to a <code class="constant">SA_SIGINFO</code> signal
        handler is a value (not a bit mask) indicating why this
        signal was sent. For a <a class="link" href="../htmlman2/ptrace.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ptrace</span>(2)</span></a> event,
        <em class="replaceable"><code>si_code</code></em> will
        contain <code class="constant">SIGTRAP</code> and have the
        ptrace event in the high byte:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="informalexample">
              <pre class="programlisting" xml:space="preserve">
(SIGTRAP | PTRACE_EVENT_foo &lt;&lt; 8).
</pre>
            </div>
          </blockquote>
        </div>
        <p>For a non-<a class="link" href="../htmlman2/ptrace.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ptrace</span>(2)</span></a> event, the
        values that can appear in <em class="replaceable"><code>si_code</code></em> are described in
        the remainder of this section. Since glibc 2.20, the
        definitions of most of these symbols are obtained from
        <code class="literal">&lt;</code><code class="filename">signal.h</code><code class="literal">&gt;</code>
        by defining feature test macros (before including
        <em class="replaceable"><code>any</code></em> header file)
        as follows:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc;">
            <li class="listitem">
              <p><code class="constant">_XOPEN_SOURCE</code> with
              the value 500 or greater;</p>
            </li>
            <li class="listitem">
              <p><code class="constant">_XOPEN_SOURCE</code> and
              <code class="constant">_XOPEN_SOURCE_EXTENDED</code>;
              or</p>
            </li>
            <li class="listitem">
              <p><code class="constant">_POSIX_C_SOURCE</code> with
              the value 200809L or greater.</p>
            </li>
          </ul>
        </div>
        <p>For the <em class="replaceable"><code>TRAP_*</code></em>
        constants, the symbol definitions are provided only in the
        first two cases. Before glibc 2.20, no feature test macros
        were required to obtain these symbols.</p>
        <p>For a regular signal, the following list shows the
        values which can be placed in <em class="replaceable"><code>si_code</code></em> for any signal,
        along with the reason that the signal was generated.</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">SI_USER</code></span></dt>
                <dd>
                  <p><a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a>.</p>
                </dd>
                <dt><span class="term"><code class="constant">SI_KERNEL</code></span></dt>
                <dd>
                  <p>Sent by the kernel.</p>
                </dd>
                <dt><span class="term"><code class="constant">SI_QUEUE</code></span></dt>
                <dd>
                  <p><a class="link" href="../htmlman3/sigqueue.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(3)</span></a>.</p>
                </dd>
                <dt><span class="term"><code class="constant">SI_TIMER</code></span></dt>
                <dd>
                  <p>POSIX timer expired.</p>
                </dd>
                <dt><span class="term"><code class="constant">SI_MESGQ</code> (since Linux
                2.6.6)</span></dt>
                <dd>
                  <p>POSIX message queue state changed; see
                  <a class="link" href="../htmlman3/mq_notify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mq_notify</span>(3)</span></a>.</p>
                </dd>
                <dt><span class="term"><code class="constant">SI_ASYNCIO</code></span></dt>
                <dd>
                  <p>AIO completed.</p>
                </dd>
                <dt><span class="term"><code class="constant">SI_SIGIO</code></span></dt>
                <dd>
                  <p>Queued <code class="constant">SIGIO</code>
                  (only in kernels up to Linux 2.2; from Linux 2.4
                  onward <code class="constant">SIGIO</code>/<code class="constant">SIGPOLL</code> fills in <em class="replaceable"><code>si_code</code></em> as
                  described below).</p>
                </dd>
                <dt><span class="term"><code class="constant">SI_TKILL</code> (since Linux
                2.4.19)</span></dt>
                <dd>
                  <p><a class="link" href="../htmlman2/tkill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">tkill</span>(2)</span></a> or
                  <a class="link" href="../htmlman2/tkill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">tgkill</span>(2)</span></a>.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGILL</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">ILL_ILLOPC</code></span></dt>
                <dd>
                  <p>Illegal opcode.</p>
                </dd>
                <dt><span class="term"><code class="constant">ILL_ILLOPN</code></span></dt>
                <dd>
                  <p>Illegal operand.</p>
                </dd>
                <dt><span class="term"><code class="constant">ILL_ILLADR</code></span></dt>
                <dd>
                  <p>Illegal addressing mode.</p>
                </dd>
                <dt><span class="term"><code class="constant">ILL_ILLTRP</code></span></dt>
                <dd>
                  <p>Illegal trap.</p>
                </dd>
                <dt><span class="term"><code class="constant">ILL_PRVOPC</code></span></dt>
                <dd>
                  <p>Privileged opcode.</p>
                </dd>
                <dt><span class="term"><code class="constant">ILL_PRVREG</code></span></dt>
                <dd>
                  <p>Privileged register.</p>
                </dd>
                <dt><span class="term"><code class="constant">ILL_COPROC</code></span></dt>
                <dd>
                  <p>Coprocessor error.</p>
                </dd>
                <dt><span class="term"><code class="constant">ILL_BADSTK</code></span></dt>
                <dd>
                  <p>Internal stack error.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGFPE</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">FPE_INTDIV</code></span></dt>
                <dd>
                  <p>Integer divide by zero.</p>
                </dd>
                <dt><span class="term"><code class="constant">FPE_INTOVF</code></span></dt>
                <dd>
                  <p>Integer overflow.</p>
                </dd>
                <dt><span class="term"><code class="constant">FPE_FLTDIV</code></span></dt>
                <dd>
                  <p>Floating-point divide by zero.</p>
                </dd>
                <dt><span class="term"><code class="constant">FPE_FLTOVF</code></span></dt>
                <dd>
                  <p>Floating-point overflow.</p>
                </dd>
                <dt><span class="term"><code class="constant">FPE_FLTUND</code></span></dt>
                <dd>
                  <p>Floating-point underflow.</p>
                </dd>
                <dt><span class="term"><code class="constant">FPE_FLTRES</code></span></dt>
                <dd>
                  <p>Floating-point inexact result.</p>
                </dd>
                <dt><span class="term"><code class="constant">FPE_FLTINV</code></span></dt>
                <dd>
                  <p>Floating-point invalid operation.</p>
                </dd>
                <dt><span class="term"><code class="constant">FPE_FLTSUB</code></span></dt>
                <dd>
                  <p>Subscript out of range.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGSEGV</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">SEGV_MAPERR</code></span></dt>
                <dd>
                  <p>Address not mapped to object.</p>
                </dd>
                <dt><span class="term"><code class="constant">SEGV_ACCERR</code></span></dt>
                <dd>
                  <p>Invalid permissions for mapped object.</p>
                </dd>
                <dt><span class="term"><code class="constant">SEGV_BNDERR</code> (since Linux
                3.19)</span></dt>
                <dd>
                  <p>Failed address bound checks.</p>
                </dd>
                <dt><span class="term"><code class="constant">SEGV_PKUERR</code> (since Linux
                4.6)</span></dt>
                <dd>
                  <p>Access was denied by memory protection keys.
                  See <a class="link" href="../htmlman7/pkeys.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pkeys</span>(7)</span></a>. The
                  protection key which applied to this access is
                  available via <em class="replaceable"><code>si_pkey</code></em>.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGBUS</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">BUS_ADRALN</code></span></dt>
                <dd>
                  <p>Invalid address alignment.</p>
                </dd>
                <dt><span class="term"><code class="constant">BUS_ADRERR</code></span></dt>
                <dd>
                  <p>Nonexistent physical address.</p>
                </dd>
                <dt><span class="term"><code class="constant">BUS_OBJERR</code></span></dt>
                <dd>
                  <p>Object-specific hardware error.</p>
                </dd>
                <dt><span class="term"><code class="constant">BUS_MCEERR_AR</code> (since Linux
                2.6.32)</span></dt>
                <dd>
                  <p>Hardware memory error consumed on a machine
                  check; action required.</p>
                </dd>
                <dt><span class="term"><code class="constant">BUS_MCEERR_AO</code> (since Linux
                2.6.32)</span></dt>
                <dd>
                  <p>Hardware memory error detected in process but
                  not consumed; action optional.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGTRAP</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">TRAP_BRKPT</code></span></dt>
                <dd>
                  <p>Process breakpoint.</p>
                </dd>
                <dt><span class="term"><code class="constant">TRAP_TRACE</code></span></dt>
                <dd>
                  <p>Process trace trap.</p>
                </dd>
                <dt><span class="term"><code class="constant">TRAP_BRANCH</code> (since Linux 2.4,
                IA64 only)</span></dt>
                <dd>
                  <p>Process taken branch trap.</p>
                </dd>
                <dt><span class="term"><code class="constant">TRAP_HWBKPT</code> (since Linux 2.4,
                IA64 only)</span></dt>
                <dd>
                  <p>Hardware breakpoint/watchpoint.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGCHLD</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">CLD_EXITED</code></span></dt>
                <dd>
                  <p>Child has exited.</p>
                </dd>
                <dt><span class="term"><code class="constant">CLD_KILLED</code></span></dt>
                <dd>
                  <p>Child was killed.</p>
                </dd>
                <dt><span class="term"><code class="constant">CLD_DUMPED</code></span></dt>
                <dd>
                  <p>Child terminated abnormally.</p>
                </dd>
                <dt><span class="term"><code class="constant">CLD_TRAPPED</code></span></dt>
                <dd>
                  <p>Traced child has trapped.</p>
                </dd>
                <dt><span class="term"><code class="constant">CLD_STOPPED</code></span></dt>
                <dd>
                  <p>Child has stopped.</p>
                </dd>
                <dt><span class="term"><code class="constant">CLD_CONTINUED</code> (since Linux
                2.6.9)</span></dt>
                <dd>
                  <p>Stopped child has continued.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGIO</code>/<code class="constant">SIGPOLL</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">POLL_IN</code></span></dt>
                <dd>
                  <p>Data input available.</p>
                </dd>
                <dt><span class="term"><code class="constant">POLL_OUT</code></span></dt>
                <dd>
                  <p>Output buffers available.</p>
                </dd>
                <dt><span class="term"><code class="constant">POLL_MSG</code></span></dt>
                <dd>
                  <p>Input message available.</p>
                </dd>
                <dt><span class="term"><code class="constant">POLL_ERR</code></span></dt>
                <dd>
                  <p>I/O error.</p>
                </dd>
                <dt><span class="term"><code class="constant">POLL_PRI</code></span></dt>
                <dd>
                  <p>High priority input available.</p>
                </dd>
                <dt><span class="term"><code class="constant">POLL_HUP</code></span></dt>
                <dd>
                  <p>Device disconnected.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
        <p>The following value can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGSYS</code> signal:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="variablelist">
              <dl class="variablelist">
                <dt><span class="term"><code class="constant">SYS_SECCOMP</code> (since Linux
                3.5)</span></dt>
                <dd>
                  <p>Triggered by a <a class="link" href="../htmlman2/seccomp.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">seccomp</span>(2)</span></a>
                  filter rule.</p>
                </dd>
              </dl>
            </div>
          </blockquote>
        </div>
      </div>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect4" name="sigaction-2_sect4" shape="rect"> </a>
      <h2>RETURN VALUE</h2>
      <p><code class="function">sigaction</code>() returns 0 on
      success; on error, −1 is returned, and <code class="varname">errno</code> is set to indicate the error.</p>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect5" name="sigaction-2_sect5" shape="rect"> </a>
      <h2>ERRORS</h2>
      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="errorname">EFAULT</span></span></dt>
          <dd>
            <p><em class="parameter"><code>act</code></em> or
            <em class="parameter"><code>oldact</code></em> points
            to memory which is not a valid part of the process
            address space.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>An invalid signal was specified. This will also be
            generated if an attempt is made to change the action
            for <code class="constant">SIGKILL</code> or
            <code class="constant">SIGSTOP</code>, which cannot be
            caught or ignored.</p>
          </dd>
        </dl>
      </div>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect6" name="sigaction-2_sect6" shape="rect"> </a>
      <h2>CONFORMING TO</h2>
      <p>POSIX.1-2001, POSIX.1-2008, SVr4.</p>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect7" name="sigaction-2_sect7" shape="rect"> </a>
      <h2>NOTES</h2>
      <p>A child created via <a class="link" href="../htmlman2/fork.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fork</span>(2)</span></a> inherits a copy of
      its parent's signal dispositions. During an <a class="link" href="../htmlman2/execve.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">execve</span>(2)</span></a>, the dispositions
      of handled signals are reset to the default; the dispositions
      of ignored signals are left unchanged.</p>
      <p>According to POSIX, the behavior of a process is undefined
      after it ignores a <code class="constant">SIGFPE</code>,
      <code class="constant">SIGILL</code>, or <code class="constant">SIGSEGV</code> signal that was not generated by
      <a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a> or <a class="link" href="../htmlman3/raise.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">raise</span>(3)</span></a>. Integer division
      by zero has undefined result. On some architectures it will
      generate a <code class="constant">SIGFPE</code> signal. (Also
      dividing the most negative integer by −1 may generate
      <code class="constant">SIGFPE</code>.) Ignoring this signal
      might lead to an endless loop.</p>
      <p>POSIX.1-1990 disallowed setting the action for
      <code class="constant">SIGCHLD</code> to <code class="constant">SIG_IGN</code>. POSIX.1-2001 and later allow this
      possibility, so that ignoring <code class="constant">SIGCHLD</code> can be used to prevent the creation
      of zombies (see <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a>). Nevertheless, the
      historical BSD and System V behaviors for ignoring
      <code class="constant">SIGCHLD</code> differ, so that the
      only completely portable method of ensuring that terminated
      children do not become zombies is to catch the <code class="constant">SIGCHLD</code> signal and perform a <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a> or similar.</p>
      <p>POSIX.1-1990 specified only <code class="constant">SA_NOCLDSTOP</code>. POSIX.1-2001 added
      <code class="constant">SA_NOCLDSTOP</code>, <code class="constant">SA_NOCLDWAIT</code>, <code class="constant">SA_NODEFER</code>, <code class="constant">SA_ONSTACK</code>, <code class="constant">SA_RESETHAND</code>, <code class="constant">SA_RESTART</code>, and <code class="constant">SA_SIGINFO</code>. Use of these latter values in
      <em class="parameter"><code>sa_flags</code></em> may be less
      portable in applications intended for older UNIX
      implementations.</p>
      <p>The <code class="constant">SA_RESETHAND</code> flag is
      compatible with the SVr4 flag of the same name.</p>
      <p>The <code class="constant">SA_NODEFER</code> flag is
      compatible with the SVr4 flag of the same name under kernels
      1.3.9 and later. On older kernels the Linux implementation
      allowed the receipt of any signal, not just the one we are
      installing (effectively overriding any <em class="parameter"><code>sa_mask</code></em> settings).</p>
      <p><code class="function">sigaction</code>() can be called
      with a NULL second argument to query the current signal
      handler. It can also be used to check whether a given signal
      is valid for the current machine by calling it with NULL
      second and third arguments.</p>
      <p>It is not possible to block <code class="constant">SIGKILL</code> or <code class="constant">SIGSTOP</code> (by specifying them in <em class="parameter"><code>sa_mask</code></em>). Attempts to do so are
      silently ignored.</p>
      <p>See <a class="link" href="../htmlman3/sigsetops.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigsetops</span>(3)</span></a> for details on
      manipulating signal sets.</p>
      <p>See <a class="link" href="../htmlman7/signal-safety.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal-safety</span>(7)</span></a> for a list
      of the async-signal-safe functions that can be safely called
      inside from inside a signal handler.</p>
      <div class="refsect2">
        <a id="sigaction-2_sect8" name="sigaction-2_sect8" shape="rect"> </a>
        <h3>C library/kernel differences</h3>
        <p>The glibc wrapper function for <code class="function">sigaction</code>() gives an error (<span class="errorname">EINVAL</span>) on attempts to change the
        disposition of the two real-time signals used internally by
        the NPTL threading implementation. See <a class="link" href="../htmlman7/nptl.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">nptl</span>(7)</span></a> for details.</p>
        <p>On architectures where the signal trampoline resides in
        the C library, the glibc wrapper function for <code class="function">sigaction</code>() places the address of the
        trampoline code in the <em class="replaceable"><code>act.sa_restorer</code></em> field and
        sets the <code class="constant">SA_RESTORER</code> flag in
        the <em class="replaceable"><code>act.sa_flags</code></em>
        field. See <a class="link" href="../htmlman2/sigreturn.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigreturn</span>(2)</span></a>.</p>
        <p>The original Linux system call was named <code class="function">sigaction</code>(). However, with the addition
        of real-time signals in Linux 2.2, the fixed-size, 32-bit
        <span class="type">sigset_t</span> type supported by that
        system call was no longer fit for purpose. Consequently, a
        new system call, <code class="function">rt_sigaction</code>(), was added to support an
        enlarged <span class="type">sigset_t</span> type. The new
        system call takes a fourth argument, <span class="emphasis"><em>size_t sigsetsize</em></span>, which
        specifies the size in bytes of the signal sets in
        <em class="replaceable"><code>act.sa_mask</code></em> and
        <em class="replaceable"><code>oldact.sa_mask</code></em>.
        This argument is currently required to have the value
        <em class="replaceable"><code>sizeof(sigset_t)</code></em>
        (or the error <span class="errorname">EINVAL</span>
        results). The glibc <code class="function">sigaction</code>() wrapper function hides these
        details from us, transparently calling <code class="function">rt_sigaction</code>() when the kernel provides
        it.</p>
      </div>
      <div class="refsect2">
        <a id="sigaction-2_sect9" name="sigaction-2_sect9" shape="rect"> </a>
        <h3>Undocumented</h3>
        <p>Before the introduction of <code class="constant">SA_SIGINFO</code>, it was also possible to get
        some additional information about the signal. This was done
        by providing an <em class="parameter"><code>sa_handler</code></em> signal handler
        with a second argument of type <span class="emphasis"><em>struct sigcontext</em></span>, which is the
        same structure as the one that is passed in the <em class="replaceable"><code>uc_mcontext</code></em> field of the
        <em class="replaceable"><code>ucontext</code></em>
        structure that is passed (via a pointer) in the third
        argument of the <em class="parameter"><code>sa_sigaction</code></em> handler. See the
        relevant Linux kernel sources for details. This use is
        obsolete now.</p>
      </div>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect10" name="sigaction-2_sect10" shape="rect"> </a>
      <h2>BUGS</h2>
      <p>When delivering a signal with a <code class="constant">SA_SIGINFO</code> handler, the kernel does not
      always provide meaningful values for all of the fields of the
      <span class="type">siginfo_t</span> that are relevant for
      that signal.</p>
      <p>In kernels up to and including 2.6.13, specifying
      <code class="constant">SA_NODEFER</code> in <em class="parameter"><code>sa_flags</code></em> prevents not only the
      delivered signal from being masked during execution of the
      handler, but also the signals specified in <em class="parameter"><code>sa_mask</code></em>. This bug was fixed in
      kernel 2.6.14.</p>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect11" name="sigaction-2_sect11" shape="rect"> </a>
      <h2>EXAMPLES</h2>
      <p>See <a class="link" href="../htmlman2/mprotect.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mprotect</span>(2)</span></a>.</p>
    </div>
    <div class="refsect1">
      <a id="sigaction-2_sect12" name="sigaction-2_sect12" shape="rect"> </a>
      <h2>SEE ALSO</h2>
      <p><a class="link" href="../htmlman1/kill.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span></a>, <a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a>, <a class="link" href="../htmlman2/pause.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pause</span>(2)</span></a>, <a class="link" href="../htmlman2/pidfd_send_signal.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pidfd_send_signal</span>(2)</span></a>,
      <a class="link" href="../htmlman2/restart_syscall.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">restart_syscall</span>(2)</span></a>,
      <a class="link" href="../htmlman2/seccomp.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">seccomp</span>(2)</span></a>, <a class="link" href="../htmlman2/sigaltstack.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigaltstack</span>(2)</span></a>, <a class="link" href="../htmlman2/signal.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(2)</span></a>, <a class="link" href="../htmlman2/signalfd.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signalfd</span>(2)</span></a>, <a class="link" href="../htmlman2/sigpending.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigpending</span>(2)</span></a>, <a class="link" href="../htmlman2/sigprocmask.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigprocmask</span>(2)</span></a>, <a class="link" href="../htmlman2/sigreturn.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigreturn</span>(2)</span></a>, <a class="link" href="../htmlman2/sigsuspend.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigsuspend</span>(2)</span></a>, <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a>, <a class="link" href="../htmlman3/killpg.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">killpg</span>(3)</span></a>, <a class="link" href="../htmlman3/raise.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">raise</span>(3)</span></a>, <a class="link" href="../htmlman3/siginterrupt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">siginterrupt</span>(3)</span></a>, <a class="link" href="../htmlman3/sigqueue.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(3)</span></a>, <a class="link" href="../htmlman3/sigsetops.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigsetops</span>(3)</span></a>, <a class="link" href="../htmlman3/sigvec.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigvec</span>(3)</span></a>, <a class="link" href="../htmlman5/core.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">core</span>(5)</span></a>, <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a></p>
    </div>
    <div class="colophon">
      <a id="sigaction-2_sect13" name="sigaction-2_sect13" shape="rect"> </a>
      <h2>COLOPHON</h2>
      <p>This page is part of release 5.11 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      https://www.kernel.org/doc/man−pages/.</p>
      <div class="license">
        <table class="license" style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>
          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright (c) 1994,1995 Mike Battersby &lt;mib<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>deakin.edu.au&gt;<br />

                  and Copyright 2004, 2005 Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  based on work by faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu<br />

                  <br />
                  %%%LICENSE_START(VERBATIM)<br />
                  Permission is granted to make and distribute verbatim copies of this<br />

                  manual provided the copyright notice and this permission notice are<br />

                  preserved on all copies.<br />
                  <br />
                  Permission is granted to copy and distribute modified versions of this<br />

                  manual under the conditions for verbatim copying, provided that the<br />

                  entire resulting derived work is distributed under the terms of a<br />

                  permission notice identical to this one.<br />

                  <br />
                  Since the Linux kernel and libraries are constantly changing, this<br />

                  manual page may be incorrect or out-of-date.  The author(s) assume no<br />

                  responsibility for errors or omissions, or for damages resulting from<br />

                  the use of the information contained herein.  The author(s) may not<br />

                  have taken the same level of care in the production of this manual,<br />

                  which is licensed free of charge, as they might when working<br />

                  professionally.<br />
                  <br />
                  Formatted or processed versions of this manual, if unaccompanied by<br />

                  the source, must acknowledge the copyright and authors of this work.<br />

                  %%%LICENSE_END<br />
                  <br />
                  Modified, aeb, 960424<br />
                  Modified Fri Jan 31 17:31:20 1997 by Eric S. Raymond &lt;esr<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>thyrsus.com&gt;<br />

                  Modified Thu Nov 26 02:12:45 1998 by aeb - add SIGCHLD stuff.<br />

                  Modified Sat May  8 17:40:19 1999 by Matthew Wilcox<br />

                  add POSIX.1b signals<br />
                  Modified Sat Dec 29 01:44:52 2001 by Evan Jones &lt;ejones<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>uwaterloo.ca&gt;<br />

                  SA_ONSTACK<br />
                  Modified 2004-11-11 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  Added mention of SIGCONT under SA_NOCLDSTOP<br />

                  Added SA_NOCLDWAIT<br />
                  Modified 2004-11-17 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  Updated discussion for POSIX.1-2001 and SIGCHLD and sa_flags.<br />

                  Formatting fixes<br />
                  2004-12-09, mtk, added SI_TKILL + other minor changes<br />

                  2005-09-15, mtk, split sigpending(), sigprocmask(), sigsuspend()<br />

                  out of this page into separate pages.<br />

                  2010-06-11 Andi Kleen, add hwpoison signal extensions<br />

                  2010-06-11 mtk, improvements to discussion of various siginfo_t fields.<br />

                  2015-01-17, Kees Cook &lt;keescook<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>chromium.org&gt;<br />

                  Added notes on ptrace SIGTRAP and SYS_SECCOMP.<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
