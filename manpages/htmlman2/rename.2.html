<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>rename(2) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="rename(2) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve"> </script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>
<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>
          <th rowspan="1" colspan="1"><a href="../index2.html" shape="rect">Section 2</a></th>
          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>
  <div class="refentry">
    <a id="rename.2" name="rename.2" shape="rect"> </a>
    <div class="titlepage"> </div>
    <div class="refnamediv">
      <h2>Name</h2>
      <p>rename, renameat, renameat2 — change the name or
      location of a file</p>
    </div>
    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>
      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">#include &lt;stdio.h&gt;</pre>
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>rename</strong>(</code></td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">oldpath</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">newpath</var><code>)</code>;</td>
          </tr>
        </table>
        <div class="funcprototype-spacer">
           
        </div>
      </div>
      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">

#include &lt;fcntl.h&gt;            /* Definition of AT_* constants */
#include &lt;stdio.h&gt;</pre>
      </div>
      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>renameat</strong>(</code></td>
            <td rowspan="1" colspan="1">int <var class="pdparam">olddirfd</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">oldpath</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">int <var class="pdparam">newdirfd</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">newpath</var><code>)</code>;</td>
          </tr>
        </table>
        <div class="funcprototype-spacer">
           
        </div>
      </div>
      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>renameat2</strong>(</code></td>
            <td rowspan="1" colspan="1">int <var class="pdparam">olddirfd</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">oldpath</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">int <var class="pdparam">newdirfd</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">newpath</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">unsigned int <var class="pdparam">flags</var><code>)</code>;</td>
          </tr>
        </table>
        <div class="funcprototype-spacer">
           
        </div>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25" colspan="1">
            <img alt="[Note]" src="../stylesheet/note.png" /></td>
            <th align="left" rowspan="1" colspan="1">Note</th>
          </tr>
          <tr>
            <td align="left" valign="top" rowspan="1" colspan="1">
              <div class="featuretests">
                <table class="featuretests" style="border-collapse: collapse;">
                  <colgroup span="1">
                    <col span="1" />
                  </colgroup>
                  <thead>
                    <tr>
                      <th style="" rowspan="1" colspan="1">Feature Test Macro Requirements
                      for glibc (see <a class="link" href="../htmlman7/feature_test_macros.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">feature_test_macros</span>(7)</span></a>):</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">renameat</code>():</td>
                    </tr>
                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">Since
                      glibc 2.10:</td>
                    </tr>
                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_POSIX_C_SOURCE</code>
                      &gt;= 200809L Before glibc 2.10:</td>
                    </tr>
                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_ATFILE_SOURCE</code>
                      <code class="function">renameat2</code>():</td>
                    </tr>
                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_GNU_SOURCE</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect1" name="rename-2_sect1" shape="rect"> </a>
      <h2>DESCRIPTION</h2>
      <p><code class="function">rename</code>() renames a file,
      moving it between directories if required. Any other hard
      links to the file (as created using <a class="link" href="../htmlman2/link.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">link</span>(2)</span></a>) are unaffected.
      Open file descriptors for <em class="parameter"><code>oldpath</code></em> are also
      unaffected.</p>
      <p>Various restrictions determine whether or not the rename
      operation succeeds: see ERRORS below.</p>
      <p>If <em class="parameter"><code>newpath</code></em> already
      exists, it will be atomically replaced, so that there is no
      point at which another process attempting to access
      <em class="parameter"><code>newpath</code></em> will find it
      missing. However, there will probably be a window in which
      both <em class="parameter"><code>oldpath</code></em> and
      <em class="parameter"><code>newpath</code></em> refer to the
      file being renamed.</p>
      <p>If <em class="parameter"><code>oldpath</code></em> and
      <em class="parameter"><code>newpath</code></em> are existing
      hard links referring to the same file, then <code class="function">rename</code>() does nothing, and returns a
      success status.</p>
      <p>If <em class="parameter"><code>newpath</code></em> exists
      but the operation fails for some reason, <code class="function">rename</code>() guarantees to leave an instance of
      <em class="parameter"><code>newpath</code></em> in place.</p>
      <p><em class="parameter"><code>oldpath</code></em> can
      specify a directory. In this case, <em class="parameter"><code>newpath</code></em> must either not exist,
      or it must specify an empty directory.</p>
      <p>If <em class="parameter"><code>oldpath</code></em> refers
      to a symbolic link, the link is renamed; if <em class="parameter"><code>newpath</code></em> refers to a symbolic
      link, the link will be overwritten.</p>
      <div class="refsect2">
        <a id="rename-2_sect2" name="rename-2_sect2" shape="rect"> </a>
        <h3>renameat()</h3>
        <p>The <code class="function">renameat</code>() system call
        operates in exactly the same way as <code class="function">rename</code>(), except for the differences
        described here.</p>
        <p>If the pathname given in <em class="parameter"><code>oldpath</code></em> is relative, then it
        is interpreted relative to the directory referred to by the
        file descriptor <em class="parameter"><code>olddirfd</code></em> (rather than
        relative to the current working directory of the calling
        process, as is done by <code class="function">rename</code>() for a relative pathname).</p>
        <p>If <em class="parameter"><code>oldpath</code></em> is
        relative and <em class="parameter"><code>olddirfd</code></em> is the special value
        <code class="constant">AT_FDCWD</code>, then <em class="parameter"><code>oldpath</code></em> is interpreted
        relative to the current working directory of the calling
        process (like <code class="function">rename</code>()).</p>
        <p>If <em class="parameter"><code>oldpath</code></em> is
        absolute, then <em class="parameter"><code>olddirfd</code></em> is ignored.</p>
        <p>The interpretation of <em class="parameter"><code>newpath</code></em> is as for <em class="parameter"><code>oldpath</code></em>, except that a
        relative pathname is interpreted relative to the directory
        referred to by the file descriptor <em class="parameter"><code>newdirfd</code></em>.</p>
        <p>See <a class="link" href="../htmlman2/open.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">openat</span>(2)</span></a> for an
        explanation of the need for <code class="function">renameat</code>().</p>
      </div>
      <div class="refsect2">
        <a id="rename-2_sect3" name="rename-2_sect3" shape="rect"> </a>
        <h3>renameat2()</h3>
        <p><code class="function">renameat2</code>() has an
        additional <em class="parameter"><code>flags</code></em>
        argument. A <code class="function">renameat2</code>() call
        with a zero <em class="parameter"><code>flags</code></em>
        argument is equivalent to <code class="function">renameat</code>().</p>
        <p>The <em class="parameter"><code>flags</code></em>
        argument is a bit mask consisting of zero or more of the
        following flags:</p>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><code class="constant">RENAME_EXCHANGE</code></span></dt>
            <dd>
              <p>Atomically exchange <em class="parameter"><code>oldpath</code></em> and <em class="parameter"><code>newpath</code></em>. Both pathnames
              must exist but may be of different types (e.g., one
              could be a non-empty directory and the other a
              symbolic link).</p>
            </dd>
            <dt><span class="term"><code class="constant">RENAME_NOREPLACE</code></span></dt>
            <dd>
              <p>Don't overwrite <em class="parameter"><code>newpath</code></em> of the rename.
              Return an error if <em class="parameter"><code>newpath</code></em> already
              exists.</p>
              <p><code class="constant">RENAME_NOREPLACE</code>
              can't be employed together with <code class="constant">RENAME_EXCHANGE</code>.</p>
              <p><code class="constant">RENAME_NOREPLACE</code>
              requires support from the underlying filesystem.
              Support for various filesystems was added as
              follows:</p>
              <div class="blockquote">
                <blockquote class="blockquote">
                  <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc;">
                      <li class="listitem">
                        <p>ext4 (Linux 3.15);</p>
                      </li>
                      <li class="listitem">
                        <p>btrfs, tmpfs, and cifs (Linux 3.17);</p>
                      </li>
                      <li class="listitem">
                        <p>xfs (Linux 4.0);</p>
                      </li>
                      <li class="listitem">
                        <p>Support for many other filesystems was
                        added in Linux 4.9, including ext2, minix,
                        reiserfs, jfs, vfat, and bpf.</p>
                      </li>
                    </ul>
                  </div>
                </blockquote>
              </div>
            </dd>
            <dt><span class="term"><code class="constant">RENAME_WHITEOUT</code> (since Linux
            3.18)</span></dt>
            <dd>
              <p>This operation makes sense only for overlay/union
              filesystem implementations.</p>
              <p>Specifying <code class="constant">RENAME_WHITEOUT</code> creates a
              "whiteout" object at the source of the rename at the
              same time as performing the rename. The whole
              operation is atomic, so that if the rename succeeds
              then the whiteout will also have been created.</p>
              <p>A "whiteout" is an object that has special meaning
              in union/overlay filesystem constructs. In these
              constructs, multiple layers exist and only the top
              one is ever modified. A whiteout on an upper layer
              will effectively hide a matching file in the lower
              layer, making it appear as if the file didn't
              exist.</p>
              <p>When a file that exists on the lower layer is
              renamed, the file is first copied up (if not already
              on the upper layer) and then renamed on the upper,
              read-write layer. At the same time, the source file
              needs to be "whiteouted" (so that the version of the
              source file in the lower layer is rendered
              invisible). The whole operation needs to be done
              atomically.</p>
              <p>When not part of a union/overlay, the whiteout
              appears as a character device with a {0,0} device
              number. (Note that other union/overlay
              implementations may employ different methods for
              storing whiteout entries; specifically, BSD union
              mount employs a separate inode type, <code class="constant">DT_WHT</code>, which, while supported by
              some filesystems available in Linux, such as CODA and
              XFS, is ignored by the kernel's whiteout support
              code, as of Linux 4.19, at least.)</p>
              <p><code class="constant">RENAME_WHITEOUT</code>
              requires the same privileges as creating a device
              node (i.e., the <code class="constant">CAP_MKNOD</code> capability).</p>
              <p><code class="constant">RENAME_WHITEOUT</code>
              can't be employed together with <code class="constant">RENAME_EXCHANGE</code>.</p>
              <p><code class="constant">RENAME_WHITEOUT</code>
              requires support from the underlying filesystem.
              Among the filesystems that support it are tmpfs
              (since Linux 3.18), ext4 (since Linux 3.18), XFS
              (since Linux 4.1), f2fs (since Linux 4.2), btrfs
              (since Linux 4.7), and ubifs (since Linux 4.9).</p>
            </dd>
          </dl>
        </div>
      </div>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect4" name="rename-2_sect4" shape="rect"> </a>
      <h2>RETURN VALUE</h2>
      <p>On success, zero is returned. On error, −1 is
      returned, and <code class="varname">errno</code> is set to
      indicate the error.</p>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect5" name="rename-2_sect5" shape="rect"> </a>
      <h2>ERRORS</h2>
      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="errorname">EACCES</span></span></dt>
          <dd>
            <p>Write permission is denied for the directory
            containing <em class="parameter"><code>oldpath</code></em> or <em class="parameter"><code>newpath</code></em>, or, search
            permission is denied for one of the directories in the
            path prefix of <em class="parameter"><code>oldpath</code></em> or <em class="parameter"><code>newpath</code></em>, or <em class="parameter"><code>oldpath</code></em> is a directory
            and does not allow write permission (needed to update
            the <code class="filename">..</code> entry). (See also
            <a class="link" href="../htmlman7/path_resolution.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">path_resolution</span>(7)</span></a>.)</p>
          </dd>
          <dt><span class="term"><span class="errorname">EBUSY</span></span></dt>
          <dd>
            <p>The rename fails because <em class="parameter"><code>oldpath</code></em> or <em class="parameter"><code>newpath</code></em> is a directory
            that is in use by some process (perhaps as current
            working directory, or as root directory, or because it
            was open for reading) or is in use by the system (for
            example as mount point), while the system considers
            this an error. (Note that there is no requirement to
            return <span class="errorname">EBUSY</span> in such
            cases—there is nothing wrong with doing the
            rename anyway—but it is allowed to return
            <span class="errorname">EBUSY</span> if the system
            cannot otherwise handle such situations.)</p>
          </dd>
          <dt><span class="term"><span class="errorname">EDQUOT</span></span></dt>
          <dd>
            <p>The user's quota of disk blocks on the filesystem
            has been exhausted.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EFAULT</span></span></dt>
          <dd>
            <p><em class="parameter"><code>oldpath</code></em> or
            <em class="parameter"><code>newpath</code></em> points
            outside your accessible address space.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>The new pathname contained a path prefix of the old,
            or, more generally, an attempt was made to make a
            directory a subdirectory of itself.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EISDIR</span></span></dt>
          <dd>
            <p><em class="parameter"><code>newpath</code></em> is
            an existing directory, but <em class="parameter"><code>oldpath</code></em> is not a
            directory.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ELOOP</span></span></dt>
          <dd>
            <p>Too many symbolic links were encountered in
            resolving <em class="parameter"><code>oldpath</code></em> or <em class="parameter"><code>newpath</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EMLINK</span></span></dt>
          <dd>
            <p><em class="parameter"><code>oldpath</code></em>
            already has the maximum number of links to it, or it
            was a directory and the directory containing <em class="parameter"><code>newpath</code></em> has the maximum
            number of links.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENAMETOOLONG</span></span></dt>
          <dd>
            <p><em class="parameter"><code>oldpath</code></em> or
            <em class="parameter"><code>newpath</code></em> was too
            long.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOENT</span></span></dt>
          <dd>
            <p>The link named by <em class="parameter"><code>oldpath</code></em> does not exist;
            or, a directory component in <em class="parameter"><code>newpath</code></em> does not exist;
            or, <em class="parameter"><code>oldpath</code></em> or
            <em class="parameter"><code>newpath</code></em> is an
            empty string.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOMEM</span></span></dt>
          <dd>
            <p>Insufficient kernel memory was available.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOSPC</span></span></dt>
          <dd>
            <p>The device containing the file has no room for the
            new directory entry.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOTDIR</span></span></dt>
          <dd>
            <p>A component used as a directory in <em class="parameter"><code>oldpath</code></em> or <em class="parameter"><code>newpath</code></em> is not, in fact,
            a directory. Or, <em class="parameter"><code>oldpath</code></em> is a directory,
            and <em class="parameter"><code>newpath</code></em>
            exists but is not a directory.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOTEMPTY</span> or <span class="errorname">EEXIST</span></span></dt>
          <dd>
            <p><em class="parameter"><code>newpath</code></em> is a
            nonempty directory, that is, contains entries other
            than "." and "..".</p>
          </dd>
          <dt><span class="term"><span class="errorname">EPERM</span> or <span class="errorname">EACCES</span></span></dt>
          <dd>
            <p>The directory containing <em class="parameter"><code>oldpath</code></em> has the sticky
            bit (<code class="constant">S_ISVTX</code>) set and the
            process's effective user ID is neither the user ID of
            the file to be deleted nor that of the directory
            containing it, and the process is not privileged
            (Linux: does not have the <code class="constant">CAP_FOWNER</code> capability); or <em class="parameter"><code>newpath</code></em> is an existing
            file and the directory containing it has the sticky bit
            set and the process's effective user ID is neither the
            user ID of the file to be replaced nor that of the
            directory containing it, and the process is not
            privileged (Linux: does not have the <code class="constant">CAP_FOWNER</code> capability); or the
            filesystem containing <em class="replaceable"><code>pathname</code></em> does not
            support renaming of the type requested.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EROFS</span></span></dt>
          <dd>
            <p>The file is on a read-only filesystem.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EXDEV</span></span></dt>
          <dd>
            <p><em class="parameter"><code>oldpath</code></em> and
            <em class="parameter"><code>newpath</code></em> are not
            on the same mounted filesystem. (Linux permits a
            filesystem to be mounted at multiple points, but
            <code class="function">rename</code>() does not work
            across different mount points, even if the same
            filesystem is mounted on both.)</p>
          </dd>
        </dl>
      </div>
      <p>The following additional errors can occur for <code class="function">renameat</code>() and <code class="function">renameat2</code>():</p>
      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="errorname">EBADF</span></span></dt>
          <dd>
            <p><em class="parameter"><code>olddirfd</code></em> or
            <em class="parameter"><code>newdirfd</code></em> is not
            a valid file descriptor.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOTDIR</span></span></dt>
          <dd>
            <p><em class="parameter"><code>oldpath</code></em> is
            relative and <em class="parameter"><code>olddirfd</code></em> is a file
            descriptor referring to a file other than a directory;
            or similar for <em class="parameter"><code>newpath</code></em> and <em class="parameter"><code>newdirfd</code></em></p>
          </dd>
        </dl>
      </div>
      <p>The following additional errors can occur for <code class="function">renameat2</code>():</p>
      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="errorname">EEXIST</span></span></dt>
          <dd>
            <p><em class="parameter"><code>flags</code></em>
            contains <code class="constant">RENAME_NOREPLACE</code>
            and <em class="parameter"><code>newpath</code></em>
            already exists.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>An invalid flag was specified in <em class="parameter"><code>flags</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>Both <code class="constant">RENAME_NOREPLACE</code>
            and <code class="constant">RENAME_EXCHANGE</code> were
            specified in <em class="parameter"><code>flags</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>Both <code class="constant">RENAME_WHITEOUT</code>
            and <code class="constant">RENAME_EXCHANGE</code> were
            specified in <em class="parameter"><code>flags</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>The filesystem does not support one of the flags in
            <em class="parameter"><code>flags</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOENT</span></span></dt>
          <dd>
            <p><em class="parameter"><code>flags</code></em>
            contains <code class="constant">RENAME_EXCHANGE</code>
            and <em class="parameter"><code>newpath</code></em>
            does not exist.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EPERM</span></span></dt>
          <dd>
            <p><code class="constant">RENAME_WHITEOUT</code> was
            specified in <em class="parameter"><code>flags</code></em>, but the caller
            does not have the <code class="constant">CAP_MKNOD</code> capability.</p>
          </dd>
        </dl>
      </div>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect6" name="rename-2_sect6" shape="rect"> </a>
      <h2>VERSIONS</h2>
      <p><code class="function">renameat</code>() was added to
      Linux in kernel 2.6.16; library support was added to glibc in
      version 2.4.</p>
      <p><code class="function">renameat2</code>() was added to
      Linux in kernel 3.15; library support was added in glibc
      2.28.</p>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect7" name="rename-2_sect7" shape="rect"> </a>
      <h2>CONFORMING TO</h2>
      <p><code class="function">rename</code>(): 4.3BSD, C89, C99,
      POSIX.1-2001, POSIX.1-2008.</p>
      <p><code class="function">renameat</code>():
      POSIX.1-2008.</p>
      <p><code class="function">renameat2</code>() is
      Linux-specific.</p>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect8" name="rename-2_sect8" shape="rect"> </a>
      <h2>NOTES</h2>
      <div class="refsect2">
        <a id="rename-2_sect9" name="rename-2_sect9" shape="rect"> </a>
        <h3>Glibc notes</h3>
        <p>On older kernels where <code class="function">renameat</code>() is unavailable, the glibc
        wrapper function falls back to the use of <code class="function">rename</code>(). When <em class="parameter"><code>oldpath</code></em> and <em class="parameter"><code>newpath</code></em> are relative
        pathnames, glibc constructs pathnames based on the symbolic
        links in <code class="filename">/proc/self/fd</code> that
        correspond to the <em class="parameter"><code>olddirfd</code></em> and <em class="parameter"><code>newdirfd</code></em> arguments.</p>
      </div>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect10" name="rename-2_sect10" shape="rect"> </a>
      <h2>BUGS</h2>
      <p>On NFS filesystems, you can not assume that if the
      operation failed, the file was not renamed. If the server
      does the rename operation and then crashes, the retransmitted
      RPC which will be processed when the server is up again
      causes a failure. The application is expected to deal with
      this. See <a class="link" href="../htmlman2/link.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">link</span>(2)</span></a> for a similar
      problem.</p>
    </div>
    <div class="refsect1">
      <a id="rename-2_sect11" name="rename-2_sect11" shape="rect"> </a>
      <h2>SEE ALSO</h2>
      <p><a class="link" href="../htmlman1/mv.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mv</span>(1)</span></a>, <a class="link" href="../htmlman1/rename.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">rename</span>(1)</span></a>, <a class="link" href="../htmlman2/chmod.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">chmod</span>(2)</span></a>, <a class="link" href="../htmlman2/link.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">link</span>(2)</span></a>, <a class="link" href="../htmlman2/symlink.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">symlink</span>(2)</span></a>, <a class="link" href="../htmlman2/unlink.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">unlink</span>(2)</span></a>, <a class="link" href="../htmlman7/path_resolution.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">path_resolution</span>(7)</span></a>,
      <a class="link" href="../htmlman7/symlink.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">symlink</span>(7)</span></a></p>
    </div>
    <div class="colophon">
      <a id="rename-2_sect12" name="rename-2_sect12" shape="rect"> </a>
      <h2>COLOPHON</h2>
      <p>This page is part of release 5.11 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      https://www.kernel.org/doc/man−pages/.</p>
      <div class="license">
        <table class="license" style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>
          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    This manpage is Copyright (C) 1992 Drew Eckhardt;<br />

                              and Copyright (C) 1993 Michael Haardt;<br />

                              and Copyright (C) 1993,1995 Ian Jackson<br />

                  and Copyright (C) 2006, 2014 Michael Kerrisk<br />

                  <br />
                  %%%LICENSE_START(VERBATIM)<br />
                  Permission is granted to make and distribute verbatim copies of this<br />

                  manual provided the copyright notice and this permission notice are<br />

                  preserved on all copies.<br />
                  <br />
                  Permission is granted to copy and distribute modified versions of this<br />

                  manual under the conditions for verbatim copying, provided that the<br />

                  entire resulting derived work is distributed under the terms of a<br />

                  permission notice identical to this one.<br />

                  <br />
                  Since the Linux kernel and libraries are constantly changing, this<br />

                  manual page may be incorrect or out-of-date.  The author(s) assume no<br />

                  responsibility for errors or omissions, or for damages resulting from<br />

                  the use of the information contained herein.  The author(s) may not<br />

                  have taken the same level of care in the production of this manual,<br />

                  which is licensed free of charge, as they might when working<br />

                  professionally.<br />
                  <br />
                  Formatted or processed versions of this manual, if unaccompanied by<br />

                  the source, must acknowledge the copyright and authors of this work.<br />

                  %%%LICENSE_END<br />
                  <br />
                  Modified Sat Jul 24 00:35:52 1993 by Rik Faith &lt;faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu&gt;<br />

                  Modified Thu Jun  4 12:21:13 1998 by Andries Brouwer &lt;aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl&gt;<br />

                  Modified Thu Mar  3 09:49:35 2005 by Michael Haardt &lt;michael<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>moria.de&gt;<br />

                  2007-03-25, mtk, added various text to DESCRIPTION.<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
