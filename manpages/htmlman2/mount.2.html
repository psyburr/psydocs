<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>mount(2) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="mount(2) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve"> </script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>
<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>
          <th rowspan="1" colspan="1"><a href="../index2.html" shape="rect">Section 2</a></th>
          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>
  <div class="refentry">
    <a id="mount.2" name="mount.2" shape="rect"> </a>
    <div class="titlepage"> </div>
    <div class="refnamediv">
      <h2>Name</h2>
      <p>mount — mount filesystem</p>
    </div>
    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>
      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">#include &lt;sys/mount.h&gt;</pre>
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>mount</strong>(</code></td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">source</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">target</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const char *<var class="pdparam">filesystemtype</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">unsigned long <var class="pdparam">mountflags</var>,</td>
          </tr>
          <tr>
            <td rowspan="1" colspan="1"> </td>
            <td rowspan="1" colspan="1">const void *<var class="pdparam">data</var><code>)</code>;</td>
          </tr>
        </table>
        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>
    <div class="refsect1">
      <a id="mount-2_sect1" name="mount-2_sect1" shape="rect"> </a>
      <h2>DESCRIPTION</h2>
      <p><code class="function">mount</code>() attaches the
      filesystem specified by <em class="parameter"><code>source</code></em> (which is often a
      pathname referring to a device, but can also be the pathname
      of a directory or file, or a dummy string) to the location (a
      directory or file) specified by the pathname in <em class="parameter"><code>target</code></em>.</p>
      <p>Appropriate privilege (Linux: the <code class="constant">CAP_SYS_ADMIN</code> capability) is required to
      mount filesystems.</p>
      <p>Values for the <em class="parameter"><code>filesystemtype</code></em> argument
      supported by the kernel are listed in <code class="filename">/proc/filesystems</code> (e.g., "btrfs", "ext4",
      "jfs", "xfs", "vfat", "fuse", "tmpfs", "cgroup", "proc",
      "mqueue", "nfs", "cifs", "iso9660"). Further types may become
      available when the appropriate modules are loaded.</p>
      <p>The <em class="parameter"><code>data</code></em> argument
      is interpreted by the different filesystems. Typically it is
      a string of comma-separated options understood by this
      filesystem. See <a class="link" href="../htmlman8/mount.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> for details of the
      options available for each filesystem type. This argument may
      be specified as NULL, if there are no options.</p>
      <p>A call to <code class="function">mount</code>() performs
      one of a number of general types of operation, depending on
      the bits specified in <em class="parameter"><code>mountflags</code></em>. The choice of which
      operation to perform is determined by testing the bits set in
      <em class="parameter"><code>mountflags</code></em>, with the
      tests being conducted in the order listed here:</p>
      <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc;">
          <li class="listitem">
            <p>Remount an existing mount: <em class="parameter"><code>mountflags</code></em> includes
            <code class="constant">MS_REMOUNT</code>.</p>
          </li>
          <li class="listitem">
            <p>Create a bind mount: <em class="parameter"><code>mountflags</code></em> includes
            <code class="constant">MS_BIND</code>.</p>
          </li>
          <li class="listitem">
            <p>Change the propagation type of an existing mount:
            <em class="parameter"><code>mountflags</code></em>
            includes one of <code class="constant">MS_SHARED</code>, <code class="constant">MS_PRIVATE</code>, <code class="constant">MS_SLAVE</code>, or <code class="constant">MS_UNBINDABLE</code>.</p>
          </li>
          <li class="listitem">
            <p>Move an existing mount to a new location: <em class="parameter"><code>mountflags</code></em> includes
            <code class="constant">MS_MOVE</code>.</p>
          </li>
          <li class="listitem">
            <p>Create a new mount: <em class="parameter"><code>mountflags</code></em> includes none
            of the above flags.</p>
          </li>
        </ul>
      </div>
      <p>Each of these operations is detailed later in this page.
      Further flags may be specified in <em class="parameter"><code>mountflags</code></em> to modify the
      behavior of <code class="function">mount</code>(), as
      described below.</p>
      <div class="refsect2">
        <a id="mount-2_sect2" name="mount-2_sect2" shape="rect"> </a>
        <h3>Additional mount flags</h3>
        <p>The list below describes the additional flags that can
        be specified in <em class="parameter"><code>mountflags</code></em>. Note that some
        operation types ignore some or all of these flags, as
        described later in this page.</p>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><code class="constant">MS_DIRSYNC</code> (since Linux
            2.5.19)</span></dt>
            <dd>
              <p>Make directory changes on this filesystem
              synchronous. (This property can be obtained for
              individual directories or subtrees using <span class="citerefentry"><span class="refentrytitle">chattr</span>(1)</span>.)</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_LAZYTIME</code> (since Linux
            4.0)</span></dt>
            <dd>
              <p>Reduce on-disk updates of inode timestamps (atime,
              mtime, ctime) by maintaining these changes only in
              memory. The on-disk timestamps are updated only
              when:</p>
              <div class="blockquote">
                <blockquote class="blockquote">
                  <div class="variablelist">
                    <dl class="variablelist">
                      <dt><span class="term"><em class="replaceable"><code>(a)</code></em></span></dt>
                      <dd>
                        <p>the inode needs to be updated for some
                        change unrelated to file timestamps;</p>
                      </dd>
                      <dt><span class="term"><em class="replaceable"><code>(b)</code></em></span></dt>
                      <dd>
                        <p>the application employs <a class="link" href="../htmlman2/fsync.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fsync</span>(2)</span></a>,
                        <a class="link" href="../htmlman2/sync.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">syncfs</span>(2)</span></a>,
                        or <a class="link" href="../htmlman2/sync.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sync</span>(2)</span></a>;</p>
                      </dd>
                      <dt><span class="term"><em class="replaceable"><code>(c)</code></em></span></dt>
                      <dd>
                        <p>an undeleted inode is evicted from
                        memory; or</p>
                      </dd>
                      <dt><span class="term"><em class="replaceable"><code>(d)</code></em></span></dt>
                      <dd>
                        <p>more than 24 hours have passed since the
                        inode was written to disk.</p>
                      </dd>
                    </dl>
                  </div>
                </blockquote>
              </div>
              <p>This mount option significantly reduces writes
              needed to update the inode's timestamps, especially
              mtime and atime. However, in the event of a system
              crash, the atime and mtime fields on disk might be
              out of date by up to 24 hours.</p>
              <p>Examples of workloads where this option could be
              of significant benefit include frequent random writes
              to preallocated files, as well as cases where the
              <code class="constant">MS_STRICTATIME</code> mount
              option is also enabled. (The advantage of combining
              <code class="constant">MS_STRICTATIME</code> and
              <code class="constant">MS_LAZYTIME</code> is that
              <a class="link" href="../htmlman2/stat.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">stat</span>(2)</span></a> will return
              the correctly updated atime, but the atime updates
              will be flushed to disk only in the cases listed
              above.)</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_MANDLOCK</code></span></dt>
            <dd>
              <p>Permit mandatory locking on files in this
              filesystem. (Mandatory locking must still be enabled
              on a per-file basis, as described in <a class="link" href="../htmlman2/fcntl.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fcntl</span>(2)</span></a>.) Since
              Linux 4.5, this mount option requires the
              <code class="constant">CAP_SYS_ADMIN</code>
              capability and a kernel configured with the
              <code class="constant">CONFIG_MANDATORY_FILE_LOCKING</code>
              option.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_NOATIME</code></span></dt>
            <dd>
              <p>Do not update access times for (all types of)
              files on this filesystem.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_NODEV</code></span></dt>
            <dd>
              <p>Do not allow access to devices (special files) on
              this filesystem.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_NODIRATIME</code></span></dt>
            <dd>
              <p>Do not update access times for directories on this
              filesystem. This flag provides a subset of the
              functionality provided by <code class="constant">MS_NOATIME</code>; that is, <code class="constant">MS_NOATIME</code> implies <code class="constant">MS_NODIRATIME</code>.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_NOEXEC</code></span></dt>
            <dd>
              <p>Do not allow programs to be executed from this
              filesystem.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_NOSUID</code></span></dt>
            <dd>
              <p>Do not honor set-user-ID and set-group-ID bits or
              file capabilities when executing programs from this
              filesystem.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_RDONLY</code></span></dt>
            <dd>
              <p>Mount filesystem read-only.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_REC</code> (since Linux
            2.4.11)</span></dt>
            <dd>
              <p>Used in conjunction with <code class="constant">MS_BIND</code> to create a recursive bind
              mount, and in conjunction with the propagation type
              flags to recursively change the propagation type of
              all of the mounts in a subtree. See below for further
              details.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_RELATIME</code> (since Linux
            2.6.20)</span></dt>
            <dd>
              <p>When a file on this filesystem is accessed, update
              the file's last access time (atime) only if the
              current value of atime is less than or equal to the
              file's last modification time (mtime) or last status
              change time (ctime). This option is useful for
              programs, such as <span class="citerefentry"><span class="refentrytitle">mutt</span>(1)</span>, that need to
              know when a file has been read since it was last
              modified. Since Linux 2.6.30, the kernel defaults to
              the behavior provided by this flag (unless
              <code class="constant">MS_NOATIME</code> was
              specified), and the <code class="constant">MS_STRICTATIME</code> flag is required to
              obtain traditional semantics. In addition, since
              Linux 2.6.30, the file's last access time is always
              updated if it is more than 1 day old.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_SILENT</code> (since Linux
            2.6.17)</span></dt>
            <dd>
              <p>Suppress the display of certain (<code class="function">printk</code>()) warning messages in the
              kernel log. This flag supersedes the misnamed and
              obsolete <code class="constant">MS_VERBOSE</code>
              flag (available since Linux 2.4.12), which has the
              same meaning.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_STRICTATIME</code> (since Linux
            2.6.30)</span></dt>
            <dd>
              <p>Always update the last access time (atime) when
              files on this filesystem are accessed. (This was the
              default behavior before Linux 2.6.30.) Specifying
              this flag overrides the effect of setting the
              <code class="constant">MS_NOATIME</code> and
              <code class="constant">MS_RELATIME</code> flags.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_SYNCHRONOUS</code></span></dt>
            <dd>
              <p>Make writes on this filesystem synchronous (as
              though the <code class="constant">O_SYNC</code> flag
              to <a class="link" href="../htmlman2/open.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">open</span>(2)</span></a> was
              specified for all file opens to this filesystem).</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_NOSYMFOLLOW</code> (since Linux
            5.10)</span></dt>
            <dd>
              <p>Do not follow symbolic links when resolving paths.
              Symbolic links can still be created, and <a class="link" href="../htmlman1/readlink.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">readlink</span>(1)</span></a>,
              <a class="link" href="../htmlman2/readlink.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">readlink</span>(2)</span></a>,
              <a class="link" href="../htmlman1/realpath.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">realpath</span>(1)</span></a>, and
              <a class="link" href="../htmlman3/realpath.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">realpath</span>(3)</span></a> all
              still work properly.</p>
            </dd>
          </dl>
        </div>
        <p>From Linux 2.4 onward, some of the above flags are
        settable on a per-mount basis, while others apply to the
        superblock of the mounted filesystem, meaning that all
        mounts of the same filesystem share those flags.
        (Previously, all of the flags were per-superblock.)</p>
        <p>The per-mount-point flags are as follows:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc;">
            <li class="listitem">
              <p>Since Linux 2.4: <code class="constant">MS_NODEV</code>, <code class="constant">MS_NOEXEC</code>, and <code class="constant">MS_NOSUID</code> flags are settable on a
              per-mount-point basis.</p>
            </li>
            <li class="listitem">
              <p>Additionally, since Linux 2.6.16: <code class="constant">MS_NOATIME</code> and <code class="constant">MS_NODIRATIME</code>.</p>
            </li>
            <li class="listitem">
              <p>Additionally, since Linux 2.6.20: <code class="constant">MS_RELATIME</code>.</p>
            </li>
          </ul>
        </div>
        <p>The following flags are per-superblock: <code class="constant">MS_DIRSYNC</code>, <code class="constant">MS_LAZYTIME</code>, <code class="constant">MS_MANDLOCK</code>, <code class="constant">MS_SILENT</code>, and <code class="constant">MS_SYNCHRONOUS</code>. The initial settings of
        these flags are determined on the first mount of the
        filesystem, and will be shared by all subsequent mounts of
        the same filesystem. Subsequently, the settings of the
        flags can be changed via a remount operation (see below).
        Such changes will be visible via all mount points
        associated with the filesystem.</p>
        <p>Since Linux 2.6.16, <code class="constant">MS_RDONLY</code> can be set or cleared on a
        per-mount-point basis as well as on the underlying
        filesystem superblock. The mounted filesystem will be
        writable only if neither the filesystem nor the mountpoint
        are flagged as read-only.</p>
      </div>
      <div class="refsect2">
        <a id="mount-2_sect3" name="mount-2_sect3" shape="rect"> </a>
        <h3>Remounting an existing mount</h3>
        <p>An existing mount may be remounted by specifying
        <code class="constant">MS_REMOUNT</code> in <em class="parameter"><code>mountflags</code></em>. This allows you
        to change the <em class="parameter"><code>mountflags</code></em> and <em class="parameter"><code>data</code></em> of an existing mount
        without having to unmount and remount the filesystem.
        <em class="parameter"><code>target</code></em> should be
        the same value specified in the initial <code class="function">mount</code>() call.</p>
        <p>The <em class="parameter"><code>source</code></em> and
        <em class="parameter"><code>filesystemtype</code></em>
        arguments are ignored.</p>
        <p>The <em class="parameter"><code>mountflags</code></em>
        and <em class="parameter"><code>data</code></em> arguments
        should match the values used in the original <code class="function">mount</code>() call, except for those parameters
        that are being deliberately changed.</p>
        <p>The following <em class="parameter"><code>mountflags</code></em> can be changed:
        <code class="constant">MS_LAZYTIME</code>, <code class="constant">MS_MANDLOCK</code>, <code class="constant">MS_NOATIME</code>, <code class="constant">MS_NODEV</code>, <code class="constant">MS_NODIRATIME</code>, <code class="constant">MS_NOEXEC</code>, <code class="constant">MS_NOSUID</code>, <code class="constant">MS_RELATIME</code>, <code class="constant">MS_RDONLY</code>, <code class="constant">MS_STRICTATIME</code> (whose effect is to clear
        the <code class="constant">MS_NOATIME</code> and
        <code class="constant">MS_RELATIME</code> flags), and
        <code class="constant">MS_SYNCHRONOUS</code>. Attempts to
        change the setting of the <code class="constant">MS_DIRSYNC</code> and <code class="constant">MS_SILENT</code> flags during a remount are
        silently ignored. Note that changes to per-superblock flags
        are visible via all mount points of the associated
        filesystem (because the per-superblock flags are shared by
        all mount points).</p>
        <p>Since Linux 3.17, if none of <code class="constant">MS_NOATIME</code>, <code class="constant">MS_NODIRATIME</code>, <code class="constant">MS_RELATIME</code>, or <code class="constant">MS_STRICTATIME</code> is specified in <em class="parameter"><code>mountflags</code></em>, then the remount
        operation preserves the existing values of these flags
        (rather than defaulting to <code class="constant">MS_RELATIME</code>).</p>
        <p>Since Linux 2.6.26, the <code class="constant">MS_REMOUNT</code> flag can be used with
        <code class="constant">MS_BIND</code> to modify only the
        per-mount-point flags. This is particularly useful for
        setting or clearing the "read-only" flag on a mount point
        without changing the underlying filesystem. Specifying
        <em class="parameter"><code>mountflags</code></em> as:</p>
        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="informalexample">
              <pre class="programlisting" xml:space="preserve">
MS_REMOUNT | MS_BIND | MS_RDONLY
</pre>
            </div>
          </blockquote>
        </div>
        <p>will make access through this mountpoint read-only,
        without affecting other mount points.</p>
      </div>
      <div class="refsect2">
        <a id="mount-2_sect4" name="mount-2_sect4" shape="rect"> </a>
        <h3>Creating a bind mount</h3>
        <p>If <em class="parameter"><code>mountflags</code></em>
        includes <code class="constant">MS_BIND</code> (available
        since Linux 2.4), then perform a bind mount. A bind mount
        makes a file or a directory subtree visible at another
        point within the single directory hierarchy. Bind mounts
        may cross filesystem boundaries and span <a class="link" href="../htmlman2/chroot.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> jails.</p>
        <p>The <em class="parameter"><code>filesystemtype</code></em> and <em class="parameter"><code>data</code></em> arguments are
        ignored.</p>
        <p>The remaining bits (other than <code class="constant">MS_REC</code>, described below) in the
        <em class="parameter"><code>mountflags</code></em> argument
        are also ignored. (The bind mount has the same mount
        options as the underlying mount point.) However, see the
        discussion of remounting above, for a method of making an
        existing bind mount read-only.</p>
        <p>By default, when a directory is bind mounted, only that
        directory is mounted; if there are any submounts under the
        directory tree, they are not bind mounted. If the
        <code class="constant">MS_REC</code> flag is also
        specified, then a recursive bind mount operation is
        performed: all submounts under the <em class="parameter"><code>source</code></em> subtree (other than
        unbindable mounts) are also bind mounted at the
        corresponding location in the <em class="parameter"><code>target</code></em> subtree.</p>
      </div>
      <div class="refsect2">
        <a id="mount-2_sect5" name="mount-2_sect5" shape="rect"> </a>
        <h3>Changing the propagation type of an existing mount</h3>
        <p>If <em class="parameter"><code>mountflags</code></em>
        includes one of <code class="constant">MS_SHARED</code>,
        <code class="constant">MS_PRIVATE</code>, <code class="constant">MS_SLAVE</code>, or <code class="constant">MS_UNBINDABLE</code> (all available since Linux
        2.6.15), then the propagation type of an existing mount is
        changed. If more than one of these flags is specified, an
        error results.</p>
        <p>The only other flags that can be specified while
        changing the propagation type are <code class="constant">MS_REC</code> (described below) and <code class="constant">MS_SILENT</code> (which is ignored).</p>
        <p>The <em class="parameter"><code>source</code></em>,
        <em class="parameter"><code>filesystemtype</code></em>, and
        <em class="parameter"><code>data</code></em> arguments are
        ignored.</p>
        <p>The meanings of the propagation type flags are as
        follows:</p>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><code class="constant">MS_SHARED</code></span></dt>
            <dd>
              <p>Make this mount point shared. Mount and unmount
              events immediately under this mount point will
              propagate to the other mount points that are members
              of this mount's peer group. Propagation here means
              that the same mount or unmount will automatically
              occur under all of the other mount points in the peer
              group. Conversely, mount and unmount events that take
              place under peer mount points will propagate to this
              mount point.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_PRIVATE</code></span></dt>
            <dd>
              <p>Make this mount point private. Mount and unmount
              events do not propagate into or out of this mount
              point.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_SLAVE</code></span></dt>
            <dd>
              <p>If this is a shared mount point that is a member
              of a peer group that contains other members, convert
              it to a slave mount. If this is a shared mount point
              that is a member of a peer group that contains no
              other members, convert it to a private mount.
              Otherwise, the propagation type of the mount point is
              left unchanged.</p>
              <p>When a mount point is a slave, mount and unmount
              events propagate into this mount point from the
              (master) shared peer group of which it was formerly a
              member. Mount and unmount events under this mount
              point do not propagate to any peer.</p>
              <p>A mount point can be the slave of another peer
              group while at the same time sharing mount and
              unmount events with a peer group of which it is a
              member.</p>
            </dd>
            <dt><span class="term"><code class="constant">MS_UNBINDABLE</code></span></dt>
            <dd>
              <p>Make this mount unbindable. This is like a private
              mount, and in addition this mount can't be bind
              mounted. When a recursive bind mount (<code class="function">mount</code>() with the <code class="constant">MS_BIND</code> and <code class="constant">MS_REC</code> flags) is performed on a
              directory subtree, any unbindable mounts within the
              subtree are automatically pruned (i.e., not
              replicated) when replicating that subtree to produce
              the target subtree.</p>
            </dd>
          </dl>
        </div>
        <p>By default, changing the propagation type affects only
        the <em class="parameter"><code>target</code></em> mount
        point. If the <code class="constant">MS_REC</code> flag is
        also specified in <em class="parameter"><code>mountflags</code></em>, then the
        propagation type of all mount points under <em class="parameter"><code>target</code></em> is also changed.</p>
        <p>For further details regarding mount propagation types
        (including the default propagation type assigned to new
        mounts), see <a class="link" href="../htmlman7/mount_namespaces.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mount_namespaces</span>(7)</span></a>.</p>
      </div>
      <div class="refsect2">
        <a id="mount-2_sect6" name="mount-2_sect6" shape="rect"> </a>
        <h3>Moving a mount</h3>
        <p>If <em class="parameter"><code>mountflags</code></em>
        contains the flag <code class="constant">MS_MOVE</code>
        (available since Linux 2.4.18), then move a subtree:
        <em class="parameter"><code>source</code></em> specifies an
        existing mount point and <em class="parameter"><code>target</code></em> specifies the new
        location to which that mount point is to be relocated. The
        move is atomic: at no point is the subtree unmounted.</p>
        <p>The remaining bits in the <em class="parameter"><code>mountflags</code></em> argument are
        ignored, as are the <em class="parameter"><code>filesystemtype</code></em> and <em class="parameter"><code>data</code></em> arguments.</p>
      </div>
      <div class="refsect2">
        <a id="mount-2_sect7" name="mount-2_sect7" shape="rect"> </a>
        <h3>Creating a new mount point</h3>
        <p>If none of <code class="constant">MS_REMOUNT</code>,
        <code class="constant">MS_BIND</code>, <code class="constant">MS_MOVE</code>, <code class="constant">MS_SHARED</code>, <code class="constant">MS_PRIVATE</code>, <code class="constant">MS_SLAVE</code>, or <code class="constant">MS_UNBINDABLE</code> is specified in <em class="parameter"><code>mountflags</code></em>, then <code class="function">mount</code>() performs its default action:
        creating a new mount point. <em class="parameter"><code>source</code></em> specifies the source
        for the new mount point, and <em class="parameter"><code>target</code></em> specifies the
        directory at which to create the mount point.</p>
        <p>The <em class="parameter"><code>filesystemtype</code></em> and <em class="parameter"><code>data</code></em> arguments are employed,
        and further bits may be specified in <em class="parameter"><code>mountflags</code></em> to modify the
        behavior of the call.</p>
      </div>
    </div>
    <div class="refsect1">
      <a id="mount-2_sect8" name="mount-2_sect8" shape="rect"> </a>
      <h2>RETURN VALUE</h2>
      <p>On success, zero is returned. On error, −1 is
      returned, and <code class="varname">errno</code> is set to
      indicate the error.</p>
    </div>
    <div class="refsect1">
      <a id="mount-2_sect9" name="mount-2_sect9" shape="rect"> </a>
      <h2>ERRORS</h2>
      <p>The error values given below result from filesystem type
      independent errors. Each filesystem type may have its own
      special errors and its own special behavior. See the Linux
      kernel source code for details.</p>
      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="errorname">EACCES</span></span></dt>
          <dd>
            <p>A component of a path was not searchable. (See also
            <a class="link" href="../htmlman7/path_resolution.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">path_resolution</span>(7)</span></a>.)</p>
          </dd>
          <dt><span class="term"><span class="errorname">EACCES</span></span></dt>
          <dd>
            <p>Mounting a read-only filesystem was attempted
            without giving the <code class="constant">MS_RDONLY</code> flag.</p>
            <p>The filesystem may be read-only for various reasons,
            including: it resides on a read-only optical disk; it
            is resides on a device with a physical switch that has
            been set to mark the device read-only; the filesystem
            implementation was compiled with read-only support; or
            errors were detected when initially mounting the
            filesystem, so that it was marked read-only and can't
            be remounted as read-write (until the errors are
            fixed).</p>
            <p>Some filesystems instead return the error
            <span class="errorname">EROFS</span> on an attempt to
            mount a read-only filesystem.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EACCES</span></span></dt>
          <dd>
            <p>The block device <em class="parameter"><code>source</code></em> is located on a
            filesystem mounted with the <code class="constant">MS_NODEV</code> option.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EBUSY</span></span></dt>
          <dd>
            <p>An attempt was made to stack a new mount directly on
            top of an existing mount point that was created in this
            mount namespace with the same <em class="parameter"><code>source</code></em> and <em class="parameter"><code>target</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EBUSY</span></span></dt>
          <dd>
            <p><em class="parameter"><code>source</code></em>
            cannot be remounted read-only, because it still holds
            files open for writing.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EFAULT</span></span></dt>
          <dd>
            <p>One of the pointer arguments points outside the user
            address space.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p><em class="parameter"><code>source</code></em> had
            an invalid superblock.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>A remount operation (<code class="constant">MS_REMOUNT</code>) was attempted, but
            <em class="parameter"><code>source</code></em> was not
            already mounted on <em class="parameter"><code>target</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>A move operation (<code class="constant">MS_MOVE</code>) was attempted, but the mount
            tree under <em class="parameter"><code>source</code></em> includes
            unbindable mounts and <em class="parameter"><code>target</code></em> is a mount point
            that has propagation type <code class="constant">MS_SHARED</code>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>A move operation (<code class="constant">MS_MOVE</code>) was attempted, but the
            parent mount of <em class="parameter"><code>source</code></em> mount has
            propagation type <code class="constant">MS_SHARED</code>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>A move operation (<code class="constant">MS_MOVE</code>) was attempted, but
            <em class="parameter"><code>source</code></em> was not
            a mount point, or was '/'.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>A bind operation (<code class="constant">MS_BIND</code>) was requested where
            <em class="parameter"><code>source</code></em> referred
            a mount namespace magic link (i.e., a <code class="filename">/proc/[pid]/ns/mnt</code> magic link or a
            bind mount to such a link) and the propagation type of
            the parent mount of <em class="parameter"><code>target</code></em> was <code class="constant">MS_SHARED</code>, but propagation of the
            requested bind mount could lead to a circular
            dependency that might prevent the mount namespace from
            ever being freed.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p><em class="parameter"><code>mountflags</code></em>
            includes more than one of <code class="constant">MS_SHARED</code>, <code class="constant">MS_PRIVATE</code>, <code class="constant">MS_SLAVE</code>, or <code class="constant">MS_UNBINDABLE</code>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p><em class="parameter"><code>mountflags</code></em>
            includes <code class="constant">MS_SHARED</code>,
            <code class="constant">MS_PRIVATE</code>, <code class="constant">MS_SLAVE</code>, or <code class="constant">MS_UNBINDABLE</code> and also includes a
            flag other than <code class="constant">MS_REC</code> or
            <code class="constant">MS_SILENT</code>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>An attempt was made to bind mount an unbindable
            mount.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>
          <dd>
            <p>In an unprivileged mount namespace (i.e., a mount
            namespace owned by a user namespace that was created by
            an unprivileged user), a bind mount operation
            (<code class="constant">MS_BIND</code>) was attempted
            without specifying (<code class="constant">MS_REC</code>), which would have revealed
            the filesystem tree underneath one of the submounts of
            the directory being bound.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ELOOP</span></span></dt>
          <dd>
            <p>Too many links encountered during pathname
            resolution.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ELOOP</span></span></dt>
          <dd>
            <p>A move operation was attempted, and <em class="parameter"><code>target</code></em> is a descendant of
            <em class="parameter"><code>source</code></em>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EMFILE</span></span></dt>
          <dd>
            <p>(In case no block device is required:) Table of
            dummy devices is full.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENAMETOOLONG</span></span></dt>
          <dd>
            <p>A pathname was longer than <code class="constant">MAXPATHLEN</code>.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENODEV</span></span></dt>
          <dd>
            <p><em class="parameter"><code>filesystemtype</code></em> not
            configured in the kernel.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOENT</span></span></dt>
          <dd>
            <p>A pathname was empty or had a nonexistent
            component.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOMEM</span></span></dt>
          <dd>
            <p>The kernel could not allocate a free page to copy
            filenames or data into.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOTBLK</span></span></dt>
          <dd>
            <p><em class="parameter"><code>source</code></em> is
            not a block device (and a device was required).</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENOTDIR</span></span></dt>
          <dd>
            <p><em class="parameter"><code>target</code></em>, or a
            prefix of <em class="parameter"><code>source</code></em>, is not a
            directory.</p>
          </dd>
          <dt><span class="term"><span class="errorname">ENXIO</span></span></dt>
          <dd>
            <p>The major number of the block device <em class="parameter"><code>source</code></em> is out of
            range.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EPERM</span></span></dt>
          <dd>
            <p>The caller does not have the required
            privileges.</p>
          </dd>
          <dt><span class="term"><span class="errorname">EROFS</span></span></dt>
          <dd>
            <p>Mounting a read-only filesystem was attempted
            without giving the <code class="constant">MS_RDONLY</code> flag. See <span class="errorname">EACCES</span>, above.</p>
          </dd>
        </dl>
      </div>
    </div>
    <div class="refsect1">
      <a id="mount-2_sect10" name="mount-2_sect10" shape="rect"> </a>
      <h2>VERSIONS</h2>
      <p>The definitions of <code class="constant">MS_DIRSYNC</code>, <code class="constant">MS_MOVE</code>, <code class="constant">MS_PRIVATE</code>, <code class="constant">MS_REC</code>, <code class="constant">MS_RELATIME</code>, <code class="constant">MS_SHARED</code>, <code class="constant">MS_SLAVE</code>, <code class="constant">MS_STRICTATIME</code>, and <code class="constant">MS_UNBINDABLE</code> were added to glibc headers
      in version 2.12.</p>
    </div>
    <div class="refsect1">
      <a id="mount-2_sect11" name="mount-2_sect11" shape="rect"> </a>
      <h2>CONFORMING TO</h2>
      <p>This function is Linux-specific and should not be used in
      programs intended to be portable.</p>
    </div>
    <div class="refsect1">
      <a id="mount-2_sect12" name="mount-2_sect12" shape="rect"> </a>
      <h2>NOTES</h2>
      <p>Since Linux 2.4 a single filesystem can be mounted at
      multiple mount points, and multiple mounts can be stacked on
      the same mount point.</p>
      <p>The <em class="parameter"><code>mountflags</code></em>
      argument may have the magic number 0xC0ED (<code class="constant">MS_MGC_VAL</code>) in the top 16 bits. (All of the
      other flags discussed in DESCRIPTION occupy the low order 16
      bits of <em class="parameter"><code>mountflags</code></em>.)
      Specifying <code class="constant">MS_MGC_VAL</code> was
      required in kernel versions prior to 2.4, but since Linux 2.4
      is no longer required and is ignored if specified.</p>
      <p>The original <code class="constant">MS_SYNC</code> flag
      was renamed <code class="constant">MS_SYNCHRONOUS</code> in
      1.1.69 when a different <code class="constant">MS_SYNC</code>
      was added to <code class="literal">&lt;</code><code class="filename">mman.h</code><code class="literal">&gt;</code></p>
      <p>Before Linux 2.4 an attempt to execute a set-user-ID or
      set-group-ID program on a filesystem mounted with
      <code class="constant">MS_NOSUID</code> would fail with
      <span class="errorname">EPERM</span>. Since Linux 2.4 the
      set-user-ID and set-group-ID bits are just silently ignored
      in this case.</p>
      <div class="refsect2">
        <a id="mount-2_sect13" name="mount-2_sect13" shape="rect"> </a>
        <h3>Mount namespaces</h3>
        <p>Starting with kernel 2.4.19, Linux provides mount
        namespaces. A mount namespace is the set of filesystem
        mounts that are visible to a process. Mount namespaces can
        be (and usually are) shared between multiple processes, and
        changes to the namespace (i.e., mounts and unmounts) by one
        process are visible to all other processes sharing the same
        namespace. (The pre-2.4.19 Linux situation can be
        considered as one in which a single namespace was shared by
        every process on the system.)</p>
        <p>A child process created by <a class="link" href="../htmlman2/fork.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fork</span>(2)</span></a> shares its
        parent's mount namespace; the mount namespace is preserved
        across an <a class="link" href="../htmlman2/execve.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">execve</span>(2)</span></a>.</p>
        <p>A process can obtain a private mount namespace if: it
        was created using the <a class="link" href="../htmlman2/clone.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">clone</span>(2)</span></a> <code class="constant">CLONE_NEWNS</code> flag, in which case its new
        namespace is initialized to be a <em class="replaceable"><code>copy</code></em> of the namespace of
        the process that called <a class="link" href="../htmlman2/clone.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">clone</span>(2)</span></a>; or it calls
        <a class="link" href="../htmlman2/unshare.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">unshare</span>(2)</span></a> with the
        <code class="constant">CLONE_NEWNS</code> flag, which
        causes the caller's mount namespace to obtain a private
        copy of the namespace that it was previously sharing with
        other processes, so that future mounts and unmounts by the
        caller are invisible to other processes (except child
        processes that the caller subsequently creates) and vice
        versa.</p>
        <p>For further details on mount namespaces, see <a class="link" href="../htmlman7/mount_namespaces.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mount_namespaces</span>(7)</span></a>.</p>
      </div>
      <div class="refsect2">
        <a id="mount-2_sect14" name="mount-2_sect14" shape="rect"> </a>
        <h3>Parental relationship between mount points</h3>
        <p>Each mount point has a parent mount point. The overall
        parental relationship of all mount points defines the
        single directory hierarchy seen by the processes within a
        mount namespace.</p>
        <p>The parent of a new mount point is defined when the
        mount point is created. In the usual case, the parent of a
        new mount is the mount point of the filesystem containing
        the directory or file at which the new mount is attached.
        In the case where a new mount is stacked on top of an
        existing mount, the parent of the new mount is the previous
        mount that was stacked at that location.</p>
        <p>The parental relationship between mount points can be
        discovered via the <code class="filename">/proc/[pid]/mountinfo</code> file (see
        below).</p>
      </div>
      <div class="refsect2">
        <a id="mount-2_sect15" name="mount-2_sect15" shape="rect"> </a>
        <h3>/proc/[pid]/mounts and /proc/[pid]/mountinfo</h3>
        <p>The Linux-specific <code class="filename">/proc/[pid]/mounts</code> file exposes the list
        of mount points in the mount namespace of the process with
        the specified ID. The <code class="filename">/proc/[pid]/mountinfo</code> file exposes even
        more information about mount points, including the
        propagation type and mount ID information that makes it
        possible to discover the parental relationship between
        mount points. See <a class="link" href="../htmlman5/proc.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">proc</span>(5)</span></a> and <a class="link" href="../htmlman7/mount_namespaces.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mount_namespaces</span>(7)</span></a> for
        details of this file.</p>
      </div>
    </div>
    <div class="refsect1">
      <a id="mount-2_sect16" name="mount-2_sect16" shape="rect"> </a>
      <h2>SEE ALSO</h2>
      <p><a class="link" href="../htmlman1/mountpoint.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mountpoint</span>(1)</span></a>, <a class="link" href="../htmlman2/chroot.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a>, <a class="link" href="../htmlman2/ioctl_iflags.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ioctl_iflags</span>(2)</span></a>, <a class="link" href="../htmlman2/pivot_root.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pivot_root</span>(2)</span></a>, <a class="link" href="../htmlman2/umount.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">umount</span>(2)</span></a>, <a class="link" href="../htmlman7/mount_namespaces.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mount_namespaces</span>(7)</span></a>,
      <a class="link" href="../htmlman7/path_resolution.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">path_resolution</span>(7)</span></a>,
      <a class="link" href="../htmlman8/findmnt.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">findmnt</span>(8)</span></a>, <a class="link" href="../htmlman8/lsblk.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">lsblk</span>(8)</span></a>, <a class="link" href="../htmlman8/mount.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>, <a class="link" href="../htmlman8/umount.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a></p>
    </div>
    <div class="colophon">
      <a id="mount-2_sect17" name="mount-2_sect17" shape="rect"> </a>
      <h2>COLOPHON</h2>
      <p>This page is part of release 5.11 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      https://www.kernel.org/doc/man−pages/.</p>
      <div class="license">
        <table class="license" style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>
          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright (C) 1993 Rickard E. Faith &lt;faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu&gt;<br />

                  and Copyright (C) 1994 Andries E. Brouwer &lt;aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl&gt;<br />

                  and Copyright (C) 2002, 2005, 2016 Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  <br />
                  %%%LICENSE_START(VERBATIM)<br />
                  Permission is granted to make and distribute verbatim copies of this<br />

                  manual provided the copyright notice and this permission notice are<br />

                  preserved on all copies.<br />
                  <br />
                  Permission is granted to copy and distribute modified versions of this<br />

                  manual under the conditions for verbatim copying, provided that the<br />

                  entire resulting derived work is distributed under the terms of a<br />

                  permission notice identical to this one.<br />

                  <br />
                  Since the Linux kernel and libraries are constantly changing, this<br />

                  manual page may be incorrect or out-of-date.  The author(s) assume no<br />

                  responsibility for errors or omissions, or for damages resulting from<br />

                  the use of the information contained herein.  The author(s) may not<br />

                  have taken the same level of care in the production of this manual,<br />

                  which is licensed free of charge, as they might when working<br />

                  professionally.<br />
                  <br />
                  Formatted or processed versions of this manual, if unaccompanied by<br />

                  the source, must acknowledge the copyright and authors of this work.<br />

                  %%%LICENSE_END<br />
                  <br />
                  Modified 1996-11-04 by Eric S. Raymond &lt;esr<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>thyrsus.com&gt;<br />

                  Modified 2001-10-13 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  Added note on historical behavior of MS_NOSUID<br />

                  Modified 2002-05-16 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  Extensive changes and additions<br />

                  Modified 2002-05-27 by aeb<br />
                  Modified 2002-06-11 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  Enhanced descriptions of MS_MOVE, MS_BIND, and MS_REMOUNT<br />

                  Modified 2004-06-17 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  2005-05-18, mtk, Added MNT_EXPIRE, plus a few other tidy-ups.<br />

                  2008-10-06, mtk: move umount*() material into separate umount.2 page.<br />

                  2008-10-06, mtk: Add discussion of namespaces.<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
