<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>setarch(8) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="setarch(8) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve"> </script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>
<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>
          <th rowspan="1" colspan="1"><a href="../index8.html" shape="rect">Section 8</a></th>
          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>
  <div class="refentry">
    <a id="setarch.8" name="setarch.8" shape="rect"> </a>
    <div class="titlepage"> </div>
    <div class="refnamediv">
      <h2>Name</h2>
      <p>setarch — change reported architecture in new
      program environment and/or set personality flags</p>
    </div>
    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>
      <div class="cmdsynopsis">
        <p><code class="command">setarch</code> [arch] [options] [
        program [ argument... ] ]</p>
      </div>
      <div class="cmdsynopsis">
        <p><code class="command">setarch</code> <code class="option">−−list</code> | <code class="option">−h</code> | <code class="option">−V</code></p>
      </div>
      <div class="cmdsynopsis">
        <p><code class="command">arch</code> [options] [ program [
        argument... ] ]</p>
      </div>
    </div>
    <div class="refsect1">
      <a id="setarch-8_sect1" name="setarch-8_sect1" shape="rect"> </a>
      <h2>DESCRIPTION</h2>
      <p><span class="command"><strong>setarch</strong></span>
      modifies execution domains and process personality flags.</p>
      <p>The execution domains currently only affects the output of
      <span class="emphasis"><em>uname −m</em></span>. For
      example, on an AMD64 system, running <span class="emphasis"><em>setarch i386</em></span> <em class="parameter"><code>program</code></em> will cause <em class="parameter"><code>program</code></em> to see i686 instead of
      x86_64 as the machine type. It can also be used to set
      various personality options. The default <em class="parameter"><code>program</code></em> is <code class="filename">/bin/sh</code>.</p>
      <p>Since version 2.33 the <em class="parameter"><code>arch</code></em> command line argument is
      optional and <span class="command"><strong>setarch</strong></span> may be used to
      change personality flags (ADDR_LIMIT_*, SHORT_INODE, etc)
      without modification of the execution domain.</p>
    </div>
    <div class="refsect1">
      <a id="setarch-8_sect2" name="setarch-8_sect2" shape="rect"> </a>
      <h2>OPTIONS</h2>
      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="option">−−list</code></span></dt>
          <dd>
            <p>List the architectures that <span class="command"><strong>setarch</strong></span> knows about.
            Whether <span class="command"><strong>setarch</strong></span> can actually
            set each of these architectures depends on the running
            kernel.</p>
          </dd>
          <dt><span class="term"><code class="option">−−uname−2.6</code></span></dt>
          <dd>
            <p>Causes the <em class="parameter"><code>program</code></em> to see a kernel
            version number beginning with 2.6. Turns on
            UNAME26.</p>
          </dd>
          <dt><span class="term"><code class="option">−v,
          −−verbose</code></span></dt>
          <dd>
            <p>Be verbose.</p>
          </dd>
          <dt><span class="term"><span class="emphasis"><em>−3</em></span>, <code class="option">−−3gb</code></span></dt>
          <dd>
            <p>Specifies <em class="parameter"><code>program</code></em> should use a
            maximum of 3GB of address space. Supported on x86.
            Turns on ADDR_LIMIT_3GB.</p>
          </dd>
          <dt><span class="term"><code class="option">−−4gb</code></span></dt>
          <dd>
            <p>This option has no effect. It is retained for
            backward compatibility only, and may be removed in
            future releases.</p>
          </dd>
          <dt><span class="term"><code class="option">−B</code>, <code class="option">−−32bit</code></span></dt>
          <dd>
            <p>Limit the address space to 32 bits to emulate
            hardware. Supported on ARM and Alpha. Turns on
            ADDR_LIMIT_32BIT.</p>
          </dd>
          <dt><span class="term"><code class="option">−F</code>, <code class="option">−−fdpic−funcptrs</code></span></dt>
          <dd>
            <p>Treat user-space function pointers to signal
            handlers as pointers to address descriptors. This
            option has no effect on architectures that do not
            support FDPIC ELF binaries. In kernel v4.14 support is
            limited to ARM, Blackfin, Fujitsu FR-V, and SuperH CPU
            architectures.</p>
          </dd>
          <dt><span class="term"><code class="option">−I</code>, <code class="option">−−short−inode</code></span></dt>
          <dd>
            <p>Obsolete bug emulation flag. Turns on
            SHORT_INODE.</p>
          </dd>
          <dt><span class="term"><code class="option">−L</code>, <code class="option">−−addr−compat−layout</code></span></dt>
          <dd>
            <p>Provide legacy virtual address space layout. Use
            when the <em class="parameter"><code>program</code></em> binary does not
            have PT_GNU_STACK ELF header. Turns on
            ADDR_COMPAT_LAYOUT.</p>
          </dd>
          <dt><span class="term"><code class="option">−R</code>, <code class="option">−−addr−no−randomize</code></span></dt>
          <dd>
            <p>Disables randomization of the virtual address space.
            Turns on ADDR_NO_RANDOMIZE.</p>
          </dd>
          <dt><span class="term"><code class="option">−S</code>, <code class="option">−−whole−seconds</code></span></dt>
          <dd>
            <p>Obsolete bug emulation flag. Turns on
            WHOLE_SECONDS.</p>
          </dd>
          <dt><span class="term"><code class="option">−T</code>, <code class="option">−−sticky−timeouts</code></span></dt>
          <dd>
            <p>This makes <a class="link" href="../htmlman2/select.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">select</span>(2)</span></a>, <a class="link" href="../htmlman2/select.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pselect</span>(2)</span></a>, and
            <a class="link" href="../htmlman2/poll.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ppoll</span>(2)</span></a> system calls
            preserve the timeout value instead of modifying it to
            reflect the amount of time not slept when interrupted
            by a signal handler. Use when <em class="parameter"><code>program</code></em> depends on this
            behavior. For more details see the timeout description
            in <a class="link" href="../htmlman2/select.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">select</span>(2)</span></a> manual
            page. Turns on STICKY_TIMEOUTS.</p>
          </dd>
          <dt><span class="term"><code class="option">−X</code>, <code class="option">−−read−implies−exec</code></span></dt>
          <dd>
            <p>If this is set then <span class="citerefentry"><span class="refentrytitle">mmap</span>(3p)</span> PROT_READ will
            also add the PROT_EXEC bit - as expected by legacy x86
            binaries. Notice that the ELF loader will automatically
            set this bit when it encounters a legacy binary. Turns
            on READ_IMPLIES_EXEC.</p>
          </dd>
          <dt><span class="term"><code class="option">−Z</code>, <code class="option">−−mmap−page−zero</code></span></dt>
          <dd>
            <p>SVr4 bug emulation that will set <span class="citerefentry"><span class="refentrytitle">mmap</span>(3p)</span> page zero as
            read-only. Use when <em class="parameter"><code>program</code></em> depends on this
            behavior, and the source code is not available to be
            fixed. Turns on MMAP_PAGE_ZERO.</p>
          </dd>
          <dt><span class="term"><code class="option">−V,
          −−version</code></span></dt>
          <dd>
            <p>Display version information and exit.</p>
          </dd>
          <dt><span class="term"><code class="option">−h,
          −−help</code></span></dt>
          <dd>
            <p>Display help text and exit.</p>
          </dd>
        </dl>
      </div>
    </div>
    <div class="refsect1">
      <a id="setarch-8_sect3" name="setarch-8_sect3" shape="rect"> </a>
      <h2>EXAMPLE</h2>
      <p>setarch −−addr-no-randomize mytestprog</p>
      <p>setarch ppc32 rpmbuild −−target=ppc
      −−rebuild foo.src.rpm</p>
      <p>setarch ppc32 −v −vL3 rpmbuild
      −−target=ppc −−rebuild
      bar.src.rpm</p>
      <p>setarch ppc32 −−32bit rpmbuild
      −−target=ppc −−rebuild
      foo.src.rpm</p>
    </div>
    <div class="refsect1">
      <a id="setarch-8_sect4" name="setarch-8_sect4" shape="rect"> </a>
      <h2>AUTHORS</h2>
      <p><a class="literalurl" href="mailto:sopwith%20REMOVE%20@%20THIS%20redhat.com" target="_top" shape="rect">Elliot Lee</a></p>
      <p><a class="literalurl" href="mailto:jnovy%20REMOVE%20@%20THIS%20redhat.com" target="_top" shape="rect">Jindrich Novy</a></p>
      <p><a class="literalurl" href="mailto:kzak%20REMOVE%20@%20THIS%20redhat.com" target="_top" shape="rect">Karel Zak</a></p>
    </div>
    <div class="refsect1">
      <a id="setarch-8_sect5" name="setarch-8_sect5" shape="rect"> </a>
      <h2>SEE ALSO</h2>
      <p><a class="link" href="../htmlman2/personality.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">personality</span>(2)</span></a>, <a class="link" href="../htmlman2/select.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">select</span>(2)</span></a></p>
    </div>
    <div class="refsect1">
      <a id="setarch-8_sect6" name="setarch-8_sect6" shape="rect"> </a>
      <h2>AVAILABILITY</h2>
      <p>The setarch command is part of the util-linux package and
      is available from <a class="literalurl" href="https://www.kernel.org/pub/linux/utils/util-linux/" target="_top" shape="rect">Linux Kernel Archive</a></p>
      <div class="license">
        <table class="license" style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>
          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
