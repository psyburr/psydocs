<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_bus_message_set_destination</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html">Index </a>·
  <a href="systemd.directives.html">Directives </a><span style="float:right">systemd 249</span><hr><div class="refentry"><a name="sd_bus_message_set_destination"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>sd_bus_message_set_destination, sd_bus_message_get_destination, sd_bus_message_get_path, sd_bus_message_get_interface, sd_bus_message_get_member, sd_bus_message_set_sender, sd_bus_message_get_sender — Set and query bus message addressing information</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-bus.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_message_set_destination</b>(</code></td><td>sd_bus_message *<var class="pdparam">message</var>, </td></tr><tr><td> </td><td>const char *<var class="pdparam">destination</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">const char* <b class="fsfunc">sd_bus_message_get_destination</b>(</code></td><td>sd_bus_message *<var class="pdparam">message</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">const char* <b class="fsfunc">sd_bus_message_get_path</b>(</code></td><td>sd_bus_message *<var class="pdparam">message</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">const char* <b class="fsfunc">sd_bus_message_get_interface</b>(</code></td><td>sd_bus_message *<var class="pdparam">message</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">const char* <b class="fsfunc">sd_bus_message_get_member</b>(</code></td><td>sd_bus_message *<var class="pdparam">message</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_message_set_sender</b>(</code></td><td>sd_bus_message *<var class="pdparam">message</var>, </td></tr><tr><td> </td><td>const char *<var class="pdparam">sender</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">const char* <b class="fsfunc">sd_bus_message_get_sender</b>(</code></td><td>sd_bus_message *<var class="pdparam">message</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="id-1.5"></a><h2 id="Description">Description<a class="headerlink" title="Permalink to this headline" href="sd_bus_message_set_destination.html#Description">¶</a></h2><p><code class="function">sd_bus_message_set_destination()</code> sets the destination service name
    for the specified bus message object. The specified name must be a valid unique or well-known
    service name.</p><p><code class="function">sd_bus_message_get_destination()</code>,
    <code class="function">sd_bus_message_get_path()</code>,
    <code class="function">sd_bus_message_get_interface()</code>, and
    <code class="function">sd_bus_message_get_member()</code> return the destination, path, interface, and
    member fields from <em class="parameter"><code>message</code></em> header. The return value will be
    <code class="constant">NULL</code> is <em class="parameter"><code>message</code></em> is <code class="constant">NULL</code> or the
    message is of a type that doesn't use those fields or the message doesn't have them set. See
    <a href="sd_bus_message_new_method_call.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_message_new_method_call</span>(3)</span></a> and
    <a href="sd_bus_message_set_destination.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_message_set_destination</span>(3)</span></a>
    for more discussion of those values.</p><p><code class="function">sd_bus_message_set_sender()</code> sets the sender service name for the specified bus message
    object. The specified name must be a valid unique or well-known service name. This function is useful only for
    messages to send on direct connections as for connections to bus brokers the broker will fill in the destination
    field anyway, and the sender field set by original sender is ignored.</p><p><code class="function">sd_bus_message_get_sender()</code> returns the sender field from
    <em class="parameter"><code>message</code></em>.</p><p>When a string is returned, it is a pointer to internal storage, and may not be modified or
    freed. It is only valid as long as the <em class="parameter"><code>message</code></em> remains referenced and
    this field hasn't been changed by a different call.</p></div><div class="refsect1"><a name="id-1.6"></a><h2 id="Return Value">Return Value<a class="headerlink" title="Permalink to this headline" href="sd_bus_message_set_destination.html#Return%20Value">¶</a></h2><p>On success, these calls return 0 or a positive integer. On failure, these calls return a
    negative errno-style error code.</p><div class="refsect2"><a name="id-1.6.3"></a><h3 id="Errors">Errors<a class="headerlink" title="Permalink to this headline" href="sd_bus_message_set_destination.html#Errors">¶</a></h3><p>Returned errors may indicate the following problems:</p><div class="variablelist"><dl class="variablelist"><dt id="-EINVAL"><span class="term"><code class="constant">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="sd_bus_message_set_destination.html#-EINVAL">¶</a></dt><dd><p>The <em class="parameter"><code>message</code></em> parameter or the output parameter are
          <code class="constant">NULL</code>.</p></dd><dt id="-EPERM"><span class="term"><code class="constant">-EPERM</code></span><a class="headerlink" title="Permalink to this term" href="sd_bus_message_set_destination.html#-EPERM">¶</a></dt><dd><p>For <code class="function">sd_bus_message_set_destination()</code> and
          <code class="function">sd_bus_message_set_sender()</code>, the message is already sealed.</p></dd><dt id="-EEXIST"><span class="term"><code class="constant">-EEXIST</code></span><a class="headerlink" title="Permalink to this term" href="sd_bus_message_set_destination.html#-EEXIST">¶</a></dt><dd><p>The message already has a destination or sender field set.</p></dd></dl></div></div></div><div class="refsect1"><a name="id-1.7"></a><h2 id="Notes">Notes<a class="headerlink" title="Permalink to this headline" href="sd_bus_message_set_destination.html#Notes">¶</a></h2><p><a name="pkgconfig-text"></a>These APIs are implemented as a shared
  library, which can be compiled and linked to with the
  <code class="constant">libsystemd</code> <a href="http://linux.die.net/man/1/pkg-config"><span class="citerefentry"><span class="refentrytitle">pkg-config</span>(1)</span></a>
  file.</p></div><div class="refsect1"><a name="id-1.8"></a><h2 id="See Also">See Also<a class="headerlink" title="Permalink to this headline" href="sd_bus_message_set_destination.html#See%20Also">¶</a></h2><p>
      <a href="systemd.html#"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>,
      <a href="sd-bus.html#"><span class="citerefentry"><span class="refentrytitle">sd-bus</span>(3)</span></a>,
      <a href="sd_bus_new.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_new</span>(3)</span></a>,
      <a href="sd_bus_set_sender.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_set_sender</span>(3)</span></a>
    </p></div></div></body></html>
