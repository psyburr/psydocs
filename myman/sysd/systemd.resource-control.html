<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd.resource-control</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html">Index </a>·
  <a href="systemd.directives.html">Directives </a><span style="float:right">systemd 249</span><hr><div class="refentry"><a name="systemd.resource-control"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>systemd.resource-control — Resource control unit settings</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><p>
      <code class="filename"><em class="replaceable"><code>slice</code></em>.slice</code>,
      <code class="filename"><em class="replaceable"><code>scope</code></em>.scope</code>,
      <code class="filename"><em class="replaceable"><code>service</code></em>.service</code>,
      <code class="filename"><em class="replaceable"><code>socket</code></em>.socket</code>,
      <code class="filename"><em class="replaceable"><code>mount</code></em>.mount</code>,
      <code class="filename"><em class="replaceable"><code>swap</code></em>.swap</code>
    </p></div><div class="refsect1"><a name="id-1.5"></a><h2 id="Description">Description<a class="headerlink" title="Permalink to this headline" href="systemd.resource-control.html#Description">¶</a></h2><p>Unit configuration files for services, slices, scopes, sockets, mount points, and swap devices share a subset
    of configuration options for resource control of spawned processes. Internally, this relies on the Linux Control
    Groups (cgroups) kernel concept for organizing processes in a hierarchical tree of named groups for the purpose of
    resource management.</p><p>This man page lists the configuration options shared by
    those six unit types. See
    <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>
    for the common options of all unit configuration files, and
    <a href="systemd.slice.html#"><span class="citerefentry"><span class="refentrytitle">systemd.slice</span>(5)</span></a>,
    <a href="systemd.scope.html#"><span class="citerefentry"><span class="refentrytitle">systemd.scope</span>(5)</span></a>,
    <a href="systemd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd.service</span>(5)</span></a>,
    <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a>,
    <a href="systemd.mount.html#"><span class="citerefentry"><span class="refentrytitle">systemd.mount</span>(5)</span></a>,
    and
    <a href="systemd.swap.html#"><span class="citerefentry"><span class="refentrytitle">systemd.swap</span>(5)</span></a>
    for more information on the specific unit configuration files. The
    resource control configuration options are configured in the
    [Slice], [Scope], [Service], [Socket], [Mount], or [Swap]
    sections, depending on the unit type.</p><p>In addition, options which control resources available to programs
    <span class="emphasis"><em>executed</em></span> by systemd are listed in
    <a href="systemd.exec.html#"><span class="citerefentry"><span class="refentrytitle">systemd.exec</span>(5)</span></a>.
    Those options complement options listed here.</p><p>See the <a class="ulink" href="https://www.freedesktop.org/wiki/Software/systemd/ControlGroupInterface/" target="_top">New
    Control Group Interfaces</a> for an introduction on how to make
    use of resource control APIs from programs.</p><div class="refsect2"><a name="id-1.5.6"></a><h3 id="Setting resource controls for a group of related units">Setting resource controls for a group of related units<a class="headerlink" title="Permalink to this headline" href="systemd.resource-control.html#Setting%20resource%20controls%20for%20a%20group%20of%20related%20units">¶</a></h3><p>As described in
      <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>, the
      settings listed here may be set through the main file of a unit and drop-in snippets in
      <code class="filename">*.d/</code> directories. The list of directories searched for drop-ins
      includes names formed by repeatedly truncating the unit name after all dashes. This is particularly
      convenient to set resource limits for a group of units with similar names.</p><p>For example, every user gets their own slice
      <code class="filename">user-<em class="replaceable"><code>nnn</code></em>.slice</code>. Drop-ins with local configuration that
      affect user 1000 may be placed in
      <code class="filename">/etc/systemd/system/user-1000.slice</code>,
      <code class="filename">/etc/systemd/system/user-1000.slice.d/*.conf</code>, but also
      <code class="filename">/etc/systemd/system/user-.slice.d/*.conf</code>. This last directory
      applies to all user slices.</p></div></div><div class="refsect1"><a name="id-1.6"></a><h2 id="Implicit Dependencies">Implicit Dependencies<a class="headerlink" title="Permalink to this headline" href="systemd.resource-control.html#Implicit%20Dependencies">¶</a></h2><p>The following dependencies are implicitly added:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Units with the <code class="varname">Slice=</code> setting set automatically acquire
      <code class="varname">Requires=</code> and <code class="varname">After=</code> dependencies on the specified
      slice unit.</p></li></ul></div></div><div class="refsect1"><a name="id-1.7"></a><h2 id="Unified and Legacy Control Group Hierarchies">Unified and Legacy Control Group Hierarchies<a class="headerlink" title="Permalink to this headline" href="systemd.resource-control.html#Unified%20and%20Legacy%20Control%20Group%20Hierarchies">¶</a></h2><p>The unified control group hierarchy is the new version of kernel control group interface, see
    <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html" target="_top">Control Groups v2</a>.
    Depending on the resource type, there are differences in resource control capabilities. Also, because of
    interface changes, some resource types have separate set of options on the unified hierarchy.</p><p>
      </p><div class="variablelist"><dl class="variablelist"><dt id="CPU"><span class="term">CPU</span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#CPU">¶</a></dt><dd><p><code class="varname">CPUWeight=</code> and <code class="varname">StartupCPUWeight=</code> replace
            <code class="varname">CPUShares=</code> and <code class="varname">StartupCPUShares=</code>, respectively.</p><p>The "<code class="literal">cpuacct</code>" controller does not exist separately on the unified hierarchy.</p></dd><dt id="Memory"><span class="term">Memory</span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#Memory">¶</a></dt><dd><p><code class="varname">MemoryMax=</code> replaces <code class="varname">MemoryLimit=</code>. <code class="varname">MemoryLow=</code>
            and <code class="varname">MemoryHigh=</code> are effective only on unified hierarchy.</p></dd><dt id="IO"><span class="term">IO</span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IO">¶</a></dt><dd><p>"<code class="literal">IO</code>"-prefixed settings are a superset of and replace
            "<code class="literal">BlockIO</code>"-prefixed ones. On unified hierarchy, IO resource control also applies
            to buffered writes.</p></dd></dl></div><p>
    </p><p>To ease the transition, there is best-effort translation between the two versions of settings. For each
    controller, if any of the settings for the unified hierarchy are present, all settings for the legacy hierarchy are
    ignored. If the resulting settings are for the other type of hierarchy, the configurations are translated before
    application.</p><p>Legacy control group hierarchy (see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/" target="_top">Control Groups version 1</a>),
    also called cgroup-v1, doesn't allow safe delegation of controllers to unprivileged processes. If the
    system uses the legacy control group hierarchy, resource control is disabled for the systemd user
    instance, see
    <a href="systemd.html#"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>.</p></div><div class="refsect1"><a name="id-1.8"></a><h2 id="Options">Options<a class="headerlink" title="Permalink to this headline" href="systemd.resource-control.html#Options">¶</a></h2><p>Units of the types listed above can have settings
    for resource control configuration:</p><div class="variablelist"><dl class="variablelist"><dt id="CPUAccounting="><span class="term"><code class="varname">CPUAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#CPUAccounting=">¶</a></dt><dd><p>Turn on CPU usage accounting for this unit. Takes a
          boolean argument. Note that turning on CPU accounting for
          one unit will also implicitly turn it on for all units
          contained in the same slice and for all its parent slices
          and the units contained therein. The system default for this
          setting may be controlled with
          <code class="varname">DefaultCPUAccounting=</code> in
          <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>.</p></dd><dt id="CPUWeight=weight"><span class="term"><code class="varname">CPUWeight=<em class="replaceable"><code>weight</code></em></code>, </span><span class="term"><code class="varname">StartupCPUWeight=<em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#CPUWeight=weight">¶</a></dt><dd><p>Assign the specified CPU time weight to the processes executed, if the unified control group
          hierarchy is used on the system. These options take an integer value and control the
          "<code class="literal">cpu.weight</code>" control group attribute. The allowed range is 1 to 10000. Defaults to
          100. For details about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html" target="_top">Control Groups v2</a>
          and <a class="ulink" href="https://www.kernel.org/doc/html/latest/scheduler/sched-design-CFS.html" target="_top">CFS
          Scheduler</a>.  The available CPU time is split up among all units within one slice relative to
          their CPU time weight. A higher weight means more CPU time, a lower weight means less.</p><p>While <code class="varname">StartupCPUWeight=</code> only applies to the startup phase of the system,
          <code class="varname">CPUWeight=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup phase. Using <code class="varname">StartupCPUWeight=</code> allows prioritizing specific services at
          boot-up differently than during normal runtime.</p><p>These settings replace <code class="varname">CPUShares=</code> and <code class="varname">StartupCPUShares=</code>.</p></dd><dt id="CPUQuota="><span class="term"><code class="varname">CPUQuota=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#CPUQuota=">¶</a></dt><dd><p>Assign the specified CPU time quota to the processes executed. Takes a percentage value, suffixed with
          "%". The percentage specifies how much CPU time the unit shall get at maximum, relative to the total CPU time
          available on one CPU. Use values &gt; 100% for allotting CPU time on more than one CPU. This controls the
          "<code class="literal">cpu.max</code>" attribute on the unified control group hierarchy and
          "<code class="literal">cpu.cfs_quota_us</code>" on legacy. For details about these control group attributes, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html" target="_top">Control Groups v2</a> and <a class="ulink" href="https://www.kernel.org/doc/Documentation/scheduler/sched-bwc.txt" target="_top">sched-bwc.txt</a>.</p><p>Example: <code class="varname">CPUQuota=20%</code> ensures that the executed processes will never get more than
          20% CPU time on one CPU.</p></dd><dt id="CPUQuotaPeriodSec="><span class="term"><code class="varname">CPUQuotaPeriodSec=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#CPUQuotaPeriodSec=">¶</a></dt><dd><p>Assign the duration over which the CPU time quota specified by <code class="varname">CPUQuota=</code> is measured.
          Takes a time duration value in seconds, with an optional suffix such as "ms" for milliseconds (or "s" for seconds.)
          The default setting is 100ms. The period is clamped to the range supported by the kernel, which is [1ms, 1000ms].
          Additionally, the period is adjusted up so that the quota interval is also at least 1ms.
          Setting <code class="varname">CPUQuotaPeriodSec=</code> to an empty value resets it to the default.</p><p>This controls the second field of "<code class="literal">cpu.max</code>" attribute on the unified control group hierarchy
          and "<code class="literal">cpu.cfs_period_us</code>" on legacy. For details about these control group attributes, see
          <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html" target="_top">Control Groups v2</a> and
          <a class="ulink" href="https://www.kernel.org/doc/html/latest/scheduler/sched-design-CFS.html" target="_top">CFS Scheduler</a>.</p><p>Example: <code class="varname">CPUQuotaPeriodSec=10ms</code> to request that the CPU quota is measured in periods of 10ms.</p></dd><dt id="AllowedCPUs="><span class="term"><code class="varname">AllowedCPUs=</code>, </span><span class="term"><code class="varname">StartupAllowedCPUs=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#AllowedCPUs=">¶</a></dt><dd><p>Restrict processes to be executed on specific CPUs. Takes a list of CPU indices or ranges separated by either
          whitespace or commas. CPU ranges are specified by the lower and upper CPU indices separated by a dash.</p><p>Setting <code class="varname">AllowedCPUs=</code> or <code class="varname">StartupAllowedCPUs=</code> doesn't guarantee that all
          of the CPUs will be used by the processes as it may be limited by parent units. The effective configuration is
          reported as <code class="varname">EffectiveCPUs=</code>.</p><p>While <code class="varname">StartupAllowedCPUs=</code> only applies to the startup phase of the system,
          <code class="varname">AllowedCPUs=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup phase. Using <code class="varname">StartupAllowedCPUs=</code> allows prioritizing specific services at
          boot-up differently than during normal runtime.</p><p>This setting is supported only with the unified control group hierarchy.</p></dd><dt id="AllowedMemoryNodes="><span class="term"><code class="varname">AllowedMemoryNodes=</code>, </span><span class="term"><code class="varname">StartupAllowedMemoryNodes=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#AllowedMemoryNodes=">¶</a></dt><dd><p>Restrict processes to be executed on specific memory NUMA nodes. Takes a list of memory NUMA nodes indices
          or ranges separated by either whitespace or commas. Memory NUMA nodes ranges are specified by the lower and upper
          NUMA nodes indices separated by a dash.</p><p>Setting <code class="varname">AllowedMemoryNodes=</code> or <code class="varname">StartupAllowedMemoryNodes=</code> doesn't
          guarantee that all of the memory NUMA nodes will be used by the processes as it may be limited by parent units.
          The effective configuration is reported as <code class="varname">EffectiveMemoryNodes=</code>.</p><p>While <code class="varname">StartupAllowedMemoryNodes=</code> only applies to the startup phase of the system,
          <code class="varname">AllowedMemoryNodes=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup phase. Using <code class="varname">StartupAllowedMemoryNodes=</code> allows prioritizing specific services at
          boot-up differently than during normal runtime.</p><p>This setting is supported only with the unified control group hierarchy.</p></dd><dt id="MemoryAccounting="><span class="term"><code class="varname">MemoryAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#MemoryAccounting=">¶</a></dt><dd><p>Turn on process and kernel memory accounting for this
          unit. Takes a boolean argument. Note that turning on memory
          accounting for one unit will also implicitly turn it on for
          all units contained in the same slice and for all its parent
          slices and the units contained therein. The system default
          for this setting may be controlled with
          <code class="varname">DefaultMemoryAccounting=</code> in
          <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>.</p></dd><dt id="MemoryMin=bytes, MemoryLow=bytes"><span class="term"><code class="varname">MemoryMin=<em class="replaceable"><code>bytes</code></em></code>, <code class="varname">MemoryLow=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#MemoryMin=bytes,%20MemoryLow=bytes">¶</a></dt><dd><p>Specify the memory usage protection of the executed processes in this unit.
          When reclaiming memory, the unit is treated as if it was using less memory resulting in memory
          to be preferentially reclaimed from unprotected units.
          Using <code class="varname">MemoryLow=</code> results in a weaker protection where memory may still
          be reclaimed to avoid invoking the OOM killer in case there is no other reclaimable memory.</p><p>
          For a protection to be effective, it is generally required to set a corresponding
          allocation on all ancestors, which is then distributed between children
          (with the exception of the root slice).
          Any <code class="varname">MemoryMin=</code> or <code class="varname">MemoryLow=</code> allocation that is not
          explicitly distributed to specific children is used to create a shared protection for all children.
          As this is a shared protection, the children will freely compete for the memory.</p><p>Takes a memory size in bytes. If the value is suffixed with K, M, G or T, the specified memory size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. Alternatively, a
          percentage value may be specified, which is taken relative to the installed physical memory on the
          system. If assigned the special value "<code class="literal">infinity</code>", all available memory is protected, which may be
          useful in order to always inherit all of the protection afforded by ancestors.
          This controls the "<code class="literal">memory.min</code>" or "<code class="literal">memory.low</code>" control group attribute.
          For details about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#memory-interface-files" target="_top">Memory Interface Files</a>.</p><p>This setting is supported only if the unified control group hierarchy is used and disables
          <code class="varname">MemoryLimit=</code>.</p><p>Units may have their children use a default "<code class="literal">memory.min</code>" or
          "<code class="literal">memory.low</code>" value by specifying <code class="varname">DefaultMemoryMin=</code> or
          <code class="varname">DefaultMemoryLow=</code>, which has the same semantics as
          <code class="varname">MemoryMin=</code> and <code class="varname">MemoryLow=</code>.
          This setting does not affect "<code class="literal">memory.min</code>" or "<code class="literal">memory.low</code>"
          in the unit itself.
          Using it to set a default child allocation is only useful on kernels older than 5.7,
          which do not support the "<code class="literal">memory_recursiveprot</code>" cgroup2 mount option.</p></dd><dt id="MemoryHigh=bytes"><span class="term"><code class="varname">MemoryHigh=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#MemoryHigh=bytes">¶</a></dt><dd><p>Specify the throttling limit on memory usage of the executed processes in this unit. Memory usage may go
          above the limit if unavoidable, but the processes are heavily slowed down and memory is taken away
          aggressively in such cases. This is the main mechanism to control memory usage of a unit.</p><p>Takes a memory size in bytes. If the value is suffixed with K, M, G or T, the specified memory size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. Alternatively, a
          percentage value may be specified, which is taken relative to the installed physical memory on the
          system. If assigned the
          special value "<code class="literal">infinity</code>", no memory throttling is applied. This controls the
          "<code class="literal">memory.high</code>" control group attribute. For details about this control group attribute, see
          <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#memory-interface-files" target="_top">Memory Interface Files</a>.</p><p>This setting is supported only if the unified control group hierarchy is used and disables
          <code class="varname">MemoryLimit=</code>.</p></dd><dt id="MemoryMax=bytes"><span class="term"><code class="varname">MemoryMax=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#MemoryMax=bytes">¶</a></dt><dd><p>Specify the absolute limit on memory usage of the executed processes in this unit. If memory usage
          cannot be contained under the limit, out-of-memory killer is invoked inside the unit. It is recommended to
          use <code class="varname">MemoryHigh=</code> as the main control mechanism and use <code class="varname">MemoryMax=</code> as the
          last line of defense.</p><p>Takes a memory size in bytes. If the value is suffixed with K, M, G or T, the specified memory size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. Alternatively, a
          percentage value may be specified, which is taken relative to the installed physical memory on the system. If
          assigned the special value "<code class="literal">infinity</code>", no memory limit is applied. This controls the
          "<code class="literal">memory.max</code>" control group attribute. For details about this control group attribute, see
          <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#memory-interface-files" target="_top">Memory Interface Files</a>.</p><p>This setting replaces <code class="varname">MemoryLimit=</code>.</p></dd><dt id="MemorySwapMax=bytes"><span class="term"><code class="varname">MemorySwapMax=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#MemorySwapMax=bytes">¶</a></dt><dd><p>Specify the absolute limit on swap usage of the executed processes in this unit.</p><p>Takes a swap size in bytes. If the value is suffixed with K, M, G or T, the specified swap size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. If assigned the
          special value "<code class="literal">infinity</code>", no swap limit is applied. This controls the
          "<code class="literal">memory.swap.max</code>" control group attribute. For details about this control group attribute,
          see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#memory-interface-files" target="_top">Memory Interface Files</a>.</p><p>This setting is supported only if the unified control group hierarchy is used and disables
          <code class="varname">MemoryLimit=</code>.</p></dd><dt id="TasksAccounting="><span class="term"><code class="varname">TasksAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#TasksAccounting=">¶</a></dt><dd><p>Turn on task accounting for this unit. Takes a
          boolean argument. If enabled, the system manager will keep
          track of the number of tasks in the unit. The number of
          tasks accounted this way includes both kernel threads and
          userspace processes, with each thread counting
          individually. Note that turning on tasks accounting for one
          unit will also implicitly turn it on for all units contained
          in the same slice and for all its parent slices and the
          units contained therein. The system default for this setting
          may be controlled with
          <code class="varname">DefaultTasksAccounting=</code> in
          <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>.</p></dd><dt id="TasksMax=N"><span class="term"><code class="varname">TasksMax=<em class="replaceable"><code>N</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#TasksMax=N">¶</a></dt><dd><p>Specify the maximum number of tasks that may be created in the unit. This ensures that the number of
          tasks accounted for the unit (see above) stays below a specific limit. This either takes an absolute number
          of tasks or a percentage value that is taken relative to the configured maximum number of tasks on the
          system.  If assigned the special value "<code class="literal">infinity</code>", no tasks limit is applied. This controls
          the "<code class="literal">pids.max</code>" control group attribute. For details about this control group attribute, see
          <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/pids.html" target="_top">Process Number Controller</a>.
          </p><p>The system default for this setting may be controlled with
          <code class="varname">DefaultTasksMax=</code> in
          <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>.</p></dd><dt id="IOAccounting="><span class="term"><code class="varname">IOAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IOAccounting=">¶</a></dt><dd><p>Turn on Block I/O accounting for this unit, if the unified control group hierarchy is used on the
          system. Takes a boolean argument. Note that turning on block I/O accounting for one unit will also implicitly
          turn it on for all units contained in the same slice and all for its parent slices and the units contained
          therein. The system default for this setting may be controlled with <code class="varname">DefaultIOAccounting=</code>
          in
          <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>.</p><p>This setting replaces <code class="varname">BlockIOAccounting=</code> and disables settings prefixed with
          <code class="varname">BlockIO</code> or <code class="varname">StartupBlockIO</code>.</p></dd><dt id="IOWeight=weight"><span class="term"><code class="varname">IOWeight=<em class="replaceable"><code>weight</code></em></code>, </span><span class="term"><code class="varname">StartupIOWeight=<em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IOWeight=weight">¶</a></dt><dd><p>Set the default overall block I/O weight for the executed processes, if the unified control
          group hierarchy is used on the system. Takes a single weight value (between 1 and 10000) to set the
          default block I/O weight. This controls the "<code class="literal">io.weight</code>" control group attribute,
          which defaults to 100. For details about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#io-interface-files" target="_top">IO
          Interface Files</a>.  The available I/O bandwidth is split up among all units within one slice
          relative to their block I/O weight. A higher weight means more I/O bandwidth, a lower weight means
          less.</p><p>While <code class="varname">StartupIOWeight=</code> only applies
          to the startup phase of the system,
          <code class="varname">IOWeight=</code> applies to the later runtime of
          the system, and if the former is not set also to the startup
          phase. This allows prioritizing specific services at boot-up
          differently than during runtime.</p><p>These settings replace <code class="varname">BlockIOWeight=</code> and <code class="varname">StartupBlockIOWeight=</code>
          and disable settings prefixed with <code class="varname">BlockIO</code> or <code class="varname">StartupBlockIO</code>.</p></dd><dt id="IODeviceWeight=device weight"><span class="term"><code class="varname">IODeviceWeight=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IODeviceWeight=device%20weight">¶</a></dt><dd><p>Set the per-device overall block I/O weight for the executed processes, if the unified control group
          hierarchy is used on the system. Takes a space-separated pair of a file path and a weight value to specify
          the device specific weight value, between 1 and 10000. (Example: "<code class="literal">/dev/sda 1000</code>"). The file
          path may be specified as path to a block device node or as any other file, in which case the backing block
          device of the file system of the file is determined. This controls the "<code class="literal">io.weight</code>" control
          group attribute, which defaults to 100. Use this option multiple times to set weights for multiple devices.
          For details about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#io-interface-files" target="_top">IO Interface Files</a>.</p><p>This setting replaces <code class="varname">BlockIODeviceWeight=</code> and disables settings prefixed with
          <code class="varname">BlockIO</code> or <code class="varname">StartupBlockIO</code>.</p><p>The specified device node should reference a block device that has an I/O scheduler
          associated, i.e. should not refer to partition or loopback block devices, but to the originating,
          physical device. When a path to a regular file or directory is specified it is attempted to
          discover the correct originating device backing the file system of the specified path. This works
          correctly only for simpler cases, where the file system is directly placed on a partition or
          physical block device, or where simple 1:1 encryption using dm-crypt/LUKS is used. This discovery
          does not cover complex storage and in particular RAID and volume management storage devices.</p></dd><dt id="IOReadBandwidthMax=device bytes"><span class="term"><code class="varname">IOReadBandwidthMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code>, </span><span class="term"><code class="varname">IOWriteBandwidthMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IOReadBandwidthMax=device%20bytes">¶</a></dt><dd><p>Set the per-device overall block I/O bandwidth maximum limit for the executed processes, if the unified
          control group hierarchy is used on the system. This limit is not work-conserving and the executed processes
          are not allowed to use more even if the device has idle capacity.  Takes a space-separated pair of a file
          path and a bandwidth value (in bytes per second) to specify the device specific bandwidth. The file path may
          be a path to a block device node, or as any other file in which case the backing block device of the file
          system of the file is used. If the bandwidth is suffixed with K, M, G, or T, the specified bandwidth is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes, respectively, to the base of 1000. (Example:
          "/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0 5M"). This controls the "<code class="literal">io.max</code>" control
          group attributes. Use this option multiple times to set bandwidth limits for multiple devices. For details
          about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#io-interface-files" target="_top">IO Interface Files</a>.
          </p><p>These settings replace <code class="varname">BlockIOReadBandwidth=</code> and
          <code class="varname">BlockIOWriteBandwidth=</code> and disable settings prefixed with <code class="varname">BlockIO</code> or
          <code class="varname">StartupBlockIO</code>.</p><p>Similar restrictions on block device discovery as for <code class="varname">IODeviceWeight=</code> apply, see above.</p></dd><dt id="IOReadIOPSMax=device IOPS"><span class="term"><code class="varname">IOReadIOPSMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>IOPS</code></em></code>, </span><span class="term"><code class="varname">IOWriteIOPSMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>IOPS</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IOReadIOPSMax=device%20IOPS">¶</a></dt><dd><p>Set the per-device overall block I/O IOs-Per-Second maximum limit for the executed processes, if the
          unified control group hierarchy is used on the system. This limit is not work-conserving and the executed
          processes are not allowed to use more even if the device has idle capacity.  Takes a space-separated pair of
          a file path and an IOPS value to specify the device specific IOPS. The file path may be a path to a block
          device node, or as any other file in which case the backing block device of the file system of the file is
          used. If the IOPS is suffixed with K, M, G, or T, the specified IOPS is parsed as KiloIOPS, MegaIOPS,
          GigaIOPS, or TeraIOPS, respectively, to the base of 1000. (Example:
          "/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0 1K"). This controls the "<code class="literal">io.max</code>" control
          group attributes. Use this option multiple times to set IOPS limits for multiple devices. For details about
          this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#io-interface-files" target="_top">IO Interface Files</a>.
          </p><p>These settings are supported only if the unified control group hierarchy is used and disable settings
          prefixed with <code class="varname">BlockIO</code> or <code class="varname">StartupBlockIO</code>.</p><p>Similar restrictions on block device discovery as for <code class="varname">IODeviceWeight=</code> apply, see above.</p></dd><dt id="IODeviceLatencyTargetSec=device target"><span class="term"><code class="varname">IODeviceLatencyTargetSec=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>target</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IODeviceLatencyTargetSec=device%20target">¶</a></dt><dd><p>Set the per-device average target I/O latency for the executed processes, if the unified control group
          hierarchy is used on the system. Takes a file path and a timespan separated by a space to specify
          the device specific latency target. (Example: "/dev/sda 25ms"). The file path may be specified
          as path to a block device node or as any other file, in which case the backing block device of the file
          system of the file is determined. This controls the "<code class="literal">io.latency</code>" control group
          attribute. Use this option multiple times to set latency target for multiple devices. For details about this
          control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#io-interface-files" target="_top">IO Interface Files</a>.</p><p>Implies "<code class="literal">IOAccounting=yes</code>".</p><p>These settings are supported only if the unified control group hierarchy is used.</p><p>Similar restrictions on block device discovery as for <code class="varname">IODeviceWeight=</code> apply, see above.</p></dd><dt id="IPAccounting="><span class="term"><code class="varname">IPAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IPAccounting=">¶</a></dt><dd><p>Takes a boolean argument. If true, turns on IPv4 and IPv6 network traffic accounting for packets sent
          or received by the unit. When this option is turned on, all IPv4 and IPv6 sockets created by any process of
          the unit are accounted for.</p><p>When this option is used in socket units, it applies to all IPv4 and IPv6 sockets
          associated with it (including both listening and connection sockets where this applies). Note that for
          socket-activated services, this configuration setting and the accounting data of the service unit and the
          socket unit are kept separate, and displayed separately. No propagation of the setting and the collected
          statistics is done, in either direction. Moreover, any traffic sent or received on any of the socket unit's
          sockets is accounted to the socket unit — and never to the service unit it might have activated, even if the
          socket is used by it.</p><p>The system default for this setting may be controlled with <code class="varname">DefaultIPAccounting=</code> in
          <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>.</p></dd><dt id="IPAddressAllow=ADDRESS[/PREFIXLENGTH]…"><span class="term"><code class="varname">IPAddressAllow=<em class="replaceable"><code>ADDRESS[/PREFIXLENGTH]…</code></em></code>, </span><span class="term"><code class="varname">IPAddressDeny=<em class="replaceable"><code>ADDRESS[/PREFIXLENGTH]…</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IPAddressAllow=ADDRESS%5B/PREFIXLENGTH%5D%E2%80%A6">¶</a></dt><dd><p>Turn on network traffic filtering for IP packets sent and received over
          <code class="constant">AF_INET</code> and <code class="constant">AF_INET6</code> sockets. Both directives take a
          space separated list of IPv4 or IPv6 addresses, each optionally suffixed with an address prefix
          length in bits after a "<code class="literal">/</code>" character. If the suffix is omitted, the address is
          considered a host address, i.e. the filter covers the whole address (32 bits for IPv4, 128 bits for
          IPv6).</p><p>The access lists configured with this option are applied to all sockets created by processes
          of this unit (or in the case of socket units, associated with it). The lists are implicitly
          combined with any lists configured for any of the parent slice units this unit might be a member
          of. By default both access lists are empty. Both ingress and egress traffic is filtered by these
          settings. In case of ingress traffic the source IP address is checked against these access lists,
          in case of egress traffic the destination IP address is checked. The following rules are applied in
          turn:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Access is granted when the checked IP address matches an entry in the
            <code class="varname">IPAddressAllow=</code> list.</p></li><li class="listitem"><p>Otherwise, access is denied when the checked IP address matches an entry in the
            <code class="varname">IPAddressDeny=</code> list.</p></li><li class="listitem"><p>Otherwise, access is granted.</p></li></ul></div><p>In order to implement an allow-listing IP firewall, it is recommended to use a
          <code class="varname">IPAddressDeny=</code><code class="constant">any</code> setting on an upper-level slice unit
          (such as the root slice <code class="filename">-.slice</code> or the slice containing all system services
          <code class="filename">system.slice</code> – see
          <a href="systemd.special.html#"><span class="citerefentry"><span class="refentrytitle">systemd.special</span>(7)</span></a>
          for details on these slice units), plus individual per-service <code class="varname">IPAddressAllow=</code>
          lines permitting network access to relevant services, and only them.</p><p>Note that for socket-activated services, the IP access list configured on the socket unit
          applies to all sockets associated with it directly, but not to any sockets created by the
          ultimately activated services for it. Conversely, the IP access list configured for the service is
          not applied to any sockets passed into the service via socket activation. Thus, it is usually a
          good idea to replicate the IP access lists on both the socket and the service unit. Nevertheless,
          it may make sense to maintain one list more open and the other one more restricted, depending on
          the usecase.</p><p>If these settings are used multiple times in the same unit the specified lists are combined. If an
          empty string is assigned to these settings the specific access list is reset and all previous settings undone.</p><p>In place of explicit IPv4 or IPv6 address and prefix length specifications a small set of symbolic
          names may be used. The following names are defined:</p><div class="table"><a name="id-1.8.3.21.3.8"></a><p class="title"><b>Table 1. Special address/network names</b></p><div class="table-contents"><table class="table" summary="Special address/network names" border="1"><colgroup><col class="name"><col class="definition"><col class="meaning"></colgroup><thead><tr><th>Symbolic Name</th><th>Definition</th><th>Meaning</th></tr></thead><tbody><tr><td><code class="constant">any</code></td><td>0.0.0.0/0 ::/0</td><td>Any host</td></tr><tr><td><code class="constant">localhost</code></td><td>127.0.0.0/8 ::1/128</td><td>All addresses on the local loopback</td></tr><tr><td><code class="constant">link-local</code></td><td>169.254.0.0/16 fe80::/64</td><td>All link-local IP addresses</td></tr><tr><td><code class="constant">multicast</code></td><td>224.0.0.0/4 ff00::/8</td><td>All IP multicasting addresses</td></tr></tbody></table></div></div><br class="table-break"><p>Note that these settings might not be supported on some systems (for example if eBPF control group
          support is not enabled in the underlying kernel or container manager). These settings will have no effect in
          that case. If compatibility with such systems is desired it is hence recommended to not exclusively rely on
          them for IP security.</p></dd><dt id="IPIngressFilterPath=BPF_FS_PROGRAM_PATH"><span class="term"><code class="varname">IPIngressFilterPath=<em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em></code>, </span><span class="term"><code class="varname">IPEgressFilterPath=<em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#IPIngressFilterPath=BPF_FS_PROGRAM_PATH">¶</a></dt><dd><p>Add custom network traffic filters implemented as BPF programs, applying to all IP packets
          sent and received over <code class="constant">AF_INET</code> and <code class="constant">AF_INET6</code> sockets.
          Takes an absolute path to a pinned BPF program in the BPF virtual filesystem (<code class="filename">/sys/fs/bpf/</code>).
          </p><p>The filters configured with this option are applied to all sockets created by processes
          of this unit (or in the case of socket units, associated with it). The filters are loaded in addition
          to filters any of the parent slice units this unit might be a member of as well as any
          <code class="varname">IPAddressAllow=</code> and <code class="varname">IPAddressDeny=</code> filters in any of these units.
          By default there are no filters specified.</p><p>If these settings are used multiple times in the same unit all the specified programs are attached. If an
          empty string is assigned to these settings the program list is reset and all previous specified programs ignored.</p><p>If the path <em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em> in <code class="varname">IPIngressFilterPath=</code> assignment
          is already being handled by <code class="varname">BPFProgram=</code> ingress hook, e.g.
          <code class="varname">BPFProgram=</code><code class="constant">ingress</code>:<em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em>,
          the assignment will be still considered valid and the program will be attached to a cgroup. Same for
          <code class="varname">IPEgressFilterPath=</code> path and <code class="constant">egress</code> hook.</p><p>Note that for socket-activated services, the IP filter programs configured on the socket unit apply to
          all sockets associated with it directly, but not to any sockets created by the ultimately activated services
          for it. Conversely, the IP filter programs configured for the service are not applied to any sockets passed into
          the service via socket activation. Thus, it is usually a good idea, to replicate the IP filter programs on both
          the socket and the service unit, however it often makes sense to maintain one configuration more open and the other
          one more restricted, depending on the usecase.</p><p>Note that these settings might not be supported on some systems (for example if eBPF control group
          support is not enabled in the underlying kernel or container manager). These settings will fail the service in
          that case. If compatibility with such systems is desired it is hence recommended to attach your filter manually
          (requires <code class="varname">Delegate=</code><code class="constant">yes</code>) instead of using this setting.</p></dd><dt id="BPFProgram=type:program-path"><span class="term"><code class="varname">BPFProgram=<em class="replaceable"><code>type</code></em><code class="constant">:</code><em class="replaceable"><code>program-path</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#BPFProgram=type:program-path">¶</a></dt><dd><p>Add a custom cgroup BPF program.</p><p><code class="varname">BPFProgram=</code> allows attaching BPF hooks to the cgroup of a systemd unit.
          (This generalizes the functionality exposed via <code class="varname">IPEgressFilterPath=</code> for egress and
          <code class="varname">IPIngressFilterPath=</code> for ingress.)
          Cgroup-bpf hooks in the form of BPF programs loaded to the BPF filesystem are attached with cgroup-bpf attach
          flags determined by the unit. For details about attachment types and flags see <a class="ulink" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/plain/include/uapi/linux/bpf.h" target="_top">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/plain/include/uapi/linux/bpf.h</a>.
          For general BPF documentation please refer to <a class="ulink" href="https://www.kernel.org/doc/html/latest/bpf/index.html" target="_top">https://www.kernel.org/doc/html/latest/bpf/index.html</a>.</p><p>The specification of BPF program consists of a <em class="replaceable"><code>type</code></em> followed by a
          <em class="replaceable"><code>program-path</code></em> with "<code class="literal">:</code>" as the separator:
          <em class="replaceable"><code>type</code></em><code class="constant">:</code><em class="replaceable"><code>program-path</code></em>.</p><p><em class="replaceable"><code>type</code></em> is the string name of BPF attach type also used in
          <span class="command"><strong>bpftool</strong></span>. <em class="replaceable"><code>type</code></em> can be one of <code class="constant">egress</code>,
          <code class="constant">ingress</code>, <code class="constant">sock_create</code>, <code class="constant">sock_ops</code>,
          <code class="constant">device</code>, <code class="constant">bind4</code>, <code class="constant">bind6</code>,
          <code class="constant">connect4</code>, <code class="constant">connect6</code>, <code class="constant">post_bind4</code>,
          <code class="constant">post_bind6</code>, <code class="constant">sendmsg4</code>, <code class="constant">sendmsg6</code>,
          <code class="constant">sysctl</code>, <code class="constant">recvmsg4</code>, <code class="constant">recvmsg6</code>,
          <code class="constant">getsockopt</code>, <code class="constant">setsockopt</code>.</p><p>Setting <code class="varname">BPFProgram=</code> to an empty value makes previous assignments ineffective.</p><p>Multiple assignments of the same <em class="replaceable"><code>type</code></em>:<em class="replaceable"><code>program-path</code></em>
          value have the same effect as a single assignment: the program with the path <em class="replaceable"><code>program-path</code></em>
          will be attached to cgroup hook <em class="replaceable"><code>type</code></em> just once.</p><p>If BPF <code class="constant">egress</code> pinned to <em class="replaceable"><code>program-path</code></em> path is already being
          handled by <code class="varname">IPEgressFilterPath=</code>, <code class="varname">BPFProgram=</code>
          assignment will be considered valid and <code class="varname">BPFProgram=</code> will be attached to a cgroup.
          Similarly for <code class="constant">ingress</code> hook and <code class="varname">IPIngressFilterPath=</code> assignment.</p><p>BPF programs passed with <code class="varname">BPFProgram=</code> are attached to the cgroup of a unit with BPF
          attach flag <code class="constant">multi</code>, that allows further attachments of the same
          <em class="replaceable"><code>type</code></em> within cgroup hierarchy topped by the unit cgroup.</p><p>Examples:</p><pre class="programlisting">
BPFProgram=egress:/sys/fs/bpf/egress-hook
BPFProgram=bind6:/sys/fs/bpf/sock-addr-hook
</pre></dd><dt id="SocketBindAllow=bind-rule"><span class="term"><code class="varname">SocketBindAllow=<em class="replaceable"><code>bind-rule</code></em></code>, </span><span class="term"><code class="varname">SocketBindDeny=<em class="replaceable"><code>bind-rule</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#SocketBindAllow=bind-rule">¶</a></dt><dd><p>Allow or deny binding a socket address to a socket by matching it with the <em class="replaceable"><code>bind-rule</code></em> and
          applying a corresponding action if there is a match.</p><p><em class="replaceable"><code>bind-rule</code></em> describes socket properties such as <em class="replaceable"><code>address-family</code></em>,
          <em class="replaceable"><code>transport-protocol</code></em> and <em class="replaceable"><code>ip-ports</code></em>.</p><p><em class="replaceable"><code>bind-rule</code></em> :=
          { [<em class="replaceable"><code>address-family</code></em><code class="constant">:</code>][<em class="replaceable"><code>transport-protocol</code></em><code class="constant">:</code>][<em class="replaceable"><code>ip-ports</code></em>] | <code class="constant">any</code> }</p><p><em class="replaceable"><code>address-family</code></em> := { <code class="constant">ipv4</code> | <code class="constant">ipv6</code> }</p><p><em class="replaceable"><code>transport-protocol</code></em> := { <code class="constant">tcp</code> | <code class="constant">udp</code> }</p><p><em class="replaceable"><code>ip-ports</code></em> := { <em class="replaceable"><code>ip-port</code></em> | <em class="replaceable"><code>ip-port-range</code></em> }</p><p>An optional <em class="replaceable"><code>address-family</code></em> expects <code class="constant">ipv4</code> or <code class="constant">ipv6</code> values.
          If not specified, a rule will be matched for both IPv4 and IPv6 addresses and applied depending on other socket fields, e.g. <em class="replaceable"><code>transport-protocol</code></em>,
          <em class="replaceable"><code>ip-port</code></em>.</p><p>An optional <em class="replaceable"><code>transport-protocol</code></em> expects <code class="constant">tcp</code> or <code class="constant">udp</code> transport protocol names.
          If not specified, a rule will be matched for any transport protocol.</p><p>An optional <em class="replaceable"><code>ip-port</code></em> value must lie within 1…65535 interval inclusively, i.e.
          dynamic port <code class="constant">0</code> is not allowed. A range of sequential ports is described by
          <em class="replaceable"><code>ip-port-range</code></em> := <em class="replaceable"><code>ip-port-low</code></em><code class="constant">-</code><em class="replaceable"><code>ip-port-high</code></em>,
          where <em class="replaceable"><code>ip-port-low</code></em> is smaller than or equal to <em class="replaceable"><code>ip-port-high</code></em>
          and both are within 1…65535 inclusively.</p><p>A special value <code class="constant">any</code> can be used to apply a rule to any address family, transport protocol and any port with a positive value.</p><p>To allow multiple rules assign <code class="varname">SocketBindAllow=</code> or <code class="varname">SocketBindDeny=</code> multiple times.
          To clear the existing assignments pass an empty <code class="varname">SocketBindAllow=</code> or <code class="varname">SocketBindDeny=</code>
          assignment.</p><p>For each of <code class="varname">SocketBindAllow=</code> and <code class="varname">SocketBindDeny=</code>, maximum allowed number of assignments is
          <code class="constant">128</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Binding to a socket is allowed when a socket address matches an entry in the
            <code class="varname">SocketBindAllow=</code> list.</p></li><li class="listitem"><p>Otherwise, binding is denied when the socket address matches an entry in the
            <code class="varname">SocketBindDeny=</code> list.</p></li><li class="listitem"><p>Otherwise, binding is allowed.</p></li></ul></div><p>The feature is implemented with <code class="constant">cgroup/bind4</code> and <code class="constant">cgroup/bind6</code> cgroup-bpf hooks.</p><p>Examples:</p><pre class="programlisting">…
# Allow binding IPv6 socket addresses with a port greater than or equal to 10000.
[Service]
SocketBindAllow=ipv6:10000-65535
SocketBindDeny=any
…
# Allow binding IPv4 and IPv6 socket addresses with 1234 and 4321 ports.
[Service]
SocketBindAllow=1234
SocketBindAllow=4321
SocketBindDeny=any
…
# Deny binding IPv6 socket addresses.
[Service]
SocketBindDeny=ipv6
…
# Deny binding IPv4 and IPv6 socket addresses.
[Service]
SocketBindDeny=any
…
# Allow binding only over TCP
[Service]
SocketBindAllow=tcp
SocketBindDeny=any
…
# Allow binding only over IPv6/TCP
[Service]
SocketBindAllow=ipv6:tcp
SocketBindDeny=any
…
# Allow binding ports within 10000-65535 range over IPv4/UDP.
[Service]
SocketBindAllow=ipv4:udp:10000-65535
SocketBindDeny=any
…</pre></dd><dt id="RestrictNetworkInterfaces="><span class="term"><code class="varname">RestrictNetworkInterfaces=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#RestrictNetworkInterfaces=">¶</a></dt><dd><p>Takes a list of space-separated network interface names. This option restricts the network
          interfaces that processes of this unit can use. By default processes can only use the network interfaces
          listed (allow-list). If the first character of the rule is "<code class="literal">~</code>", the effect is inverted:
          the processes can only use network interfaces not listed (deny-list).
          </p><p>This option can appear multiple times, in which case the network interface names are merged. If the
          empty string is assigned the set is reset, all prior assignments will have not effect.
          </p><p>If you specify both types of this option (i.e. allow-listing and deny-listing), the first encountered
          will take precedence and will dictate the default action (allow vs deny). Then the next occurrences of this
          option will add or delete the listed network interface names from the set, depending of its type and the
          default action.
          </p><p>The loopback interface ("lo") is not treated in any special way, you have to configure it explicitly
          in the unit file.
          </p><p>Example 1: allow-list
          </p><pre class="programlisting">
RestrictNetworkInterfaces=eth1
RestrictNetworkInterfaces=eth2</pre><p>
          Programs in the unit will be only able to use the eth1 and eth2 network
          interfaces.
          </p><p>Example 2: deny-list
          </p><pre class="programlisting">
RestrictNetworkInterfaces=~eth1 eth2</pre><p>
          Programs in the unit will be able to use any network interface but eth1 and eth2.
          </p><p>Example 3: mixed
          </p><pre class="programlisting">
RestrictNetworkInterfaces=eth1 eth2
RestrictNetworkInterfaces=~eth1</pre><p>
          Programs in the unit will be only able to use the eth2 network interface.
          </p></dd><dt id="DeviceAllow="><span class="term"><code class="varname">DeviceAllow=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#DeviceAllow=">¶</a></dt><dd><p>Control access to specific device nodes by the executed processes. Takes two space-separated
          strings: a device node specifier followed by a combination of <code class="constant">r</code>,
          <code class="constant">w</code>, <code class="constant">m</code> to control <span class="emphasis"><em>r</em></span>eading,
          <span class="emphasis"><em>w</em></span>riting, or creation of the specific device node(s) by the unit
          (<span class="emphasis"><em>m</em></span>knod), respectively. On cgroup-v1 this controls the
          "<code class="literal">devices.allow</code>" control group attribute. For details about this control group
          attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/devices.html" target="_top">Device Whitelist Controller</a>.
          In the unified cgroup hierarchy this functionality is implemented using eBPF filtering.</p><p>The device node specifier is either a path to a device node in the file system, starting with
          <code class="filename">/dev/</code>, or a string starting with either "<code class="literal">char-</code>" or
          "<code class="literal">block-</code>" followed by a device group name, as listed in
          <code class="filename">/proc/devices</code>. The latter is useful to allow-list all current and future
          devices belonging to a specific device group at once. The device group is matched according to
          filename globbing rules, you may hence use the "<code class="literal">*</code>" and "<code class="literal">?</code>"
          wildcards. (Note that such globbing wildcards are not available for device node path
          specifications!) In order to match device nodes by numeric major/minor, use device node paths in
          the <code class="filename">/dev/char/</code> and <code class="filename">/dev/block/</code> directories. However,
          matching devices by major/minor is generally not recommended as assignments are neither stable nor
          portable between systems or different kernel versions.</p><p>Examples: <code class="filename">/dev/sda5</code> is a path to a device node, referring to an ATA or
          SCSI block device. "<code class="literal">char-pts</code>" and "<code class="literal">char-alsa</code>" are specifiers for
          all pseudo TTYs and all ALSA sound devices, respectively. "<code class="literal">char-cpu/*</code>" is a
          specifier matching all CPU related device groups.</p><p>Note that allow lists defined this way should only reference device groups which are
          resolvable at the time the unit is started. Any device groups not resolvable then are not added to
          the device allow list. In order to work around this limitation, consider extending service units
          with a pair of <span class="command"><strong>After=modprobe@xyz.service</strong></span> and
          <span class="command"><strong>Wants=modprobe@xyz.service</strong></span> lines that load the necessary kernel module
          implementing the device group if missing.
          Example: </p><pre class="programlisting">…
[Unit]
Wants=modprobe@loop.service
After=modprobe@loop.service

[Service]
DeviceAllow=block-loop
DeviceAllow=/dev/loop-control
…</pre></dd><dt id="DevicePolicy=auto|closed|strict"><span class="term"><code class="varname">DevicePolicy=auto|closed|strict</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#DevicePolicy=auto%7Cclosed%7Cstrict">¶</a></dt><dd><p>
            Control the policy for allowing device access:
          </p><div class="variablelist"><dl class="variablelist"><dt id="strict"><span class="term"><code class="option">strict</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#strict">¶</a></dt><dd><p>means to only allow types of access that are
                explicitly specified.</p></dd><dt id="closed"><span class="term"><code class="option">closed</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#closed">¶</a></dt><dd><p>in addition, allows access to standard pseudo
                devices including
                <code class="filename">/dev/null</code>,
                <code class="filename">/dev/zero</code>,
                <code class="filename">/dev/full</code>,
                <code class="filename">/dev/random</code>, and
                <code class="filename">/dev/urandom</code>.
                </p></dd><dt id="auto"><span class="term"><code class="option">auto</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#auto">¶</a></dt><dd><p>
                  in addition, allows access to all devices if no
                  explicit <code class="varname">DeviceAllow=</code> is present.
                  This is the default.
                </p></dd></dl></div></dd><dt id="Slice="><span class="term"><code class="varname">Slice=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#Slice=">¶</a></dt><dd><p>The name of the slice unit to place the unit
          in. Defaults to <code class="filename">system.slice</code> for all
          non-instantiated units of all unit types (except for slice
          units themselves see below). Instance units are by default
          placed in a subslice of <code class="filename">system.slice</code>
          that is named after the template name.</p><p>This option may be used to arrange systemd units in a
          hierarchy of slices each of which might have resource
          settings applied.</p><p>For units of type slice, the only accepted value for
          this setting is the parent slice. Since the name of a slice
          unit implies the parent slice, it is hence redundant to ever
          set this parameter directly for slice units.</p><p>Special care should be taken when relying on the default slice assignment in templated service units
          that have <code class="varname">DefaultDependencies=no</code> set, see
          <a href="systemd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd.service</span>(5)</span></a>, section
          "Default Dependencies" for details.</p></dd><dt id="Delegate="><span class="term"><code class="varname">Delegate=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#Delegate=">¶</a></dt><dd><p>Turns on delegation of further resource control partitioning to processes of the unit. Units where this
          is enabled may create and manage their own private subhierarchy of control groups below the control group of
          the unit itself. For unprivileged services (i.e. those using the <code class="varname">User=</code> setting) the unit's
          control group will be made accessible to the relevant user. When enabled the service manager will refrain
          from manipulating control groups or moving processes below the unit's control group, so that a clear concept
          of ownership is established: the control group tree above the unit's control group (i.e. towards the root
          control group) is owned and managed by the service manager of the host, while the control group tree below
          the unit's control group is owned and managed by the unit itself. Takes either a boolean argument or a list
          of control group controller names. If true, delegation is turned on, and all supported controllers are
          enabled for the unit, making them available to the unit's processes for management. If false, delegation is
          turned off entirely (and no additional controllers are enabled). If set to a list of controllers, delegation
          is turned on, and the specified controllers are enabled for the unit. Note that additional controllers than
          the ones specified might be made available as well, depending on configuration of the containing slice unit
          or other units contained in it. Note that assigning the empty string will enable delegation, but reset the
          list of controllers, all assignments prior to this will have no effect.  Defaults to false.</p><p>Note that controller delegation to less privileged code is only safe on the unified control group
          hierarchy. Accordingly, access to the specified controllers will not be granted to unprivileged services on
          the legacy hierarchy, even when requested.</p><p><a name="controllers-text"></a>The following controller names may be specified: <code class="option">cpu</code>, <code class="option">cpuacct</code>,
<code class="option">cpuset</code>, <code class="option">io</code>, <code class="option">blkio</code>, <code class="option">memory</code>, <code class="option">devices</code>,
<code class="option">pids</code>, <code class="option">bpf-firewall</code>, and <code class="option">bpf-devices</code>.</p><p>Not all of these controllers are available on all kernels however, and some are
          specific to the unified hierarchy while others are specific to the legacy hierarchy. Also note that the
          kernel might support further controllers, which aren't covered here yet as delegation is either not supported
          at all for them or not defined cleanly.</p><p>For further details on the delegation model consult <a class="ulink" href="https://systemd.io/CGROUP_DELEGATION" target="_top">Control Group APIs and Delegation</a>.</p></dd><dt id="DisableControllers="><span class="term"><code class="varname">DisableControllers=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#DisableControllers=">¶</a></dt><dd><p>Disables controllers from being enabled for a unit's children. If a controller listed is already in use
          in its subtree, the controller will be removed from the subtree. This can be used to avoid child units being
          able to implicitly or explicitly enable a controller. Defaults to not disabling any controllers.</p><p>It may not be possible to successfully disable a controller if the unit or any child of the unit in
          question delegates controllers to its children, as any delegated subtree of the cgroup hierarchy is unmanaged
          by systemd.</p><p>Multiple controllers may be specified, separated by spaces. You may also pass
          <code class="varname">DisableControllers=</code> multiple times, in which case each new instance adds another controller
          to disable. Passing <code class="varname">DisableControllers=</code> by itself with no controller name present resets
          the disabled controller list.</p><p><a name="controllers-text"></a>The following controller names may be specified: <code class="option">cpu</code>, <code class="option">cpuacct</code>,
<code class="option">cpuset</code>, <code class="option">io</code>, <code class="option">blkio</code>, <code class="option">memory</code>, <code class="option">devices</code>,
<code class="option">pids</code>, <code class="option">bpf-firewall</code>, and <code class="option">bpf-devices</code>.</p></dd><dt id="ManagedOOMSwap=auto|kill"><span class="term"><code class="varname">ManagedOOMSwap=auto|kill</code>, </span><span class="term"><code class="varname">ManagedOOMMemoryPressure=auto|kill</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#ManagedOOMSwap=auto%7Ckill">¶</a></dt><dd><p>Specifies how
          <a href="systemd-oomd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-oomd.service</span>(8)</span></a>
          will act on this unit's cgroups. Defaults to <code class="option">auto</code>.</p><p>When set to <code class="option">kill</code>, <span class="command"><strong>systemd-oomd</strong></span> will actively monitor this unit's
          cgroup metrics to decide whether it needs to act. If the cgroup passes the limits set by
          <a href="oomd.conf.html#"><span class="citerefentry"><span class="refentrytitle">oomd.conf</span>(5)</span></a> or its
          overrides, <span class="command"><strong>systemd-oomd</strong></span> will send a <code class="constant">SIGKILL</code> to all of the processes
          under the chosen candidate cgroup. Note that only descendant cgroups can be eligible candidates for killing;
          the unit that set its property to <code class="option">kill</code> is not a candidate (unless one of its ancestors set
          their property to <code class="option">kill</code>). You can find more details on candidates and kill behavior at
          <a href="systemd-oomd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-oomd.service</span>(8)</span></a>
          and <a href="oomd.conf.html#"><span class="citerefentry"><span class="refentrytitle">oomd.conf</span>(5)</span></a>. Setting
          either of these properties to <code class="option">kill</code> will also automatically acquire
          <code class="varname">After=</code> and <code class="varname">Wants=</code> dependencies on
          <code class="filename">systemd-oomd.service</code> unless <code class="varname">DefaultDependencies=no</code>.
        </p><p>When set to <code class="option">auto</code>, <span class="command"><strong>systemd-oomd</strong></span> will not actively use this cgroup's
          data for monitoring and detection. However, if an ancestor cgroup has one of these properties set to
          <code class="option">kill</code>, a unit with <code class="option">auto</code> can still be an eligible candidate for
          <span class="command"><strong>systemd-oomd</strong></span> to act on.</p></dd><dt id="ManagedOOMMemoryPressureLimit="><span class="term"><code class="varname">ManagedOOMMemoryPressureLimit=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#ManagedOOMMemoryPressureLimit=">¶</a></dt><dd><p>Overrides the default memory pressure limit set by
          <a href="oomd.conf.html#"><span class="citerefentry"><span class="refentrytitle">oomd.conf</span>(5)</span></a> for
          this unit (cgroup). Takes a percentage value between 0% and 100%, inclusive. This property is
          ignored unless <code class="varname">ManagedOOMMemoryPressure=</code><code class="option">kill</code>. Defaults to 0%,
          which means to use the default set by
          <a href="oomd.conf.html#"><span class="citerefentry"><span class="refentrytitle">oomd.conf</span>(5)</span></a>.
          </p></dd><dt id="ManagedOOMPreference=none|avoid|omit"><span class="term"><code class="varname">ManagedOOMPreference=none|avoid|omit</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#ManagedOOMPreference=none%7Cavoid%7Comit">¶</a></dt><dd><p>Allows deprioritizing or omitting this unit's cgroup as a candidate when
          <span class="command"><strong>systemd-oomd</strong></span> needs to act. Requires support for extended attributes (see
          <a href="http://man7.org/linux/man-pages/man7/xattr.7.html"><span class="citerefentry"><span class="refentrytitle">xattr</span>(7)</span></a>)
          in order to use <code class="option">avoid</code> or <code class="option">omit</code>. Additionally,
          <span class="command"><strong>systemd-oomd</strong></span> will ignore these extended attributes if the unit's cgroup is not
          owned by the root user.</p><p>If this property is set to <code class="option">avoid</code>, the service manager will convey this to
          <span class="command"><strong>systemd-oomd</strong></span>, which will only select this cgroup if there are no other viable
          candidates.</p><p>If this property is set to <code class="option">omit</code>, the service manager will convey this to
          <span class="command"><strong>systemd-oomd</strong></span>, which will ignore this cgroup as a candidate and will not perform
          any actions on it.</p><p>It is recommended to use <code class="option">avoid</code> and <code class="option">omit</code> sparingly, as it
          can adversely affect <span class="command"><strong>systemd-oomd</strong></span>'s kill behavior. Also note that these extended
          attributes are not applied recursively to cgroups under this unit's cgroup.</p><p>Defaults to <code class="option">none</code> which means <span class="command"><strong>systemd-oomd</strong></span> will rank this
          unit's cgroup as defined in
          <a href="systemd-oomd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-oomd.service</span>(8)</span></a>
          and <a href="oomd.conf.html#"><span class="citerefentry"><span class="refentrytitle">oomd.conf</span>(5)</span></a>.
          </p></dd></dl></div></div><div class="refsect1"><a name="id-1.9"></a><h2 id="Deprecated Options">Deprecated Options<a class="headerlink" title="Permalink to this headline" href="systemd.resource-control.html#Deprecated%20Options">¶</a></h2><p>The following options are deprecated. Use the indicated superseding options instead:</p><div class="variablelist"><dl class="variablelist"><dt id="CPUShares=weight"><span class="term"><code class="varname">CPUShares=<em class="replaceable"><code>weight</code></em></code>, </span><span class="term"><code class="varname">StartupCPUShares=<em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#CPUShares=weight">¶</a></dt><dd><p>Assign the specified CPU time share weight to the processes executed. These options take an integer
          value and control the "<code class="literal">cpu.shares</code>" control group attribute. The allowed range is 2 to
          262144. Defaults to 1024. For details about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/scheduler/sched-design-CFS.html" target="_top">CFS Scheduler</a>.
          The available CPU time is split up among all units within one slice relative to their CPU time share
          weight.</p><p>While <code class="varname">StartupCPUShares=</code> only applies to the startup phase of the system,
          <code class="varname">CPUShares=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup phase. Using <code class="varname">StartupCPUShares=</code> allows prioritizing specific services at
          boot-up differently than during normal runtime.</p><p>Implies "<code class="literal">CPUAccounting=yes</code>".</p><p>These settings are deprecated. Use <code class="varname">CPUWeight=</code> and
          <code class="varname">StartupCPUWeight=</code> instead.</p></dd><dt id="MemoryLimit=bytes"><span class="term"><code class="varname">MemoryLimit=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#MemoryLimit=bytes">¶</a></dt><dd><p>Specify the limit on maximum memory usage of the executed processes. The limit specifies how much
          process and kernel memory can be used by tasks in this unit. Takes a memory size in bytes. If the value is
          suffixed with K, M, G or T, the specified memory size is parsed as Kilobytes, Megabytes, Gigabytes, or
          Terabytes (with the base 1024), respectively. Alternatively, a percentage value may be specified, which is
          taken relative to the installed physical memory on the system. If assigned the special value
          "<code class="literal">infinity</code>", no memory limit is applied. This controls the
          "<code class="literal">memory.limit_in_bytes</code>" control group attribute. For details about this control group
          attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/memory.html" target="_top">Memory Resource Controller</a>.</p><p>Implies "<code class="literal">MemoryAccounting=yes</code>".</p><p>This setting is deprecated. Use <code class="varname">MemoryMax=</code> instead.</p></dd><dt id="BlockIOAccounting="><span class="term"><code class="varname">BlockIOAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#BlockIOAccounting=">¶</a></dt><dd><p>Turn on Block I/O accounting for this unit, if the legacy control group hierarchy is used on the
          system. Takes a boolean argument. Note that turning on block I/O accounting for one unit will also implicitly
          turn it on for all units contained in the same slice and all for its parent slices and the units contained
          therein. The system default for this setting may be controlled with
          <code class="varname">DefaultBlockIOAccounting=</code> in
          <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>.</p><p>This setting is deprecated. Use <code class="varname">IOAccounting=</code> instead.</p></dd><dt id="BlockIOWeight=weight"><span class="term"><code class="varname">BlockIOWeight=<em class="replaceable"><code>weight</code></em></code>, </span><span class="term"><code class="varname">StartupBlockIOWeight=<em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#BlockIOWeight=weight">¶</a></dt><dd><p>Set the default overall block I/O weight for the executed processes, if the legacy control
        group hierarchy is used on the system. Takes a single weight value (between 10 and 1000) to set the default
        block I/O weight. This controls the "<code class="literal">blkio.weight</code>" control group attribute, which defaults to
        500. For details about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/blkio-controller.html" target="_top">Block IO Controller</a>.
        The available I/O bandwidth is split up among all units within one slice relative to their block I/O
        weight.</p><p>While <code class="varname">StartupBlockIOWeight=</code> only
        applies to the startup phase of the system,
        <code class="varname">BlockIOWeight=</code> applies to the later runtime
        of the system, and if the former is not set also to the
        startup phase. This allows prioritizing specific services at
        boot-up differently than during runtime.</p><p>Implies
        "<code class="literal">BlockIOAccounting=yes</code>".</p><p>These settings are deprecated. Use <code class="varname">IOWeight=</code> and <code class="varname">StartupIOWeight=</code>
        instead.</p></dd><dt id="BlockIODeviceWeight=device weight"><span class="term"><code class="varname">BlockIODeviceWeight=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#BlockIODeviceWeight=device%20weight">¶</a></dt><dd><p>Set the per-device overall block I/O weight for the executed processes, if the legacy control group
          hierarchy is used on the system. Takes a space-separated pair of a file path and a weight value to specify
          the device specific weight value, between 10 and 1000. (Example: "/dev/sda 500"). The file path may be
          specified as path to a block device node or as any other file, in which case the backing block device of the
          file system of the file is determined. This controls the "<code class="literal">blkio.weight_device</code>" control group
          attribute, which defaults to 1000. Use this option multiple times to set weights for multiple devices. For
          details about this control group attribute, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/blkio-controller.html" target="_top">Block IO Controller</a>.</p><p>Implies
          "<code class="literal">BlockIOAccounting=yes</code>".</p><p>This setting is deprecated. Use <code class="varname">IODeviceWeight=</code> instead.</p></dd><dt id="BlockIOReadBandwidth=device bytes"><span class="term"><code class="varname">BlockIOReadBandwidth=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code>, </span><span class="term"><code class="varname">BlockIOWriteBandwidth=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="systemd.resource-control.html#BlockIOReadBandwidth=device%20bytes">¶</a></dt><dd><p>Set the per-device overall block I/O bandwidth limit for the executed processes, if the legacy control
          group hierarchy is used on the system. Takes a space-separated pair of a file path and a bandwidth value (in
          bytes per second) to specify the device specific bandwidth. The file path may be a path to a block device
          node, or as any other file in which case the backing block device of the file system of the file is used. If
          the bandwidth is suffixed with K, M, G, or T, the specified bandwidth is parsed as Kilobytes, Megabytes,
          Gigabytes, or Terabytes, respectively, to the base of 1000. (Example:
          "/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0 5M"). This controls the
          "<code class="literal">blkio.throttle.read_bps_device</code>" and "<code class="literal">blkio.throttle.write_bps_device</code>"
          control group attributes. Use this option multiple times to set bandwidth limits for multiple devices. For
          details about these control group attributes, see <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/blkio-controller.html" target="_top">Block IO Controller</a>.
          </p><p>Implies
          "<code class="literal">BlockIOAccounting=yes</code>".</p><p>These settings are deprecated. Use <code class="varname">IOReadBandwidthMax=</code> and
          <code class="varname">IOWriteBandwidthMax=</code> instead.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.10"></a><h2 id="See Also">See Also<a class="headerlink" title="Permalink to this headline" href="systemd.resource-control.html#See%20Also">¶</a></h2><p>
      <a href="systemd.html#"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>,
      <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>,
      <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>,
      <a href="systemd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd.service</span>(5)</span></a>,
      <a href="systemd.slice.html#"><span class="citerefentry"><span class="refentrytitle">systemd.slice</span>(5)</span></a>,
      <a href="systemd.scope.html#"><span class="citerefentry"><span class="refentrytitle">systemd.scope</span>(5)</span></a>,
      <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a>,
      <a href="systemd.mount.html#"><span class="citerefentry"><span class="refentrytitle">systemd.mount</span>(5)</span></a>,
      <a href="systemd.swap.html#"><span class="citerefentry"><span class="refentrytitle">systemd.swap</span>(5)</span></a>,
      <a href="systemd.exec.html#"><span class="citerefentry"><span class="refentrytitle">systemd.exec</span>(5)</span></a>,
      <a href="systemd.directives.html#"><span class="citerefentry"><span class="refentrytitle">systemd.directives</span>(7)</span></a>,
      <a href="systemd.special.html#"><span class="citerefentry"><span class="refentrytitle">systemd.special</span>(7)</span></a>,
      <a href="systemd-oomd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-oomd.service</span>(8)</span></a>,
      The documentation for control groups and specific controllers in the Linux kernel:
      <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html" target="_top">Control Groups v2</a>.
    </p></div></div></body></html>
