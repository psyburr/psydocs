<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd.exec</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html">Index </a>·
  <a href="systemd.directives.html">Directives </a><span style="float:right">systemd 249</span><hr><div class="refentry"><a name="systemd.exec"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>systemd.exec — Execution environment configuration</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><p><code class="filename"><em class="replaceable"><code>service</code></em>.service</code>,
    <code class="filename"><em class="replaceable"><code>socket</code></em>.socket</code>,
    <code class="filename"><em class="replaceable"><code>mount</code></em>.mount</code>,
    <code class="filename"><em class="replaceable"><code>swap</code></em>.swap</code></p></div><div class="refsect1"><a name="id-1.5"></a><h2 id="Description">Description<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Description">¶</a></h2><p>Unit configuration files for services, sockets, mount points, and swap devices share a subset of
    configuration options which define the execution environment of spawned processes.</p><p>This man page lists the configuration options shared by these four unit types. See
    <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a> for the common
    options of all unit configuration files, and
    <a href="systemd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd.service</span>(5)</span></a>,
    <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a>,
    <a href="systemd.swap.html#"><span class="citerefentry"><span class="refentrytitle">systemd.swap</span>(5)</span></a>, and
    <a href="systemd.mount.html#"><span class="citerefentry"><span class="refentrytitle">systemd.mount</span>(5)</span></a> for more
    information on the specific unit configuration files. The execution specific configuration options are configured
    in the [Service], [Socket], [Mount], or [Swap] sections, depending on the unit type.</p><p>In addition, options which control resources through Linux Control Groups (cgroups) are listed in
    <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>.
    Those options complement options listed here.</p></div><div class="refsect1"><a name="id-1.6"></a><h2 id="Implicit Dependencies">Implicit Dependencies<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Implicit%20Dependencies">¶</a></h2><p>A few execution parameters result in additional, automatic dependencies to be added:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Units with <code class="varname">WorkingDirectory=</code>, <code class="varname">RootDirectory=</code>,
      <code class="varname">RootImage=</code>, <code class="varname">RuntimeDirectory=</code>, <code class="varname">StateDirectory=</code>,
      <code class="varname">CacheDirectory=</code>, <code class="varname">LogsDirectory=</code> or
      <code class="varname">ConfigurationDirectory=</code> set automatically gain dependencies of type
      <code class="varname">Requires=</code> and <code class="varname">After=</code> on all mount units required to access the specified
      paths.  This is equivalent to having them listed explicitly in
      <code class="varname">RequiresMountsFor=</code>.</p></li><li class="listitem"><p>Similarly, units with <code class="varname">PrivateTmp=</code> enabled automatically get mount
      unit dependencies for all mounts required to access <code class="filename">/tmp/</code> and
      <code class="filename">/var/tmp/</code>. They will also gain an automatic <code class="varname">After=</code> dependency
      on
      <a href="systemd-tmpfiles-setup.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-tmpfiles-setup.service</span>(8)</span></a>.
      </p></li><li class="listitem"><p>Units whose standard output or error output is connected to <code class="option">journal</code> or
      <code class="option">kmsg</code> (or their combinations with console output, see below) automatically acquire
      dependencies of type <code class="varname">After=</code> on
      <code class="filename">systemd-journald.socket</code>.</p></li><li class="listitem"><p>Units using <code class="varname">LogNamespace=</code> will automatically gain ordering and
      requirement dependencies on the two socket units associated with
      <code class="filename">systemd-journald@.service</code> instances.</p></li></ul></div></div><div class="refsect1"><a name="id-1.7"></a><h2 id="Paths">Paths<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Paths">¶</a></h2><p>The following settings may be used to change a service's view of the filesystem. Please note that the paths
    must be absolute and must not contain a "<code class="literal">..</code>" path component.</p><div class="variablelist"><dl class="variablelist"><dt id="WorkingDirectory="><span class="term"><code class="varname">WorkingDirectory=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#WorkingDirectory=">¶</a></dt><dd><p>Takes a directory path relative to the service's root directory specified by
        <code class="varname">RootDirectory=</code>, or the special value "<code class="literal">~</code>". Sets the working directory for
        executed processes. If set to "<code class="literal">~</code>", the home directory of the user specified in
        <code class="varname">User=</code> is used. If not set, defaults to the root directory when systemd is running as a
        system instance and the respective user's home directory if run as user. If the setting is prefixed with the
        "<code class="literal">-</code>" character, a missing working directory is not considered fatal. If
        <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code> is not set, then
        <code class="varname">WorkingDirectory=</code> is relative to the root of the system running the service manager.  Note
        that setting this parameter might result in additional dependencies to be added to the unit (see
        above).</p></dd><dt id="RootDirectory="><span class="term"><code class="varname">RootDirectory=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RootDirectory=">¶</a></dt><dd><p>Takes a directory path relative to the host's root directory (i.e. the root of the system
        running the service manager). Sets the root directory for executed processes, with the <a href="http://man7.org/linux/man-pages/man2/chroot.2.html"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> system
        call. If this is used, it must be ensured that the process binary and all its auxiliary files are available in
        the <code class="function">chroot()</code> jail. Note that setting this parameter might result in additional
        dependencies to be added to the unit (see above).</p><p>The <code class="varname">MountAPIVFS=</code> and <code class="varname">PrivateUsers=</code> settings are particularly useful
        in conjunction with <code class="varname">RootDirectory=</code>. For details, see below.</p><p>If <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code> are used together with
        <code class="varname">NotifyAccess=</code> the notification socket is automatically mounted from the host into
        the root environment, to ensure the notification interface can work correctly.</p><p>Note that services using <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code> will
        not be able to log via the syslog or journal protocols to the host logging infrastructure, unless the
        relevant sockets are mounted from the host, specifically:</p><div class="example"><a name="id-1.7.3.2.2.5"></a><p class="title"><b>Example 1. Mounting logging sockets into root environment</b></p><div class="example-contents"><pre class="programlisting">BindReadOnlyPaths=/dev/log /run/systemd/journal/socket /run/systemd/journal/stdout</pre></div></div><br class="example-break"><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="RootImage="><span class="term"><code class="varname">RootImage=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RootImage=">¶</a></dt><dd><p>Takes a path to a block device node or regular file as argument. This call is similar
        to <code class="varname">RootDirectory=</code> however mounts a file system hierarchy from a block device node
        or loopback file instead of a directory. The device node or file system image file needs to contain a
        file system without a partition table, or a file system within an MBR/MS-DOS or GPT partition table
        with only a single Linux-compatible partition, or a set of file systems within a GPT partition table
        that follows the <a class="ulink" href="https://systemd.io/DISCOVERABLE_PARTITIONS" target="_top">Discoverable Partitions
        Specification</a>.</p><p>When <code class="varname">DevicePolicy=</code> is set to "<code class="literal">closed</code>" or
        "<code class="literal">strict</code>", or set to "<code class="literal">auto</code>" and <code class="varname">DeviceAllow=</code> is
        set, then this setting adds <code class="filename">/dev/loop-control</code> with <code class="constant">rw</code> mode,
        "<code class="literal">block-loop</code>" and "<code class="literal">block-blkext</code>" with <code class="constant">rwm</code> mode
        to <code class="varname">DeviceAllow=</code>. See
        <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>
        for the details about <code class="varname">DevicePolicy=</code> or <code class="varname">DeviceAllow=</code>. Also, see
        <code class="varname">PrivateDevices=</code> below, as it may change the setting of
        <code class="varname">DevicePolicy=</code>.</p><p>Units making use of <code class="varname">RootImage=</code> automatically gain an
        <code class="varname">After=</code> dependency on <code class="filename">systemd-udevd.service</code>.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="RootImageOptions="><span class="term"><code class="varname">RootImageOptions=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RootImageOptions=">¶</a></dt><dd><p>Takes a comma-separated list of mount options that will be used on disk images specified by
        <code class="varname">RootImage=</code>. Optionally a partition name can be prefixed, followed by colon, in
        case the image has multiple partitions, otherwise partition name "<code class="literal">root</code>" is implied.
        Options for multiple partitions can be specified in a single line with space separators. Assigning an empty
        string removes previous assignments. Duplicated options are ignored. For a list of valid mount options, please
        refer to
        <a href="http://man7.org/linux/man-pages/man8/mount.8.html"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.
        </p><p>Valid partition names follow the <a class="ulink" href="https://systemd.io/DISCOVERABLE_PARTITIONS" target="_top">Discoverable Partitions Specification</a>:
        <code class="constant">root</code>, <code class="constant">usr</code>, <code class="constant">home</code>, <code class="constant">srv</code>,
        <code class="constant">esp</code>, <code class="constant">xbootldr</code>, <code class="constant">tmp</code>,
        <code class="constant">var</code>.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="RootHash="><span class="term"><code class="varname">RootHash=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RootHash=">¶</a></dt><dd><p>Takes a data integrity (dm-verity) root hash specified in hexadecimal, or the path to a file
        containing a root hash in ASCII hexadecimal format. This option enables data integrity checks using dm-verity,
        if the used image contains the appropriate integrity data (see above) or if <code class="varname">RootVerity=</code> is used.
        The specified hash must match the root hash of integrity data, and is usually at least 256 bits (and hence 64
        formatted hexadecimal characters) long (in case of SHA256 for example). If this option is not specified, but
        the image file carries the "<code class="literal">user.verity.roothash</code>" extended file attribute (see <a href="http://man7.org/linux/man-pages/man7/xattr.7.html"><span class="citerefentry"><span class="refentrytitle">xattr</span>(7)</span></a>), then the root
        hash is read from it, also as formatted hexadecimal characters. If the extended file attribute is not found (or
        is not supported by the underlying file system), but a file with the <code class="filename">.roothash</code> suffix is
        found next to the image file, bearing otherwise the same name (except if the image has the
        <code class="filename">.raw</code> suffix, in which case the root hash file must not have it in its name), the root hash
        is read from it and automatically used, also as formatted hexadecimal characters.</p><p>If the disk image contains a separate <code class="filename">/usr/</code> partition it may also be
        Verity protected, in which case the root hash may configured via an extended attribute
        "<code class="literal">user.verity.usrhash</code>" or a <code class="filename">.usrhash</code> file adjacent to the disk
        image. There's currently no option to configure the root hash for the <code class="filename">/usr/</code> file
        system via the unit file directly.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="RootHashSignature="><span class="term"><code class="varname">RootHashSignature=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RootHashSignature=">¶</a></dt><dd><p>Takes a PKCS7 signature of the <code class="varname">RootHash=</code> option as a path to a
        DER-encoded signature file, or as an ASCII base64 string encoding of a DER-encoded signature prefixed
        by "<code class="literal">base64:</code>". The dm-verity volume will only be opened if the signature of the root
        hash is valid and signed by a public key present in the kernel keyring. If this option is not
        specified, but a file with the <code class="filename">.roothash.p7s</code> suffix is found next to the image
        file, bearing otherwise the same name (except if the image has the <code class="filename">.raw</code> suffix,
        in which case the signature file must not have it in its name), the signature is read from it and
        automatically used.</p><p>If the disk image contains a separate <code class="filename">/usr/</code> partition it may also be
        Verity protected, in which case the signature for the root hash may configured via a
        <code class="filename">.usrhash.p7s</code> file adjacent to the disk image. There's currently no option to
        configure the root hash signature for the <code class="filename">/usr/</code> via the unit file
        directly.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="RootVerity="><span class="term"><code class="varname">RootVerity=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RootVerity=">¶</a></dt><dd><p>Takes the path to a data integrity (dm-verity) file. This option enables data integrity checks
        using dm-verity, if <code class="varname">RootImage=</code> is used and a root-hash is passed and if the used image itself
        does not contains the integrity data. The integrity data must be matched by the root hash. If this option is not
        specified, but a file with the <code class="filename">.verity</code> suffix is found next to the image file, bearing otherwise
        the same name (except if the image has the <code class="filename">.raw</code> suffix, in which case the verity data file must
        not have it in its name), the verity data is read from it and automatically used.</p><p>This option is supported only for disk images that contain a single file system, without an
        enveloping partition table. Images that contain a GPT partition table should instead include both
        root file system and matching Verity data in the same image, implementing the <a class="ulink" href="https://systemd.io/DISCOVERABLE_PARTITIONS" target="_top">Discoverable Partitions Specification</a>.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="MountAPIVFS="><span class="term"><code class="varname">MountAPIVFS=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#MountAPIVFS=">¶</a></dt><dd><p>Takes a boolean argument. If on, a private mount namespace for the unit's processes is created
        and the API file systems <code class="filename">/proc/</code>, <code class="filename">/sys/</code>, <code class="filename">/dev/</code> and
        <code class="filename">/run/</code> (as an empty "<code class="literal">tmpfs</code>") are mounted inside of it, unless they are
        already mounted. Note that this option has no effect unless used in conjunction with
        <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code> as these four mounts are
        generally mounted in the host anyway, and unless the root directory is changed, the private mount namespace
        will be a 1:1 copy of the host's, and include these four mounts. Note that the <code class="filename">/dev/</code> file
        system of the host is bind mounted if this option is used without <code class="varname">PrivateDevices=</code>. To run
        the service with a private, minimal version of <code class="filename">/dev/</code>, combine this option with
        <code class="varname">PrivateDevices=</code>.</p><p>In order to allow propagating mounts at runtime in a safe manner, <code class="filename">/run/systemd/propagate</code>
        on the host will be used to set up new mounts, and <code class="filename">/run/host/incoming/</code> in the private namespace
        will be used as an intermediate step to store them before being moved to the final mount point.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ProtectProc="><span class="term"><code class="varname">ProtectProc=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectProc=">¶</a></dt><dd><p>Takes one of "<code class="literal">noaccess</code>", "<code class="literal">invisible</code>",
        "<code class="literal">ptraceable</code>" or "<code class="literal">default</code>" (which it defaults to). When set, this
        controls the "<code class="literal">hidepid=</code>" mount option of the "<code class="literal">procfs</code>" instance for
        the unit that controls which directories with process metainformation
        (<code class="filename">/proc/<em class="replaceable"><code>PID</code></em></code>) are visible and accessible: when set to
        "<code class="literal">noaccess</code>" the ability to access most of other users' process metadata in
        <code class="filename">/proc/</code> is taken away for processes of the service. When set to
        "<code class="literal">invisible</code>" processes owned by other users are hidden from
        <code class="filename">/proc/</code>. If "<code class="literal">ptraceable</code>" all processes that cannot be
        <code class="function">ptrace()</code>'ed by a process are hidden to it. If "<code class="literal">default</code>" no
        restrictions on <code class="filename">/proc/</code> access or visibility are made. For further details see
        <a class="ulink" href="https://www.kernel.org/doc/html/latest/filesystems/proc.html#mount-options" target="_top">The /proc
        Filesystem</a>. It is generally recommended to run most system services with this option set to
        "<code class="literal">invisible</code>". This option is implemented via file system namespacing, and thus cannot
        be used with services that shall be able to install mount points in the host file system
        hierarchy. Note that the root user is unaffected by this option, so to be effective it has to be used
        together with <code class="varname">User=</code> or <code class="varname">DynamicUser=yes</code>, and also without the
        "<code class="literal">CAP_SYS_PTRACE</code>" capability, which also allows a process to bypass this feature. It
        cannot be used for services that need to access metainformation about other users' processes. This
        option implies <code class="varname">MountAPIVFS=</code>.</p><p>If the kernel doesn't support per-mount point <code class="option">hidepid=</code> mount options this
        setting remains without effect, and the unit's processes will be able to access and see other process
        as if the option was not used.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ProcSubset="><span class="term"><code class="varname">ProcSubset=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProcSubset=">¶</a></dt><dd><p>Takes one of "<code class="literal">all</code>" (the default) and "<code class="literal">pid</code>". If
        "<code class="literal">pid</code>", all files and directories not directly associated with process management and
        introspection are made invisible in the <code class="filename">/proc/</code> file system configured for the
        unit's processes. This controls the "<code class="literal">subset=</code>" mount option of the
        "<code class="literal">procfs</code>" instance for the unit. For further details see <a class="ulink" href="https://www.kernel.org/doc/html/latest/filesystems/proc.html#mount-options" target="_top">The /proc
        Filesystem</a>. Note that Linux exposes various kernel APIs via <code class="filename">/proc/</code>,
        which are made unavailable with this setting. Since these APIs are used frequently this option is
        useful only in a few, specific cases, and is not suitable for most non-trivial programs.</p><p>Much like <code class="varname">ProtectProc=</code> above, this is implemented via file system mount
        namespacing, and hence the same restrictions apply: it is only available to system services, it
        disables mount propagation to the host mount table, and it implies
        <code class="varname">MountAPIVFS=</code>. Also, like <code class="varname">ProtectProc=</code> this setting is gracefully
        disabled if the used kernel does not support the "<code class="literal">subset=</code>" mount option of
        "<code class="literal">procfs</code>".</p></dd><dt id="BindPaths="><span class="term"><code class="varname">BindPaths=</code>, </span><span class="term"><code class="varname">BindReadOnlyPaths=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#BindPaths=">¶</a></dt><dd><p>Configures unit-specific bind mounts. A bind mount makes a particular file or directory
        available at an additional place in the unit's view of the file system. Any bind mounts created with this
        option are specific to the unit, and are not visible in the host's mount table. This option expects a
        whitespace separated list of bind mount definitions. Each definition consists of a colon-separated triple of
        source path, destination path and option string, where the latter two are optional. If only a source path is
        specified the source and destination is taken to be the same. The option string may be either
        "<code class="literal">rbind</code>" or "<code class="literal">norbind</code>" for configuring a recursive or non-recursive bind
        mount. If the destination path is omitted, the option string must be omitted too.
        Each bind mount definition may be prefixed with "<code class="literal">-</code>", in which case it will be ignored
        when its source path does not exist.</p><p><code class="varname">BindPaths=</code> creates regular writable bind mounts (unless the source file system mount
        is already marked read-only), while <code class="varname">BindReadOnlyPaths=</code> creates read-only bind mounts. These
        settings may be used more than once, each usage appends to the unit's list of bind mounts. If the empty string
        is assigned to either of these two options the entire list of bind mounts defined prior to this is reset. Note
        that in this case both read-only and regular bind mounts are reset, regardless which of the two settings is
        used.</p><p>This option is particularly useful when <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code>
        is used. In this case the source path refers to a path on the host file system, while the destination path
        refers to a path below the root directory of the unit.</p><p>Note that the destination directory must exist or systemd must be able to create it.  Thus, it
        is not possible to use those options for mount points nested underneath paths specified in
        <code class="varname">InaccessiblePaths=</code>, or under <code class="filename">/home/</code> and other protected
        directories if <code class="varname">ProtectHome=yes</code> is
        specified. <code class="varname">TemporaryFileSystem=</code> with "<code class="literal">:ro</code>" or
        <code class="varname">ProtectHome=tmpfs</code> should be used instead.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="MountImages="><span class="term"><code class="varname">MountImages=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#MountImages=">¶</a></dt><dd><p>This setting is similar to <code class="varname">RootImage=</code> in that it mounts a file
        system hierarchy from a block device node or loopback file, but the destination directory can be
        specified as well as mount options. This option expects a whitespace separated list of mount
        definitions. Each definition consists of a colon-separated tuple of source path and destination
        definitions, optionally followed by another colon and a list of mount options.</p><p>Mount options may be defined as a single comma-separated list of options, in which case they
        will be implicitly applied to the root partition on the image, or a series of colon-separated tuples
        of partition name and mount options. Valid partition names and mount options are the same as for
        <code class="varname">RootImageOptions=</code> setting described above.</p><p>Each mount definition may be prefixed with "<code class="literal">-</code>", in which case it will be
        ignored when its source path does not exist. The source argument is a path to a block device node or
        regular file. If source or destination contain a "<code class="literal">:</code>", it needs to be escaped as
        "<code class="literal">\:</code>". The device node or file system image file needs to follow the same rules as
        specified for <code class="varname">RootImage=</code>. Any mounts created with this option are specific to the
        unit, and are not visible in the host's mount table.</p><p>These settings may be used more than once, each usage appends to the unit's list of mount
        paths. If the empty string is assigned, the entire list of mount paths defined prior to this is
        reset.</p><p>Note that the destination directory must exist or systemd must be able to create it.  Thus, it
        is not possible to use those options for mount points nested underneath paths specified in
        <code class="varname">InaccessiblePaths=</code>, or under <code class="filename">/home/</code> and other protected
        directories if <code class="varname">ProtectHome=yes</code> is specified.</p><p>When <code class="varname">DevicePolicy=</code> is set to "<code class="literal">closed</code>" or
        "<code class="literal">strict</code>", or set to "<code class="literal">auto</code>" and <code class="varname">DeviceAllow=</code> is
        set, then this setting adds <code class="filename">/dev/loop-control</code> with <code class="constant">rw</code> mode,
        "<code class="literal">block-loop</code>" and "<code class="literal">block-blkext</code>" with <code class="constant">rwm</code> mode
        to <code class="varname">DeviceAllow=</code>. See
        <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>
        for the details about <code class="varname">DevicePolicy=</code> or <code class="varname">DeviceAllow=</code>. Also, see
        <code class="varname">PrivateDevices=</code> below, as it may change the setting of
        <code class="varname">DevicePolicy=</code>.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ExtensionImages="><span class="term"><code class="varname">ExtensionImages=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ExtensionImages=">¶</a></dt><dd><p>This setting is similar to <code class="varname">MountImages=</code> in that it mounts a file
        system hierarchy from a block device node or loopback file, but instead of providing a destination
        path, an overlay will be set up. This option expects a whitespace separated list of mount
        definitions. Each definition consists of a source path, optionally followed by a colon and a list of
        mount options.</p><p>A read-only OverlayFS will be set up on top of <code class="filename">/usr/</code> and
        <code class="filename">/opt/</code> hierarchies. The order in which the images are listed will determine the
        order in which the overlay is laid down: images specified first to last will result in overlayfs
        layers bottom to top.</p><p>Mount options may be defined as a single comma-separated list of options, in which case they
        will be implicitly applied to the root partition on the image, or a series of colon-separated tuples
        of partition name and mount options. Valid partition names and mount options are the same as for
        <code class="varname">RootImageOptions=</code> setting described above.</p><p>Each mount definition may be prefixed with "<code class="literal">-</code>", in which case it will be
        ignored when its source path does not exist. The source argument is a path to a block device node or
        regular file. If the source path contains a "<code class="literal">:</code>", it needs to be escaped as
        "<code class="literal">\:</code>". The device node or file system image file needs to follow the same rules as
        specified for <code class="varname">RootImage=</code>. Any mounts created with this option are specific to the
        unit, and are not visible in the host's mount table.</p><p>These settings may be used more than once, each usage appends to the unit's list of image
        paths. If the empty string is assigned, the entire list of mount paths defined prior to this is
        reset.</p><p>Each image must carry a <code class="filename">/usr/lib/extension-release.d/extension-release.IMAGE</code>
        file, with the appropriate metadata which matches <code class="varname">RootImage=</code>/<code class="varname">RootDirectory=</code>
        or the host. See:
        <a href="os-release.html#"><span class="citerefentry"><span class="refentrytitle">os-release</span>(5)</span></a>.</p><p>When <code class="varname">DevicePolicy=</code> is set to "<code class="literal">closed</code>" or
        "<code class="literal">strict</code>", or set to "<code class="literal">auto</code>" and <code class="varname">DeviceAllow=</code> is
        set, then this setting adds <code class="filename">/dev/loop-control</code> with <code class="constant">rw</code> mode,
        "<code class="literal">block-loop</code>" and "<code class="literal">block-blkext</code>" with <code class="constant">rwm</code> mode
        to <code class="varname">DeviceAllow=</code>. See
        <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>
        for the details about <code class="varname">DevicePolicy=</code> or <code class="varname">DeviceAllow=</code>. Also, see
        <code class="varname">PrivateDevices=</code> below, as it may change the setting of
        <code class="varname">DevicePolicy=</code>.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.8"></a><h2 id="User/Group Identity">User/Group Identity<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#User/Group%20Identity">¶</a></h2><p><a name="plural"></a>These options are only available for system services and are not supported for services
running in per-user instances of the service manager.</p><div class="variablelist"><dl class="variablelist"><dt id="User="><span class="term"><code class="varname">User=</code>, </span><span class="term"><code class="varname">Group=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#User=">¶</a></dt><dd><p>Set the UNIX user or group that the processes are executed as, respectively. Takes a single
        user or group name, or a numeric ID as argument. For system services (services run by the system service
        manager, i.e. managed by PID 1) and for user services of the root user (services managed by root's instance of
        <span class="command"><strong>systemd --user</strong></span>), the default is "<code class="literal">root</code>", but <code class="varname">User=</code> may be
        used to specify a different user. For user services of any other user, switching user identity is not
        permitted, hence the only valid setting is the same user the user's service manager is running as. If no group
        is set, the default group of the user is used. This setting does not affect commands whose command line is
        prefixed with "<code class="literal">+</code>".</p><p>Note that this enforces only weak restrictions on the user/group name syntax, but will generate
        warnings in many cases where user/group names do not adhere to the following rules: the specified
        name should consist only of the characters a-z, A-Z, 0-9, "<code class="literal">_</code>" and
        "<code class="literal">-</code>", except for the first character which must be one of a-z, A-Z and
        "<code class="literal">_</code>" (i.e. digits and "<code class="literal">-</code>" are not permitted as first character). The
        user/group name must have at least one character, and at most 31. These restrictions are made in
        order to avoid ambiguities and to ensure user/group names and unit files remain portable among Linux
        systems. For further details on the names accepted and the names warned about see <a class="ulink" href="https://systemd.io/USER_NAMES" target="_top">User/Group Name Syntax</a>.</p><p>When used in conjunction with <code class="varname">DynamicUser=</code> the user/group name specified is
        dynamically allocated at the time the service is started, and released at the time the service is
        stopped — unless it is already allocated statically (see below). If <code class="varname">DynamicUser=</code>
        is not used the specified user and group must have been created statically in the user database no
        later than the moment the service is started, for example using the
        <a href="sysusers.d.html#"><span class="citerefentry"><span class="refentrytitle">sysusers.d</span>(5)</span></a>
        facility, which is applied at boot or package install time. If the user does not exist by then
        program invocation will fail.</p><p>If the <code class="varname">User=</code> setting is used the supplementary group list is initialized
        from the specified user's default group list, as defined in the system's user and group
        database. Additional groups may be configured through the <code class="varname">SupplementaryGroups=</code>
        setting (see below).</p></dd><dt id="DynamicUser="><span class="term"><code class="varname">DynamicUser=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#DynamicUser=">¶</a></dt><dd><p>Takes a boolean parameter. If set, a UNIX user and group pair is allocated
        dynamically when the unit is started, and released as soon as it is stopped. The user and group will
        not be added to <code class="filename">/etc/passwd</code> or <code class="filename">/etc/group</code>, but are managed
        transiently during runtime. The
        <a href="nss-systemd.html#"><span class="citerefentry"><span class="refentrytitle">nss-systemd</span>(8)</span></a> glibc
        NSS module provides integration of these dynamic users/groups into the system's user and group
        databases. The user and group name to use may be configured via <code class="varname">User=</code> and
        <code class="varname">Group=</code> (see above). If these options are not used and dynamic user/group
        allocation is enabled for a unit, the name of the dynamic user/group is implicitly derived from the
        unit name. If the unit name without the type suffix qualifies as valid user name it is used directly,
        otherwise a name incorporating a hash of it is used. If a statically allocated user or group of the
        configured name already exists, it is used and no dynamic user/group is allocated. Note that if
        <code class="varname">User=</code> is specified and the static group with the name exists, then it is required
        that the static user with the name already exists. Similarly, if <code class="varname">Group=</code> is
        specified and the static user with the name exists, then it is required that the static group with
        the name already exists. Dynamic users/groups are allocated from the UID/GID range 61184…65519. It is
        recommended to avoid this range for regular system or login users.  At any point in time each UID/GID
        from this range is only assigned to zero or one dynamically allocated users/groups in use. However,
        UID/GIDs are recycled after a unit is terminated. Care should be taken that any processes running as
        part of a unit for which dynamic users/groups are enabled do not leave files or directories owned by
        these users/groups around, as a different unit might get the same UID/GID assigned later on, and thus
        gain access to these files or directories. If <code class="varname">DynamicUser=</code> is enabled,
        <code class="varname">RemoveIPC=</code> and <code class="varname">PrivateTmp=</code> are implied (and cannot be turned
        off). This ensures that the lifetime of IPC objects and temporary files created by the executed
        processes is bound to the runtime of the service, and hence the lifetime of the dynamic
        user/group. Since <code class="filename">/tmp/</code> and <code class="filename">/var/tmp/</code> are usually the only
        world-writable directories on a system this ensures that a unit making use of dynamic user/group
        allocation cannot leave files around after unit termination. Furthermore
        <code class="varname">NoNewPrivileges=</code> and <code class="varname">RestrictSUIDSGID=</code> are implicitly enabled
        (and cannot be disabled), to ensure that processes invoked cannot take benefit or create SUID/SGID
        files or directories. Moreover <code class="varname">ProtectSystem=strict</code> and
        <code class="varname">ProtectHome=read-only</code> are implied, thus prohibiting the service to write to
        arbitrary file system locations. In order to allow the service to write to certain directories, they
        have to be allow-listed using <code class="varname">ReadWritePaths=</code>, but care must be taken so that
        UID/GID recycling doesn't create security issues involving files created by the service. Use
        <code class="varname">RuntimeDirectory=</code> (see below) in order to assign a writable runtime directory to a
        service, owned by the dynamic user/group and removed automatically when the unit is terminated. Use
        <code class="varname">StateDirectory=</code>, <code class="varname">CacheDirectory=</code> and
        <code class="varname">LogsDirectory=</code> in order to assign a set of writable directories for specific
        purposes to the service in a way that they are protected from vulnerabilities due to UID reuse (see
        below). If this option is enabled, care should be taken that the unit's processes do not get access
        to directories outside of these explicitly configured and managed ones. Specifically, do not use
        <code class="varname">BindPaths=</code> and be careful with <code class="constant">AF_UNIX</code> file descriptor
        passing for directory file descriptors, as this would permit processes to create files or directories
        owned by the dynamic user/group that are not subject to the lifecycle and access guarantees of the
        service. Defaults to off.</p></dd><dt id="SupplementaryGroups="><span class="term"><code class="varname">SupplementaryGroups=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SupplementaryGroups=">¶</a></dt><dd><p>Sets the supplementary Unix groups the processes are executed as. This takes a space-separated
        list of group names or IDs. This option may be specified more than once, in which case all listed groups are
        set as supplementary groups. When the empty string is assigned, the list of supplementary groups is reset, and
        all assignments prior to this one will have no effect. In any way, this option does not override, but extends
        the list of supplementary groups configured in the system group database for the user. This does not affect
        commands prefixed with "<code class="literal">+</code>".</p></dd><dt id="PAMName="><span class="term"><code class="varname">PAMName=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PAMName=">¶</a></dt><dd><p>Sets the PAM service name to set up a session as. If set, the executed process will be
        registered as a PAM session under the specified service name. This is only useful in conjunction with the
        <code class="varname">User=</code> setting, and is otherwise ignored. If not set, no PAM session will be opened for the
        executed processes. See <a href="http://man7.org/linux/man-pages/man8/pam.8.html"><span class="citerefentry"><span class="refentrytitle">pam</span>(8)</span></a> for
        details.</p><p>Note that for each unit making use of this option a PAM session handler process will be maintained as
        part of the unit and stays around as long as the unit is active, to ensure that appropriate actions can be
        taken when the unit and hence the PAM session terminates. This process is named "<code class="literal">(sd-pam)</code>" and
        is an immediate child process of the unit's main process.</p><p>Note that when this option is used for a unit it is very likely (depending on PAM configuration) that the
        main unit process will be migrated to its own session scope unit when it is activated. This process will hence
        be associated with two units: the unit it was originally started from (and for which
        <code class="varname">PAMName=</code> was configured), and the session scope unit. Any child processes of that process
        will however be associated with the session scope unit only. This has implications when used in combination
        with <code class="varname">NotifyAccess=</code><code class="option">all</code>, as these child processes will not be able to affect
        changes in the original unit through notification messages. These messages will be considered belonging to the
        session scope unit and not the original unit. It is hence not recommended to use <code class="varname">PAMName=</code> in
        combination with <code class="varname">NotifyAccess=</code><code class="option">all</code>.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.9"></a><h2 id="Capabilities">Capabilities<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Capabilities">¶</a></h2><p><a name="plural"></a>These options are only available for system services and are not supported for services
running in per-user instances of the service manager.</p><div class="variablelist"><dl class="variablelist"><dt id="CapabilityBoundingSet="><span class="term"><code class="varname">CapabilityBoundingSet=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#CapabilityBoundingSet=">¶</a></dt><dd><p>Controls which capabilities to include in the capability bounding set for the
        executed process. See <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html"><span class="citerefentry"><span class="refentrytitle">capabilities</span>(7)</span></a>
        for details. Takes a whitespace-separated list of capability names,
        e.g. <code class="constant">CAP_SYS_ADMIN</code>, <code class="constant">CAP_DAC_OVERRIDE</code>,
        <code class="constant">CAP_SYS_PTRACE</code>. Capabilities listed will be included in the bounding set, all
        others are removed. If the list of capabilities is prefixed with "<code class="literal">~</code>", all but the
        listed capabilities will be included, the effect of the assignment inverted. Note that this option
        also affects the respective capabilities in the effective, permitted and inheritable capability
        sets. If this option is not used, the capability bounding set is not modified on process execution,
        hence no limits on the capabilities of the process are enforced. This option may appear more than
        once, in which case the bounding sets are merged by <code class="constant">OR</code>, or by
        <code class="constant">AND</code> if the lines are prefixed with "<code class="literal">~</code>" (see below). If the
        empty string is assigned to this option, the bounding set is reset to the empty capability set, and
        all prior settings have no effect.  If set to "<code class="literal">~</code>" (without any further argument),
        the bounding set is reset to the full set of available capabilities, also undoing any previous
        settings. This does not affect commands prefixed with "<code class="literal">+</code>".</p><p>Use
        <a href="systemd-analyze.html#"><span class="citerefentry"><span class="refentrytitle">systemd-analyze</span>(1)</span></a>'s
        <span class="command"><strong>capability</strong></span> command to retrieve a list of capabilities defined on the local
        system.</p><p>Example: if a unit has the following,
        </p><pre class="programlisting">CapabilityBoundingSet=CAP_A CAP_B
CapabilityBoundingSet=CAP_B CAP_C</pre><p>
        then <code class="constant">CAP_A</code>, <code class="constant">CAP_B</code>, and
        <code class="constant">CAP_C</code> are set.  If the second line is prefixed with
        "<code class="literal">~</code>", e.g.,
        </p><pre class="programlisting">CapabilityBoundingSet=CAP_A CAP_B
CapabilityBoundingSet=~CAP_B CAP_C</pre><p>
        then, only <code class="constant">CAP_A</code> is set.</p></dd><dt id="AmbientCapabilities="><span class="term"><code class="varname">AmbientCapabilities=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#AmbientCapabilities=">¶</a></dt><dd><p>Controls which capabilities to include in the ambient capability set for the executed
        process. Takes a whitespace-separated list of capability names, e.g. <code class="constant">CAP_SYS_ADMIN</code>,
        <code class="constant">CAP_DAC_OVERRIDE</code>, <code class="constant">CAP_SYS_PTRACE</code>. This option may appear more than
        once in which case the ambient capability sets are merged (see the above examples in
        <code class="varname">CapabilityBoundingSet=</code>). If the list of capabilities is prefixed with "<code class="literal">~</code>",
        all but the listed capabilities will be included, the effect of the assignment inverted. If the empty string is
        assigned to this option, the ambient capability set is reset to the empty capability set, and all prior
        settings have no effect.  If set to "<code class="literal">~</code>" (without any further argument), the ambient capability
        set is reset to the full set of available capabilities, also undoing any previous settings. Note that adding
        capabilities to ambient capability set adds them to the process's inherited capability set.  </p><p>
        Ambient capability sets are useful if you want to execute a process as a non-privileged user but still want to
        give it some capabilities.  Note that in this case option <code class="constant">keep-caps</code> is automatically added
        to <code class="varname">SecureBits=</code> to retain the capabilities over the user
        change. <code class="varname">AmbientCapabilities=</code> does not affect commands prefixed with
        "<code class="literal">+</code>".</p></dd></dl></div></div><div class="refsect1"><a name="id-1.10"></a><h2 id="Security">Security<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Security">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="NoNewPrivileges="><span class="term"><code class="varname">NoNewPrivileges=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#NoNewPrivileges=">¶</a></dt><dd><p>Takes a boolean argument. If true, ensures that the service process and all its
        children can never gain new privileges through <code class="function">execve()</code> (e.g. via setuid or
        setgid bits, or filesystem capabilities). This is the simplest and most effective way to ensure that
        a process and its children can never elevate privileges again. Defaults to false, but certain
        settings override this and ignore the value of this setting.  This is the case when
        <code class="varname">DynamicUser=</code>,
        <code class="varname">LockPersonality=</code>,
        <code class="varname">MemoryDenyWriteExecute=</code>,
        <code class="varname">PrivateDevices=</code>,
        <code class="varname">ProtectClock=</code>,
        <code class="varname">ProtectHostname=</code>,
        <code class="varname">ProtectKernelLogs=</code>,
        <code class="varname">ProtectKernelModules=</code>,
        <code class="varname">ProtectKernelTunables=</code>,
        <code class="varname">RestrictAddressFamilies=</code>,
        <code class="varname">RestrictNamespaces=</code>,
        <code class="varname">RestrictRealtime=</code>,
        <code class="varname">RestrictSUIDSGID=</code>,
        <code class="varname">SystemCallArchitectures=</code>,
        <code class="varname">SystemCallFilter=</code>, or
        <code class="varname">SystemCallLog=</code> are specified. Note that even if this setting is overridden
        by them, <span class="command"><strong>systemctl show</strong></span> shows the original value of this setting. In case the
        service will be run in a new mount namespace anyway and SELinux is disabled, all file systems
        are mounted with <code class="constant">MS_NOSUID</code> flag. Also see
        <a class="ulink" href="https://www.kernel.org/doc/html/latest/userspace-api/no_new_privs.html" target="_top">No New
        Privileges Flag</a>.</p></dd><dt id="SecureBits="><span class="term"><code class="varname">SecureBits=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SecureBits=">¶</a></dt><dd><p>Controls the secure bits set for the executed process. Takes a space-separated combination of
        options from the following list: <code class="option">keep-caps</code>, <code class="option">keep-caps-locked</code>,
        <code class="option">no-setuid-fixup</code>, <code class="option">no-setuid-fixup-locked</code>, <code class="option">noroot</code>, and
        <code class="option">noroot-locked</code>.  This option may appear more than once, in which case the secure bits are
        ORed. If the empty string is assigned to this option, the bits are reset to 0. This does not affect commands
        prefixed with "<code class="literal">+</code>".  See <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html"><span class="citerefentry"><span class="refentrytitle">capabilities</span>(7)</span></a> for
        details.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.11"></a><h2 id="Mandatory Access Control">Mandatory Access Control<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Mandatory%20Access%20Control">¶</a></h2><p><a name="plural"></a>These options are only available for system services and are not supported for services
running in per-user instances of the service manager.</p><div class="variablelist"><dl class="variablelist"><dt id="SELinuxContext="><span class="term"><code class="varname">SELinuxContext=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SELinuxContext=">¶</a></dt><dd><p>Set the SELinux security context of the executed process. If set, this will override the
        automated domain transition. However, the policy still needs to authorize the transition. This directive is
        ignored if SELinux is disabled. If prefixed by "<code class="literal">-</code>", all errors will be ignored. This does not
        affect commands prefixed with "<code class="literal">+</code>".  See <a href="http://linux.die.net/man/3/setexeccon"><span class="citerefentry"><span class="refentrytitle">setexeccon</span>(3)</span></a> for
        details.</p></dd><dt id="AppArmorProfile="><span class="term"><code class="varname">AppArmorProfile=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#AppArmorProfile=">¶</a></dt><dd><p>Takes a profile name as argument. The process executed by the unit will switch to
        this profile when started. Profiles must already be loaded in the kernel, or the unit will fail. If
        prefixed by "<code class="literal">-</code>", all errors will be ignored. This setting has no effect if AppArmor
        is not enabled. This setting does not affect commands prefixed with "<code class="literal">+</code>".</p></dd><dt id="SmackProcessLabel="><span class="term"><code class="varname">SmackProcessLabel=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SmackProcessLabel=">¶</a></dt><dd><p>Takes a <code class="option">SMACK64</code> security label as argument. The process executed by the unit
        will be started under this label and SMACK will decide whether the process is allowed to run or not, based on
        it. The process will continue to run under the label specified here unless the executable has its own
        <code class="option">SMACK64EXEC</code> label, in which case the process will transition to run under that label. When not
        specified, the label that systemd is running under is used. This directive is ignored if SMACK is
        disabled.</p><p>The value may be prefixed by "<code class="literal">-</code>", in which case all errors will be ignored. An empty
        value may be specified to unset previous assignments. This does not affect commands prefixed with
        "<code class="literal">+</code>".</p></dd></dl></div></div><div class="refsect1"><a name="id-1.12"></a><h2 id="Process Properties">Process Properties<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Process%20Properties">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="LimitCPU="><span class="term"><code class="varname">LimitCPU=</code>, </span><span class="term"><code class="varname">LimitFSIZE=</code>, </span><span class="term"><code class="varname">LimitDATA=</code>, </span><span class="term"><code class="varname">LimitSTACK=</code>, </span><span class="term"><code class="varname">LimitCORE=</code>, </span><span class="term"><code class="varname">LimitRSS=</code>, </span><span class="term"><code class="varname">LimitNOFILE=</code>, </span><span class="term"><code class="varname">LimitAS=</code>, </span><span class="term"><code class="varname">LimitNPROC=</code>, </span><span class="term"><code class="varname">LimitMEMLOCK=</code>, </span><span class="term"><code class="varname">LimitLOCKS=</code>, </span><span class="term"><code class="varname">LimitSIGPENDING=</code>, </span><span class="term"><code class="varname">LimitMSGQUEUE=</code>, </span><span class="term"><code class="varname">LimitNICE=</code>, </span><span class="term"><code class="varname">LimitRTPRIO=</code>, </span><span class="term"><code class="varname">LimitRTTIME=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#LimitCPU=">¶</a></dt><dd><p>Set soft and hard limits on various resources for executed processes. See
        <a href="http://man7.org/linux/man-pages/man2/setrlimit.2.html"><span class="citerefentry"><span class="refentrytitle">setrlimit</span>(2)</span></a> for
        details on the resource limit concept. Resource limits may be specified in two formats: either as
        single value to set a specific soft and hard limit to the same value, or as colon-separated pair
        <code class="option">soft:hard</code> to set both limits individually (e.g. "<code class="literal">LimitAS=4G:16G</code>").
        Use the string <code class="option">infinity</code> to configure no limit on a specific resource. The
        multiplicative suffixes K, M, G, T, P and E (to the base 1024) may be used for resource limits
        measured in bytes (e.g. "<code class="literal">LimitAS=16G</code>"). For the limits referring to time values, the
        usual time units ms, s, min, h and so on may be used (see
        <a href="systemd.time.html#"><span class="citerefentry"><span class="refentrytitle">systemd.time</span>(7)</span></a> for
        details). Note that if no time unit is specified for <code class="varname">LimitCPU=</code> the default unit of
        seconds is implied, while for <code class="varname">LimitRTTIME=</code> the default unit of microseconds is
        implied. Also, note that the effective granularity of the limits might influence their
        enforcement. For example, time limits specified for <code class="varname">LimitCPU=</code> will be rounded up
        implicitly to multiples of 1s. For <code class="varname">LimitNICE=</code> the value may be specified in two
        syntaxes: if prefixed with "<code class="literal">+</code>" or "<code class="literal">-</code>", the value is understood as
        regular Linux nice value in the range -20…19. If not prefixed like this the value is understood as
        raw resource limit parameter in the range 0…40 (with 0 being equivalent to 1).</p><p>Note that most process resource limits configured with these options are per-process, and
        processes may fork in order to acquire a new set of resources that are accounted independently of the
        original process, and may thus escape limits set. Also note that <code class="varname">LimitRSS=</code> is not
        implemented on Linux, and setting it has no effect. Often it is advisable to prefer the resource
        controls listed in
        <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>
        over these per-process limits, as they apply to services as a whole, may be altered dynamically at
        runtime, and are generally more expressive. For example, <code class="varname">MemoryMax=</code> is a more
        powerful (and working) replacement for <code class="varname">LimitRSS=</code>.</p><p>Resource limits not configured explicitly for a unit default to the value configured in the various
        <code class="varname">DefaultLimitCPU=</code>, <code class="varname">DefaultLimitFSIZE=</code>, … options available in
        <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>, and –
        if not configured there – the kernel or per-user defaults, as defined by the OS (the latter only for user
        services, see below).</p><p>For system units these resource limits may be chosen freely. When these settings are configured
        in a user service (i.e. a service run by the per-user instance of the service manager) they cannot be
        used to raise the limits above those set for the user manager itself when it was first invoked, as
        the user's service manager generally lacks the privileges to do so. In user context these
        configuration options are hence only useful to lower the limits passed in or to raise the soft limit
        to the maximum of the hard limit as configured for the user. To raise the user's limits further, the
        available configuration mechanisms differ between operating systems, but typically require
        privileges. In most cases it is possible to configure higher per-user resource limits via PAM or by
        setting limits on the system service encapsulating the user's service manager, i.e. the user's
        instance of <code class="filename">user@.service</code>. After making such changes, make sure to restart the
        user's service manager.</p><div class="table"><a name="id-1.12.2.1.17.5"></a><p class="title"><b>Table 1. Resource limit directives, their equivalent <span class="command">ulimit</span> shell commands and the unit used</b></p><div class="table-contents"><table class="table" summary="Resource limit directives, their equivalent ulimit shell commands and the unit used" border="1"><colgroup><col class="directive"><col class="equivalent"><col class="unit"></colgroup><thead><tr><th>Directive</th><th><span class="command"><strong>ulimit</strong></span> equivalent</th><th>Unit</th></tr></thead><tbody><tr><td>LimitCPU=</td><td>ulimit -t</td><td>Seconds</td></tr><tr><td>LimitFSIZE=</td><td>ulimit -f</td><td>Bytes</td></tr><tr><td>LimitDATA=</td><td>ulimit -d</td><td>Bytes</td></tr><tr><td>LimitSTACK=</td><td>ulimit -s</td><td>Bytes</td></tr><tr><td>LimitCORE=</td><td>ulimit -c</td><td>Bytes</td></tr><tr><td>LimitRSS=</td><td>ulimit -m</td><td>Bytes</td></tr><tr><td>LimitNOFILE=</td><td>ulimit -n</td><td>Number of File Descriptors</td></tr><tr><td>LimitAS=</td><td>ulimit -v</td><td>Bytes</td></tr><tr><td>LimitNPROC=</td><td>ulimit -u</td><td>Number of Processes</td></tr><tr><td>LimitMEMLOCK=</td><td>ulimit -l</td><td>Bytes</td></tr><tr><td>LimitLOCKS=</td><td>ulimit -x</td><td>Number of Locks</td></tr><tr><td>LimitSIGPENDING=</td><td>ulimit -i</td><td>Number of Queued Signals</td></tr><tr><td>LimitMSGQUEUE=</td><td>ulimit -q</td><td>Bytes</td></tr><tr><td>LimitNICE=</td><td>ulimit -e</td><td>Nice Level</td></tr><tr><td>LimitRTPRIO=</td><td>ulimit -r</td><td>Realtime Priority</td></tr><tr><td>LimitRTTIME=</td><td>No equivalent</td><td>Microseconds</td></tr></tbody></table></div></div><br class="table-break"></dd><dt id="UMask="><span class="term"><code class="varname">UMask=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#UMask=">¶</a></dt><dd><p>Controls the file mode creation mask. Takes an access mode in octal notation. See
        <a href="http://man7.org/linux/man-pages/man2/umask.2.html"><span class="citerefentry"><span class="refentrytitle">umask</span>(2)</span></a> for
        details. Defaults to 0022 for system units. For user units the default value is inherited from the
        per-user service manager (whose default is in turn inherited from the system service manager, and
        thus typically also is 0022 — unless overridden by a PAM module). In order to change the per-user mask
        for all user services, consider setting the <code class="varname">UMask=</code> setting of the user's
        <code class="filename">user@.service</code> system service instance. The per-user umask may also be set via
        the <code class="varname">umask</code> field of a user's <a class="ulink" href="https://systemd.io/USER_RECORD" target="_top">JSON User
        Record</a> (for users managed by
        <a href="systemd-homed.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-homed.service</span>(8)</span></a>
        this field may be controlled via <span class="command"><strong>homectl --umask=</strong></span>). It may also be set via a PAM
        module, such as <a href="http://man7.org/linux/man-pages/man8/pam_umask.8.html"><span class="citerefentry"><span class="refentrytitle">pam_umask</span>(8)</span></a>.</p></dd><dt id="CoredumpFilter="><span class="term"><code class="varname">CoredumpFilter=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#CoredumpFilter=">¶</a></dt><dd><p>Controls which types of memory mappings will be saved if the process dumps core
        (using the <code class="filename">/proc/<em class="replaceable"><code>pid</code></em>/coredump_filter</code> file). Takes a
        whitespace-separated combination of mapping type names or numbers (with the default base 16). Mapping
        type names are <code class="constant">private-anonymous</code>, <code class="constant">shared-anonymous</code>,
        <code class="constant">private-file-backed</code>, <code class="constant">shared-file-backed</code>,
        <code class="constant">elf-headers</code>, <code class="constant">private-huge</code>,
        <code class="constant">shared-huge</code>, <code class="constant">private-dax</code>, <code class="constant">shared-dax</code>,
        and the special values <code class="constant">all</code> (all types) and <code class="constant">default</code> (the
        kernel default of "<code class="literal"><code class="constant">private-anonymous</code>
        <code class="constant">shared-anonymous</code> <code class="constant">elf-headers</code>
        <code class="constant">private-huge</code></code>"). See
        <a href="http://man7.org/linux/man-pages/man5/core.5.html"><span class="citerefentry"><span class="refentrytitle">core</span>(5)</span></a>
        for the meaning of the mapping types. When specified multiple times, all specified masks are
        ORed. When not set, or if the empty value is assigned, the inherited value is not changed.</p><div class="example"><a name="id-1.12.2.3.2.2"></a><p class="title"><b>Example 2. Add DAX pages to the dump filter</b></p><div class="example-contents"><pre class="programlisting">CoredumpFilter=default private-dax shared-dax</pre></div></div><br class="example-break"></dd><dt id="KeyringMode="><span class="term"><code class="varname">KeyringMode=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#KeyringMode=">¶</a></dt><dd><p>Controls how the kernel session keyring is set up for the service (see <a href="http://man7.org/linux/man-pages/man7/session-keyring.7.html"><span class="citerefentry"><span class="refentrytitle">session-keyring</span>(7)</span></a> for
        details on the session keyring). Takes one of <code class="option">inherit</code>, <code class="option">private</code>,
        <code class="option">shared</code>. If set to <code class="option">inherit</code> no special keyring setup is done, and the kernel's
        default behaviour is applied. If <code class="option">private</code> is used a new session keyring is allocated when a
        service process is invoked, and it is not linked up with any user keyring. This is the recommended setting for
        system services, as this ensures that multiple services running under the same system user ID (in particular
        the root user) do not share their key material among each other. If <code class="option">shared</code> is used a new
        session keyring is allocated as for <code class="option">private</code>, but the user keyring of the user configured with
        <code class="varname">User=</code> is linked into it, so that keys assigned to the user may be requested by the unit's
        processes. In this modes multiple units running processes under the same user ID may share key material. Unless
        <code class="option">inherit</code> is selected the unique invocation ID for the unit (see below) is added as a protected
        key by the name "<code class="literal">invocation_id</code>" to the newly created session keyring. Defaults to
        <code class="option">private</code> for services of the system service manager and to <code class="option">inherit</code> for
        non-service units and for services of the user service manager.</p></dd><dt id="OOMScoreAdjust="><span class="term"><code class="varname">OOMScoreAdjust=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#OOMScoreAdjust=">¶</a></dt><dd><p>Sets the adjustment value for the Linux kernel's Out-Of-Memory (OOM) killer score for
        executed processes. Takes an integer between -1000 (to disable OOM killing of processes of this unit)
        and 1000 (to make killing of processes of this unit under memory pressure very likely). See <a class="ulink" href="https://www.kernel.org/doc/Documentation/filesystems/proc.txt" target="_top">proc.txt</a> for details. If
        not specified defaults to the OOM score adjustment level of the service manager itself, which is
        normally at 0.</p><p>Use the <code class="varname">OOMPolicy=</code> setting of service units to configure how the service
        manager shall react to the kernel OOM killer terminating a process of the service.  See
        <a href="systemd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd.service</span>(5)</span></a>
        for details.</p></dd><dt id="TimerSlackNSec="><span class="term"><code class="varname">TimerSlackNSec=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#TimerSlackNSec=">¶</a></dt><dd><p>Sets the timer slack in nanoseconds for the executed processes. The timer slack controls the
        accuracy of wake-ups triggered by timers. See
        <a href="http://man7.org/linux/man-pages/man2/prctl.2.html"><span class="citerefentry"><span class="refentrytitle">prctl</span>(2)</span></a> for more
        information. Note that in contrast to most other time span definitions this parameter takes an integer value in
        nano-seconds if no unit is specified. The usual time units are understood too.</p></dd><dt id="Personality="><span class="term"><code class="varname">Personality=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#Personality=">¶</a></dt><dd><p>Controls which kernel architecture <a href="http://man7.org/linux/man-pages/man2/uname.2.html"><span class="citerefentry"><span class="refentrytitle">uname</span>(2)</span></a> shall report,
        when invoked by unit processes. Takes one of the architecture identifiers <code class="constant">x86</code>,
        <code class="constant">x86-64</code>, <code class="constant">ppc</code>, <code class="constant">ppc-le</code>, <code class="constant">ppc64</code>,
        <code class="constant">ppc64-le</code>, <code class="constant">s390</code> or <code class="constant">s390x</code>. Which personality
        architectures are supported depends on the system architecture. Usually the 64bit versions of the various
        system architectures support their immediate 32bit personality architecture counterpart, but no others. For
        example, <code class="constant">x86-64</code> systems support the <code class="constant">x86-64</code> and
        <code class="constant">x86</code> personalities but no others. The personality feature is useful when running 32-bit
        services on a 64-bit host system. If not specified, the personality is left unmodified and thus reflects the
        personality of the host system's kernel.</p></dd><dt id="IgnoreSIGPIPE="><span class="term"><code class="varname">IgnoreSIGPIPE=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#IgnoreSIGPIPE=">¶</a></dt><dd><p>Takes a boolean argument. If true, causes <code class="constant">SIGPIPE</code> to be ignored in the
        executed process. Defaults to true because <code class="constant">SIGPIPE</code> generally is useful only in shell
        pipelines.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.13"></a><h2 id="Scheduling">Scheduling<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Scheduling">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="Nice="><span class="term"><code class="varname">Nice=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#Nice=">¶</a></dt><dd><p>Sets the default nice level (scheduling priority) for executed processes. Takes an
        integer between -20 (highest priority) and 19 (lowest priority). In case of resource contention,
        smaller values mean more resources will be made available to the unit's processes, larger values mean
        less resources will be made available. See
        <a href="http://man7.org/linux/man-pages/man2/setpriority.2.html"><span class="citerefentry"><span class="refentrytitle">setpriority</span>(2)</span></a> for
        details.</p></dd><dt id="CPUSchedulingPolicy="><span class="term"><code class="varname">CPUSchedulingPolicy=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#CPUSchedulingPolicy=">¶</a></dt><dd><p>Sets the CPU scheduling policy for executed processes. Takes one of <code class="option">other</code>,
        <code class="option">batch</code>, <code class="option">idle</code>, <code class="option">fifo</code> or <code class="option">rr</code>. See
        <a href="http://man7.org/linux/man-pages/man2/sched_setscheduler.2.html"><span class="citerefentry"><span class="refentrytitle">sched_setscheduler</span>(2)</span></a> for
        details.</p></dd><dt id="CPUSchedulingPriority="><span class="term"><code class="varname">CPUSchedulingPriority=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#CPUSchedulingPriority=">¶</a></dt><dd><p>Sets the CPU scheduling priority for executed processes. The available priority range
        depends on the selected CPU scheduling policy (see above). For real-time scheduling policies an
        integer between 1 (lowest priority) and 99 (highest priority) can be used. In case of CPU resource
        contention, smaller values mean less CPU time is made available to the service, larger values mean
        more. See <a href="http://man7.org/linux/man-pages/man2/sched_setscheduler.2.html"><span class="citerefentry"><span class="refentrytitle">sched_setscheduler</span>(2)</span></a>
        for details. </p></dd><dt id="CPUSchedulingResetOnFork="><span class="term"><code class="varname">CPUSchedulingResetOnFork=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#CPUSchedulingResetOnFork=">¶</a></dt><dd><p>Takes a boolean argument. If true, elevated CPU scheduling priorities and policies
        will be reset when the executed processes call
        <a href="http://man7.org/linux/man-pages/man2/fork.2.html"><span class="citerefentry"><span class="refentrytitle">fork</span>(2)</span></a>,
        and can hence not leak into child processes. See
        <a href="http://man7.org/linux/man-pages/man2/sched_setscheduler.2.html"><span class="citerefentry"><span class="refentrytitle">sched_setscheduler</span>(2)</span></a>
        for details. Defaults to false.</p></dd><dt id="CPUAffinity="><span class="term"><code class="varname">CPUAffinity=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#CPUAffinity=">¶</a></dt><dd><p>Controls the CPU affinity of the executed processes. Takes a list of CPU indices or ranges
        separated by either whitespace or commas. Alternatively, takes a special "numa" value in which case systemd
        automatically derives allowed CPU range based on the value of <code class="varname">NUMAMask=</code> option. CPU ranges
        are specified by the lower and upper CPU indices separated by a dash. This option may be specified more than
        once, in which case the specified CPU affinity masks are merged. If the empty string is assigned, the mask
        is reset, all assignments prior to this will have no effect. See
        <a href="http://man7.org/linux/man-pages/man2/sched_setaffinity.2.html"><span class="citerefentry"><span class="refentrytitle">sched_setaffinity</span>(2)</span></a> for
        details.</p></dd><dt id="NUMAPolicy="><span class="term"><code class="varname">NUMAPolicy=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#NUMAPolicy=">¶</a></dt><dd><p>Controls the NUMA memory policy of the executed processes. Takes a policy type, one of:
        <code class="option">default</code>, <code class="option">preferred</code>, <code class="option">bind</code>, <code class="option">interleave</code> and
        <code class="option">local</code>. A list of NUMA nodes that should be associated with the policy must be specified
        in <code class="varname">NUMAMask=</code>. For more details on each policy please see,
        <a href="http://man7.org/linux/man-pages/man2/set_mempolicy.2.html"><span class="citerefentry"><span class="refentrytitle">set_mempolicy</span>(2)</span></a>. For overall
        overview of NUMA support in Linux see,
        <a href="http://man7.org/linux/man-pages/man7/numa.7.html"><span class="citerefentry"><span class="refentrytitle">numa</span>(7)</span></a>.
        </p></dd><dt id="NUMAMask="><span class="term"><code class="varname">NUMAMask=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#NUMAMask=">¶</a></dt><dd><p>Controls the NUMA node list which will be applied alongside with selected NUMA policy.
        Takes a list of NUMA nodes and has the same syntax as a list of CPUs for <code class="varname">CPUAffinity=</code>
        option or special "all" value which will include all available NUMA nodes in the mask. Note that the list
        of NUMA nodes is not required for <code class="option">default</code> and <code class="option">local</code>
        policies and for <code class="option">preferred</code> policy we expect a single NUMA node.</p></dd><dt id="IOSchedulingClass="><span class="term"><code class="varname">IOSchedulingClass=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#IOSchedulingClass=">¶</a></dt><dd><p>Sets the I/O scheduling class for executed processes. Takes an integer between 0 and 3 or one
        of the strings <code class="option">none</code>, <code class="option">realtime</code>, <code class="option">best-effort</code> or
        <code class="option">idle</code>. If the empty string is assigned to this option, all prior assignments to both
        <code class="varname">IOSchedulingClass=</code> and <code class="varname">IOSchedulingPriority=</code> have no effect. See
        <a href="http://man7.org/linux/man-pages/man2/ioprio_set.2.html"><span class="citerefentry"><span class="refentrytitle">ioprio_set</span>(2)</span></a> for
        details.</p></dd><dt id="IOSchedulingPriority="><span class="term"><code class="varname">IOSchedulingPriority=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#IOSchedulingPriority=">¶</a></dt><dd><p>Sets the I/O scheduling priority for executed processes. Takes an integer between 0
        (highest priority) and 7 (lowest priority). In case of I/O contention, smaller values mean more I/O
        bandwidth is made available to the unit's processes, larger values mean less bandwidth. The available
        priorities depend on the selected I/O scheduling class (see above). If the empty string is assigned
        to this option, all prior assignments to both <code class="varname">IOSchedulingClass=</code> and
        <code class="varname">IOSchedulingPriority=</code> have no effect.  See
        <a href="http://man7.org/linux/man-pages/man2/ioprio_set.2.html"><span class="citerefentry"><span class="refentrytitle">ioprio_set</span>(2)</span></a> for
        details.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.14"></a><h2 id="Sandboxing">Sandboxing<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Sandboxing">¶</a></h2><p>The following sandboxing options are an effective way to limit the exposure of the system towards the unit's
    processes. It is recommended to turn on as many of these options for each unit as is possible without negatively
    affecting the process' ability to operate. Note that many of these sandboxing features are gracefully turned off on
    systems where the underlying security mechanism is not available. For example, <code class="varname">ProtectSystem=</code>
    has no effect if the kernel is built without file system namespacing or if the service manager runs in a container
    manager that makes file system namespacing unavailable to its payload. Similar,
    <code class="varname">RestrictRealtime=</code> has no effect on systems that lack support for SECCOMP system call filtering,
    or in containers where support for this is turned off.</p><p>Also note that some sandboxing functionality is generally not available in user services (i.e. services run
    by the per-user service manager). Specifically, the various settings requiring file system namespacing support
    (such as <code class="varname">ProtectSystem=</code>) are not available, as the underlying kernel functionality is only
    accessible to privileged processes. However, most namespacing settings, that will not work on their own in user
    services, will work when used in conjunction with <code class="varname">PrivateUsers=</code><code class="option">true</code>.</p><div class="variablelist"><dl class="variablelist"><dt id="ProtectSystem="><span class="term"><code class="varname">ProtectSystem=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectSystem=">¶</a></dt><dd><p>Takes a boolean argument or the special values "<code class="literal">full</code>" or
        "<code class="literal">strict</code>". If true, mounts the <code class="filename">/usr/</code> and the boot loader
        directories (<code class="filename">/boot</code> and <code class="filename">/efi</code>) read-only for processes
        invoked by this unit. If set to "<code class="literal">full</code>", the <code class="filename">/etc/</code> directory is
        mounted read-only, too. If set to "<code class="literal">strict</code>" the entire file system hierarchy is
        mounted read-only, except for the API file system subtrees <code class="filename">/dev/</code>,
        <code class="filename">/proc/</code> and <code class="filename">/sys/</code> (protect these directories using
        <code class="varname">PrivateDevices=</code>, <code class="varname">ProtectKernelTunables=</code>,
        <code class="varname">ProtectControlGroups=</code>). This setting ensures that any modification of the vendor-supplied
        operating system (and optionally its configuration, and local mounts) is prohibited for the service.  It is
        recommended to enable this setting for all long-running services, unless they are involved with system updates
        or need to modify the operating system in other ways. If this option is used,
        <code class="varname">ReadWritePaths=</code> may be used to exclude specific directories from being made read-only. This
        setting is implied if <code class="varname">DynamicUser=</code> is set. This setting cannot ensure protection in all
        cases. In general it has the same limitations as <code class="varname">ReadOnlyPaths=</code>, see below. Defaults to
        off.</p></dd><dt id="ProtectHome="><span class="term"><code class="varname">ProtectHome=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectHome=">¶</a></dt><dd><p>Takes a boolean argument or the special values "<code class="literal">read-only</code>" or
        "<code class="literal">tmpfs</code>". If true, the directories <code class="filename">/home/</code>,
        <code class="filename">/root</code>, and <code class="filename">/run/user</code> are made inaccessible and empty for
        processes invoked by this unit. If set to "<code class="literal">read-only</code>", the three directories are
        made read-only instead. If set to "<code class="literal">tmpfs</code>", temporary file systems are mounted on the
        three directories in read-only mode. The value "<code class="literal">tmpfs</code>" is useful to hide home
        directories not relevant to the processes invoked by the unit, while still allowing necessary
        directories to be made visible when listed in <code class="varname">BindPaths=</code> or
        <code class="varname">BindReadOnlyPaths=</code>.</p><p>Setting this to "<code class="literal">yes</code>" is mostly equivalent to set the three directories in
        <code class="varname">InaccessiblePaths=</code>. Similarly, "<code class="literal">read-only</code>" is mostly equivalent to
        <code class="varname">ReadOnlyPaths=</code>, and "<code class="literal">tmpfs</code>" is mostly equivalent to
        <code class="varname">TemporaryFileSystem=</code> with "<code class="literal">:ro</code>".</p><p>It is recommended to enable this setting for all long-running services (in particular
        network-facing ones), to ensure they cannot get access to private user data, unless the services
        actually require access to the user's private data. This setting is implied if
        <code class="varname">DynamicUser=</code> is set. This setting cannot ensure protection in all cases. In
        general it has the same limitations as <code class="varname">ReadOnlyPaths=</code>, see below.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="RuntimeDirectory="><span class="term"><code class="varname">RuntimeDirectory=</code>, </span><span class="term"><code class="varname">StateDirectory=</code>, </span><span class="term"><code class="varname">CacheDirectory=</code>, </span><span class="term"><code class="varname">LogsDirectory=</code>, </span><span class="term"><code class="varname">ConfigurationDirectory=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RuntimeDirectory=">¶</a></dt><dd><p>These options take a whitespace-separated list of directory names. The specified
        directory names must be relative, and may not include "<code class="literal">..</code>". If set, when the unit is
        started, one or more directories by the specified names will be created (including their parents)
        below the locations defined in the following table. Also, the corresponding environment variable will
        be defined with the full paths of the directories. If multiple directories are set, then in the
        environment variable the paths are concatenated with colon ("<code class="literal">:</code>").</p><div class="table"><a name="id-1.14.4.3.6.2"></a><p class="title"><b>Table 2. Automatic directory creation and environment variables</b></p><div class="table-contents"><table class="table" summary="Automatic directory creation and environment variables" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Directory</th><th>Below path for system units</th><th>Below path for user units</th><th>Environment variable set</th></tr></thead><tbody><tr><td><code class="varname">RuntimeDirectory=</code></td><td><code class="filename">/run/</code></td><td><code class="varname">$XDG_RUNTIME_DIR</code></td><td><code class="varname">$RUNTIME_DIRECTORY</code></td></tr><tr><td><code class="varname">StateDirectory=</code></td><td><code class="filename">/var/lib/</code></td><td><code class="varname">$XDG_CONFIG_HOME</code></td><td><code class="varname">$STATE_DIRECTORY</code></td></tr><tr><td><code class="varname">CacheDirectory=</code></td><td><code class="filename">/var/cache/</code></td><td><code class="varname">$XDG_CACHE_HOME</code></td><td><code class="varname">$CACHE_DIRECTORY</code></td></tr><tr><td><code class="varname">LogsDirectory=</code></td><td><code class="filename">/var/log/</code></td><td><code class="varname">$XDG_CONFIG_HOME</code><code class="filename">/log/</code></td><td><code class="varname">$LOGS_DIRECTORY</code></td></tr><tr><td><code class="varname">ConfigurationDirectory=</code></td><td><code class="filename">/etc/</code></td><td><code class="varname">$XDG_CONFIG_HOME</code></td><td><code class="varname">$CONFIGURATION_DIRECTORY</code></td></tr></tbody></table></div></div><br class="table-break"><p>In case of <code class="varname">RuntimeDirectory=</code> the innermost subdirectories are removed when
        the unit is stopped. It is possible to preserve the specified directories in this case if
        <code class="varname">RuntimeDirectoryPreserve=</code> is configured to <code class="option">restart</code> or
        <code class="option">yes</code> (see below). The directories specified with <code class="varname">StateDirectory=</code>,
        <code class="varname">CacheDirectory=</code>, <code class="varname">LogsDirectory=</code>,
        <code class="varname">ConfigurationDirectory=</code> are not removed when the unit is stopped.</p><p>Except in case of <code class="varname">ConfigurationDirectory=</code>, the innermost specified directories will be
        owned by the user and group specified in <code class="varname">User=</code> and <code class="varname">Group=</code>. If the
        specified directories already exist and their owning user or group do not match the configured ones, all files
        and directories below the specified directories as well as the directories themselves will have their file
        ownership recursively changed to match what is configured. As an optimization, if the specified directories are
        already owned by the right user and group, files and directories below of them are left as-is, even if they do
        not match what is requested. The innermost specified directories will have their access mode adjusted to the
        what is specified in <code class="varname">RuntimeDirectoryMode=</code>, <code class="varname">StateDirectoryMode=</code>,
        <code class="varname">CacheDirectoryMode=</code>, <code class="varname">LogsDirectoryMode=</code> and
        <code class="varname">ConfigurationDirectoryMode=</code>.</p><p>These options imply <code class="varname">BindPaths=</code> for the specified paths. When combined with
        <code class="varname">RootDirectory=</code> or <code class="varname">RootImage=</code> these paths always reside on the host and
        are mounted from there into the unit's file system namespace.</p><p>If <code class="varname">DynamicUser=</code> is used, the logic for <code class="varname">CacheDirectory=</code>,
        <code class="varname">LogsDirectory=</code> and <code class="varname">StateDirectory=</code> is slightly altered: the directories are created below
        <code class="filename">/var/cache/private</code>, <code class="filename">/var/log/private</code> and <code class="filename">/var/lib/private</code>,
        respectively, which are host directories made inaccessible to
        unprivileged users, which ensures that access to these directories cannot be gained through dynamic
        user ID recycling. Symbolic links are created to hide this difference in behaviour. Both from
        perspective of the host and from inside the unit, the relevant directories hence always appear
        directly below <code class="filename">/var/cache</code>, <code class="filename">/var/log</code> and
        <code class="filename">/var/lib</code>.</p><p>Use <code class="varname">RuntimeDirectory=</code> to manage one or more runtime directories for the unit and bind
        their lifetime to the daemon runtime. This is particularly useful for unprivileged daemons that cannot create
        runtime directories in <code class="filename">/run/</code> due to lack of privileges, and to make sure the runtime
        directory is cleaned up automatically after use. For runtime directories that require more complex or different
        configuration or lifetime guarantees, please consider using
        <a href="tmpfiles.d.html#"><span class="citerefentry"><span class="refentrytitle">tmpfiles.d</span>(5)</span></a>.</p><p>The directories defined by these options are always created under the standard paths used by systemd
        (<code class="filename">/var/</code>, <code class="filename">/run/</code>, <code class="filename">/etc/</code>, …). If the service needs
        directories in a different location, a different mechanism has to be used to create them.</p><p><a href="tmpfiles.d.html#"><span class="citerefentry"><span class="refentrytitle">tmpfiles.d</span>(5)</span></a> provides
        functionality that overlaps with these options. Using these options is recommended, because the lifetime of
        the directories is tied directly to the lifetime of the unit, and it is not necessary to ensure that the
        <code class="filename">tmpfiles.d</code> configuration is executed before the unit is started.</p><p>To remove any of the directories created by these settings, use the <span class="command"><strong>systemctl clean
        …</strong></span> command on the relevant units, see
        <a href="systemctl.html#"><span class="citerefentry"><span class="refentrytitle">systemctl</span>(1)</span></a> for
        details.</p><p>Example: if a system service unit has the following,
        </p><pre class="programlisting">RuntimeDirectory=foo/bar baz</pre><p>
        the service manager creates <code class="filename">/run/foo</code> (if it does not exist),

        <code class="filename">/run/foo/bar</code>, and <code class="filename">/run/baz</code>. The
        directories <code class="filename">/run/foo/bar</code> and
        <code class="filename">/run/baz</code> except <code class="filename">/run/foo</code> are
        owned by the user and group specified in <code class="varname">User=</code> and <code class="varname">Group=</code>, and removed
        when the service is stopped.</p><p>Example: if a system service unit has the following,
        </p><pre class="programlisting">RuntimeDirectory=foo/bar
StateDirectory=aaa/bbb ccc</pre><p>
        then the environment variable "<code class="literal">RUNTIME_DIRECTORY</code>" is set with "<code class="literal">/run/foo/bar</code>", and
        "<code class="literal">STATE_DIRECTORY</code>" is set with "<code class="literal">/var/lib/aaa/bbb:/var/lib/ccc</code>".</p></dd><dt id="RuntimeDirectoryMode="><span class="term"><code class="varname">RuntimeDirectoryMode=</code>, </span><span class="term"><code class="varname">StateDirectoryMode=</code>, </span><span class="term"><code class="varname">CacheDirectoryMode=</code>, </span><span class="term"><code class="varname">LogsDirectoryMode=</code>, </span><span class="term"><code class="varname">ConfigurationDirectoryMode=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RuntimeDirectoryMode=">¶</a></dt><dd><p>Specifies the access mode of the directories specified in <code class="varname">RuntimeDirectory=</code>,
        <code class="varname">StateDirectory=</code>, <code class="varname">CacheDirectory=</code>, <code class="varname">LogsDirectory=</code>, or
        <code class="varname">ConfigurationDirectory=</code>, respectively, as an octal number.  Defaults to
        <code class="constant">0755</code>. See "Permissions" in <a href="http://man7.org/linux/man-pages/man7/path_resolution.7.html"><span class="citerefentry"><span class="refentrytitle">path_resolution</span>(7)</span></a> for a
        discussion of the meaning of permission bits.</p></dd><dt id="RuntimeDirectoryPreserve="><span class="term"><code class="varname">RuntimeDirectoryPreserve=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RuntimeDirectoryPreserve=">¶</a></dt><dd><p>Takes a boolean argument or <code class="option">restart</code>.  If set to <code class="option">no</code> (the
        default), the directories specified in <code class="varname">RuntimeDirectory=</code> are always removed when the service
        stops. If set to <code class="option">restart</code> the directories are preserved when the service is both automatically
        and manually restarted. Here, the automatic restart means the operation specified in
        <code class="varname">Restart=</code>, and manual restart means the one triggered by <span class="command"><strong>systemctl restart
        foo.service</strong></span>. If set to <code class="option">yes</code>, then the directories are not removed when the service is
        stopped. Note that since the runtime directory <code class="filename">/run/</code> is a mount point of
        "<code class="literal">tmpfs</code>", then for system services the directories specified in
        <code class="varname">RuntimeDirectory=</code> are removed when the system is rebooted.</p></dd><dt id="TimeoutCleanSec="><span class="term"><code class="varname">TimeoutCleanSec=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#TimeoutCleanSec=">¶</a></dt><dd><p>Configures a timeout on the clean-up operation requested through <span class="command"><strong>systemctl
        clean …</strong></span>, see
        <a href="systemctl.html#"><span class="citerefentry"><span class="refentrytitle">systemctl</span>(1)</span></a> for
        details. Takes the usual time values and defaults to <code class="constant">infinity</code>, i.e. by default
        no timeout is applied. If a timeout is configured the clean operation will be aborted forcibly when
        the timeout is reached, potentially leaving resources on disk.</p></dd><dt id="ReadWritePaths="><span class="term"><code class="varname">ReadWritePaths=</code>, </span><span class="term"><code class="varname">ReadOnlyPaths=</code>, </span><span class="term"><code class="varname">InaccessiblePaths=</code>, </span><span class="term"><code class="varname">ExecPaths=</code>, </span><span class="term"><code class="varname">NoExecPaths=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ReadWritePaths=">¶</a></dt><dd><p>Sets up a new file system namespace for executed processes. These options may be used
        to limit access a process has to the file system. Each setting takes a space-separated list of paths
        relative to the host's root directory (i.e. the system running the service manager). Note that if
        paths contain symlinks, they are resolved relative to the root directory set with
        <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code>.</p><p>Paths listed in <code class="varname">ReadWritePaths=</code> are accessible from within the namespace
        with the same access modes as from outside of it. Paths listed in <code class="varname">ReadOnlyPaths=</code>
        are accessible for reading only, writing will be refused even if the usual file access controls would
        permit this. Nest <code class="varname">ReadWritePaths=</code> inside of <code class="varname">ReadOnlyPaths=</code> in
        order to provide writable subdirectories within read-only directories. Use
        <code class="varname">ReadWritePaths=</code> in order to allow-list specific paths for write access if
        <code class="varname">ProtectSystem=strict</code> is used.</p><p>Paths listed in <code class="varname">InaccessiblePaths=</code> will be made inaccessible for processes inside
        the namespace along with everything below them in the file system hierarchy. This may be more restrictive than
        desired, because it is not possible to nest <code class="varname">ReadWritePaths=</code>, <code class="varname">ReadOnlyPaths=</code>,
        <code class="varname">BindPaths=</code>, or <code class="varname">BindReadOnlyPaths=</code> inside it. For a more flexible option,
        see <code class="varname">TemporaryFileSystem=</code>.</p><p>Content in paths listed in <code class="varname">NoExecPaths=</code> are not executable even if the usual
        file access controls would permit this. Nest <code class="varname">ExecPaths=</code> inside of
        <code class="varname">NoExecPaths=</code> in order to provide executable content within non-executable
        directories.</p><p>Non-directory paths may be specified as well. These options may be specified more than once,
        in which case all paths listed will have limited access from within the namespace. If the empty string is
        assigned to this option, the specific list is reset, and all prior assignments have no effect.</p><p>Paths in <code class="varname">ReadWritePaths=</code>, <code class="varname">ReadOnlyPaths=</code>,
        <code class="varname">InaccessiblePaths=</code>, <code class="varname">ExecPaths=</code> and
        <code class="varname">NoExecPaths=</code> may be prefixed with "<code class="literal">-</code>", in which case they will be
        ignored when they do not exist. If prefixed with "<code class="literal">+</code>" the paths are taken relative to the root
        directory of the unit, as configured with <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code>,
        instead of relative to the root directory of the host (see above). When combining "<code class="literal">-</code>" and
        "<code class="literal">+</code>" on the same path make sure to specify "<code class="literal">-</code>" first, and "<code class="literal">+</code>"
        second.</p><p>Note that these settings will disconnect propagation of mounts from the unit's processes to the
        host. This means that this setting may not be used for services which shall be able to install mount points in
        the main mount namespace. For <code class="varname">ReadWritePaths=</code> and <code class="varname">ReadOnlyPaths=</code>
        propagation in the other direction is not affected, i.e. mounts created on the host generally appear in the
        unit processes' namespace, and mounts removed on the host also disappear there too. In particular, note that
        mount propagation from host to unit will result in unmodified mounts to be created in the unit's namespace,
        i.e. writable mounts appearing on the host will be writable in the unit's namespace too, even when propagated
        below a path marked with <code class="varname">ReadOnlyPaths=</code>! Restricting access with these options hence does
        not extend to submounts of a directory that are created later on. This means the lock-down offered by that
        setting is not complete, and does not offer full protection. </p><p>Note that the effect of these settings may be undone by privileged processes. In order to set up an
        effective sandboxed environment for a unit it is thus recommended to combine these settings with either
        <code class="varname">CapabilityBoundingSet=~CAP_SYS_ADMIN</code> or
        <code class="varname">SystemCallFilter=~@mount</code>.</p><p>Simple allow-list example using these directives:
        </p><pre class="programlisting">[Service]
ReadOnlyPaths=/
ReadWritePaths=/var /run
InaccessiblePaths=-/lost+found
NoExecPaths=/
ExecPaths=/usr/sbin/my_daemon /usr/lib /usr/lib64
</pre><p><a name="plural"></a>These options are only available for system services and are not supported for services
running in per-user instances of the service manager.</p></dd><dt id="TemporaryFileSystem="><span class="term"><code class="varname">TemporaryFileSystem=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#TemporaryFileSystem=">¶</a></dt><dd><p>Takes a space-separated list of mount points for temporary file systems (tmpfs). If set, a new file
        system namespace is set up for executed processes, and a temporary file system is mounted on each mount point.
        This option may be specified more than once, in which case temporary file systems are mounted on all listed mount
        points. If the empty string is assigned to this option, the list is reset, and all prior assignments have no effect.
        Each mount point may optionally be suffixed with a colon ("<code class="literal">:</code>") and mount options such as
        "<code class="literal">size=10%</code>" or "<code class="literal">ro</code>". By default, each temporary file system is mounted
        with "<code class="literal">nodev,strictatime,mode=0755</code>". These can be disabled by explicitly specifying the corresponding
        mount options, e.g., "<code class="literal">dev</code>" or "<code class="literal">nostrictatime</code>".</p><p>This is useful to hide files or directories not relevant to the processes invoked by the unit, while necessary
        files or directories can be still accessed by combining with <code class="varname">BindPaths=</code> or
        <code class="varname">BindReadOnlyPaths=</code>:</p><p>Example: if a unit has the following,
        </p><pre class="programlisting">TemporaryFileSystem=/var:ro
BindReadOnlyPaths=/var/lib/systemd</pre><p>
        then the invoked processes by the unit cannot see any files or directories under <code class="filename">/var/</code> except for
        <code class="filename">/var/lib/systemd</code> or its contents.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="PrivateTmp="><span class="term"><code class="varname">PrivateTmp=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PrivateTmp=">¶</a></dt><dd><p>Takes a boolean argument. If true, sets up a new file system namespace for the
        executed processes and mounts private <code class="filename">/tmp/</code> and <code class="filename">/var/tmp/</code>
        directories inside it that are not shared by processes outside of the namespace. This is useful to
        secure access to temporary files of the process, but makes sharing between processes via
        <code class="filename">/tmp/</code> or <code class="filename">/var/tmp/</code> impossible. If true, all temporary files
        created by a service in these directories will be removed after the service is stopped. Defaults to
        false. It is possible to run two or more units within the same private <code class="filename">/tmp/</code> and
        <code class="filename">/var/tmp/</code> namespace by using the <code class="varname">JoinsNamespaceOf=</code> directive,
        see <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>
        for details. This setting is implied if <code class="varname">DynamicUser=</code> is set. For this setting the
        same restrictions regarding mount propagation and privileges apply as for
        <code class="varname">ReadOnlyPaths=</code> and related calls, see above. Enabling this setting has the side
        effect of adding <code class="varname">Requires=</code> and <code class="varname">After=</code> dependencies on all mount
        units necessary to access <code class="filename">/tmp/</code> and <code class="filename">/var/tmp/</code>. Moreover an
        implicitly <code class="varname">After=</code> ordering on
        <a href="systemd-tmpfiles-setup.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-tmpfiles-setup.service</span>(8)</span></a>
        is added.</p><p>Note that the implementation of this setting might be impossible (for example if mount namespaces are not
        available), and the unit should be written in a way that does not solely rely on this setting for
        security.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="PrivateDevices="><span class="term"><code class="varname">PrivateDevices=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PrivateDevices=">¶</a></dt><dd><p>Takes a boolean argument. If true, sets up a new <code class="filename">/dev/</code> mount for the
        executed processes and only adds API pseudo devices such as <code class="filename">/dev/null</code>,
        <code class="filename">/dev/zero</code> or <code class="filename">/dev/random</code> (as well as the pseudo TTY subsystem) to it,
        but no physical devices such as <code class="filename">/dev/sda</code>, system memory <code class="filename">/dev/mem</code>,
        system ports <code class="filename">/dev/port</code> and others. This is useful to securely turn off physical device
        access by the executed process. Defaults to false. Enabling this option will install a system call filter to
        block low-level I/O system calls that are grouped in the <code class="varname">@raw-io</code> set, will also remove
        <code class="constant">CAP_MKNOD</code> and <code class="constant">CAP_SYS_RAWIO</code> from the capability bounding set for the
        unit (see above), and set <code class="varname">DevicePolicy=closed</code> (see
        <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>
        for details). Note that using this setting will disconnect propagation of mounts from the service to the host
        (propagation in the opposite direction continues to work). This means that this setting may not be used for
        services which shall be able to install mount points in the main mount namespace. The new
        <code class="filename">/dev/</code> will be mounted read-only and 'noexec'. The latter may break old programs which try
        to set up executable memory by using
        <a href="http://man7.org/linux/man-pages/man2/mmap.2.html"><span class="citerefentry"><span class="refentrytitle">mmap</span>(2)</span></a> of
        <code class="filename">/dev/zero</code> instead of using <code class="constant">MAP_ANON</code>. For this setting the same
        restrictions regarding mount propagation and privileges apply as for <code class="varname">ReadOnlyPaths=</code> and
        related calls, see above. If turned on and if running in user mode, or in system mode, but without the
        <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting <code class="varname">User=</code>),
        <code class="varname">NoNewPrivileges=yes</code> is implied.</p><p>Note that the implementation of this setting might be impossible (for example if mount namespaces are not
        available), and the unit should be written in a way that does not solely rely on this setting for
        security.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="PrivateNetwork="><span class="term"><code class="varname">PrivateNetwork=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PrivateNetwork=">¶</a></dt><dd><p>Takes a boolean argument. If true, sets up a new network namespace for the executed processes
        and configures only the loopback network device "<code class="literal">lo</code>" inside it. No other network devices will
        be available to the executed process. This is useful to turn off network access by the executed process.
        Defaults to false. It is possible to run two or more units within the same private network namespace by using
        the <code class="varname">JoinsNamespaceOf=</code> directive, see
        <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a> for
        details. Note that this option will disconnect all socket families from the host, including
        <code class="constant">AF_NETLINK</code> and <code class="constant">AF_UNIX</code>. Effectively, for
        <code class="constant">AF_NETLINK</code> this means that device configuration events received from
        <a href="systemd-udevd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-udevd.service</span>(8)</span></a> are
        not delivered to the unit's processes. And for <code class="constant">AF_UNIX</code> this has the effect that
        <code class="constant">AF_UNIX</code> sockets in the abstract socket namespace of the host will become unavailable to
        the unit's processes (however, those located in the file system will continue to be accessible).</p><p>Note that the implementation of this setting might be impossible (for example if network namespaces are
        not available), and the unit should be written in a way that does not solely rely on this setting for
        security.</p><p>When this option is used on a socket unit any sockets bound on behalf of this unit will be
        bound within a private network namespace. This may be combined with
        <code class="varname">JoinsNamespaceOf=</code> to listen on sockets inside of network namespaces of other
        services.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="NetworkNamespacePath="><span class="term"><code class="varname">NetworkNamespacePath=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#NetworkNamespacePath=">¶</a></dt><dd><p>Takes an absolute file system path refererring to a Linux network namespace
        pseudo-file (i.e. a file like <code class="filename">/proc/$PID/ns/net</code> or a bind mount or symlink to
        one). When set the invoked processes are added to the network namespace referenced by that path. The
        path has to point to a valid namespace file at the moment the processes are forked off. If this
        option is used <code class="varname">PrivateNetwork=</code> has no effect. If this option is used together with
        <code class="varname">JoinsNamespaceOf=</code> then it only has an effect if this unit is started before any of
        the listed units that have <code class="varname">PrivateNetwork=</code> or
        <code class="varname">NetworkNamespacePath=</code> configured, as otherwise the network namespace of those
        units is reused.</p><p>When this option is used on a socket unit any sockets bound on behalf of this unit will be
        bound within the specified network namespace.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="PrivateIPC="><span class="term"><code class="varname">PrivateIPC=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PrivateIPC=">¶</a></dt><dd><p>Takes a boolean argument. If true, sets up a new IPC namespace for the executed processes.
        Each IPC namespace has its own set of System V IPC identifiers and its own POSIX message queue file system.
        This is useful to avoid name clash of IPC identifiers. Defaults to false. It is possible to run two or
        more units within the same private IPC namespace by using the <code class="varname">JoinsNamespaceOf=</code> directive,
        see <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a> for
        details.</p><p>Note that IPC namespacing does not have an effect on
        <code class="constant">AF_UNIX</code> sockets, which are the most common
        form of IPC used on Linux. Instead, <code class="constant">AF_UNIX</code>
        sockets in the file system are subject to mount namespacing, and
        those in the abstract namespace are subject to network namespacing.
        IPC namespacing only has an effect on SysV IPC (which is mostly
        legacy) as well as POSIX message queues (for which
        <code class="constant">AF_UNIX</code>/<code class="constant">SOCK_SEQPACKET</code>
        sockets are typically a better replacement). IPC namespacing also
        has no effect on POSIX shared memory (which is subject to mount
        namespacing) either. See
        <a href="http://man7.org/linux/man-pages/man7/ipc_namespaces.7.html"><span class="citerefentry"><span class="refentrytitle">ipc_namespaces</span>(7)</span></a> for
        the details.</p><p>Note that the implementation of this setting might be impossible (for example if IPC namespaces are
        not available), and the unit should be written in a way that does not solely rely on this setting for
        security.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="IPCNamespacePath="><span class="term"><code class="varname">IPCNamespacePath=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#IPCNamespacePath=">¶</a></dt><dd><p>Takes an absolute file system path refererring to a Linux IPC namespace
        pseudo-file (i.e. a file like <code class="filename">/proc/$PID/ns/ipc</code> or a bind mount or symlink to
        one). When set the invoked processes are added to the network namespace referenced by that path. The
        path has to point to a valid namespace file at the moment the processes are forked off. If this
        option is used <code class="varname">PrivateIPC=</code> has no effect. If this option is used together with
        <code class="varname">JoinsNamespaceOf=</code> then it only has an effect if this unit is started before any of
        the listed units that have <code class="varname">PrivateIPC=</code> or
        <code class="varname">IPCNamespacePath=</code> configured, as otherwise the network namespace of those
        units is reused.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="PrivateUsers="><span class="term"><code class="varname">PrivateUsers=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PrivateUsers=">¶</a></dt><dd><p>Takes a boolean argument. If true, sets up a new user namespace for the executed processes and
        configures a minimal user and group mapping, that maps the "<code class="literal">root</code>" user and group as well as
        the unit's own user and group to themselves and everything else to the "<code class="literal">nobody</code>" user and
        group. This is useful to securely detach the user and group databases used by the unit from the rest of the
        system, and thus to create an effective sandbox environment. All files, directories, processes, IPC objects and
        other resources owned by users/groups not equaling "<code class="literal">root</code>" or the unit's own will stay visible
        from within the unit but appear owned by the "<code class="literal">nobody</code>" user and group. If this mode is enabled,
        all unit processes are run without privileges in the host user namespace (regardless if the unit's own
        user/group is "<code class="literal">root</code>" or not). Specifically this means that the process will have zero process
        capabilities on the host's user namespace, but full capabilities within the service's user namespace. Settings
        such as <code class="varname">CapabilityBoundingSet=</code> will affect only the latter, and there's no way to acquire
        additional capabilities in the host's user namespace. Defaults to off.</p><p>When this setting is set up by a per-user instance of the service manager, the mapping of the
        "<code class="literal">root</code>" user and group to itself is omitted (unless the user manager is root).
        Additionally, in the per-user instance manager case, the
        user namespace will be set up before most other namespaces. This means that combining
        <code class="varname">PrivateUsers=</code><code class="option">true</code> with other namespaces will enable use of features not
        normally supported by the per-user instances of the service manager.</p><p>This setting is particularly useful in conjunction with
        <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code>, as the need to synchronize the user and group
        databases in the root directory and on the host is reduced, as the only users and groups who need to be matched
        are "<code class="literal">root</code>", "<code class="literal">nobody</code>" and the unit's own user and group.</p><p>Note that the implementation of this setting might be impossible (for example if user namespaces are not
        available), and the unit should be written in a way that does not solely rely on this setting for
        security.</p></dd><dt id="ProtectHostname="><span class="term"><code class="varname">ProtectHostname=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectHostname=">¶</a></dt><dd><p>Takes a boolean argument. When set, sets up a new UTS namespace for the executed
        processes. In addition, changing hostname or domainname is prevented. Defaults to off.</p><p>Note that the implementation of this setting might be impossible (for example if UTS namespaces
        are not available), and the unit should be written in a way that does not solely rely on this setting
        for security.</p><p>Note that when this option is enabled for a service hostname changes no longer propagate from
        the system into the service, it is hence not suitable for services that need to take notice of system
        hostname changes dynamically.</p><p>If this setting is on, but the unit doesn't have the <code class="constant">CAP_SYS_ADMIN</code>
        capability (e.g. services for which <code class="varname">User=</code> is set),
        <code class="varname">NoNewPrivileges=yes</code> is implied.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ProtectClock="><span class="term"><code class="varname">ProtectClock=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectClock=">¶</a></dt><dd><p>Takes a boolean argument. If set, writes to the hardware clock or system clock will be denied.
        It is recommended to turn this on for most services that do not need modify the clock. Defaults to off. Enabling
        this option removes <code class="constant">CAP_SYS_TIME</code> and <code class="constant">CAP_WAKE_ALARM</code> from the
        capability bounding set for this unit, installs a system call filter to block calls that can set the
        clock, and <code class="varname">DeviceAllow=char-rtc r</code> is implied. This ensures <code class="filename">/dev/rtc0</code>,
        <code class="filename">/dev/rtc1</code>, etc. are made read-only to the service. See
        <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>
        for the details about <code class="varname">DeviceAllow=</code>. If this setting is on, but the unit
        doesn't have the <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. services for which
        <code class="varname">User=</code> is set), <code class="varname">NoNewPrivileges=yes</code> is implied.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ProtectKernelTunables="><span class="term"><code class="varname">ProtectKernelTunables=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectKernelTunables=">¶</a></dt><dd><p>Takes a boolean argument. If true, kernel variables accessible through
        <code class="filename">/proc/sys/</code>, <code class="filename">/sys/</code>, <code class="filename">/proc/sysrq-trigger</code>,
        <code class="filename">/proc/latency_stats</code>, <code class="filename">/proc/acpi</code>,
        <code class="filename">/proc/timer_stats</code>, <code class="filename">/proc/fs</code> and <code class="filename">/proc/irq</code> will
        be made read-only to all processes of the unit. Usually, tunable kernel variables should be initialized only at
        boot-time, for example with the
        <a href="sysctl.d.html#"><span class="citerefentry"><span class="refentrytitle">sysctl.d</span>(5)</span></a> mechanism. Few
        services need to write to these at runtime; it is hence recommended to turn this on for most services. For this
        setting the same restrictions regarding mount propagation and privileges apply as for
        <code class="varname">ReadOnlyPaths=</code> and related calls, see above. Defaults to off. If this
        setting is on, but the unit doesn't have the <code class="constant">CAP_SYS_ADMIN</code> capability
        (e.g. services for which <code class="varname">User=</code> is set),
        <code class="varname">NoNewPrivileges=yes</code> is implied. Note that this option does not prevent
        indirect changes to kernel tunables effected by IPC calls to other processes. However,
        <code class="varname">InaccessiblePaths=</code> may be used to make relevant IPC file system objects
        inaccessible. If <code class="varname">ProtectKernelTunables=</code> is set,
        <code class="varname">MountAPIVFS=yes</code> is implied.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ProtectKernelModules="><span class="term"><code class="varname">ProtectKernelModules=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectKernelModules=">¶</a></dt><dd><p>Takes a boolean argument. If true, explicit module loading will be denied. This allows
        module load and unload operations to be turned off on modular kernels. It is recommended to turn this on for most services
        that do not need special file systems or extra kernel modules to work. Defaults to off. Enabling this option
        removes <code class="constant">CAP_SYS_MODULE</code> from the capability bounding set for the unit, and installs a
        system call filter to block module system calls, also <code class="filename">/usr/lib/modules</code> is made
        inaccessible. For this setting the same restrictions regarding mount propagation and privileges apply as for
        <code class="varname">ReadOnlyPaths=</code> and related calls, see above.  Note that limited automatic module loading due
        to user configuration or kernel mapping tables might still happen as side effect of requested user operations,
        both privileged and unprivileged. To disable module auto-load feature please see
        <a href="sysctl.d.html#"><span class="citerefentry"><span class="refentrytitle">sysctl.d</span>(5)</span></a>
        <code class="constant">kernel.modules_disabled</code> mechanism and
        <code class="filename">/proc/sys/kernel/modules_disabled</code> documentation. If this setting is on,
        but the unit doesn't have the <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. services for
        which <code class="varname">User=</code> is set), <code class="varname">NoNewPrivileges=yes</code> is implied.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ProtectKernelLogs="><span class="term"><code class="varname">ProtectKernelLogs=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectKernelLogs=">¶</a></dt><dd><p>Takes a boolean argument. If true, access to the kernel log ring buffer will be denied. It is
        recommended to turn this on for most services that do not need to read from or write to the kernel log ring
        buffer. Enabling this option removes <code class="constant">CAP_SYSLOG</code> from the capability bounding set for this
        unit, and installs a system call filter to block the
        <a href="http://man7.org/linux/man-pages/man2/syslog.2.html"><span class="citerefentry"><span class="refentrytitle">syslog</span>(2)</span></a>
        system call (not to be confused with the libc API
        <a href="http://man7.org/linux/man-pages/man3/syslog.3.html"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a>
        for userspace logging). The kernel exposes its log buffer to userspace via <code class="filename">/dev/kmsg</code> and
        <code class="filename">/proc/kmsg</code>. If enabled, these are made inaccessible to all the processes in the unit.
        If this setting is on, but the unit doesn't have the <code class="constant">CAP_SYS_ADMIN</code>
        capability (e.g. services for which <code class="varname">User=</code> is set),
        <code class="varname">NoNewPrivileges=yes</code> is implied.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="ProtectControlGroups="><span class="term"><code class="varname">ProtectControlGroups=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#ProtectControlGroups=">¶</a></dt><dd><p>Takes a boolean argument. If true, the Linux Control Groups (<a href="http://man7.org/linux/man-pages/man7/cgroups.7.html"><span class="citerefentry"><span class="refentrytitle">cgroups</span>(7)</span></a>) hierarchies
        accessible through <code class="filename">/sys/fs/cgroup/</code> will be made read-only to all processes of the
        unit. Except for container managers no services should require write access to the control groups hierarchies;
        it is hence recommended to turn this on for most services. For this setting the same restrictions regarding
        mount propagation and privileges apply as for <code class="varname">ReadOnlyPaths=</code> and related calls, see
        above. Defaults to off. If <code class="varname">ProtectControlGroups=</code> is set, <code class="varname">MountAPIVFS=yes</code>
        is implied.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="RestrictAddressFamilies="><span class="term"><code class="varname">RestrictAddressFamilies=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RestrictAddressFamilies=">¶</a></dt><dd><p>Restricts the set of socket address families accessible to the processes of this
        unit. Takes "<code class="literal">none</code>", or a space-separated list of address family names to
        allow-list, such as <code class="constant">AF_UNIX</code>, <code class="constant">AF_INET</code> or
        <code class="constant">AF_INET6</code>. When "<code class="literal">none</code>" is specified, then all address
        families will be denied. When prefixed with "<code class="literal">~</code>" the listed address
        families will be applied as deny list, otherwise as allow list. Note that this restricts access
        to the
        <a href="http://man7.org/linux/man-pages/man2/socket.2.html"><span class="citerefentry"><span class="refentrytitle">socket</span>(2)</span></a>
        system call only. Sockets passed into the process by other means (for example, by using socket
        activation with socket units, see
        <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a>)
        are unaffected. Also, sockets created with <code class="function">socketpair()</code> (which creates connected
        AF_UNIX sockets only) are unaffected. Note that this option has no effect on 32-bit x86, s390, s390x,
        mips, mips-le, ppc, ppc-le, ppc64, ppc64-le and is ignored (but works correctly on other ABIs,
        including x86-64). Note that on systems supporting multiple ABIs (such as x86/x86-64) it is
        recommended to turn off alternative ABIs for services, so that they cannot be used to circumvent the
        restrictions of this option. Specifically, it is recommended to combine this option with
        <code class="varname">SystemCallArchitectures=native</code> or similar. If running in user mode, or in system
        mode, but without the <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting
        <code class="varname">User=</code>), <code class="varname">NoNewPrivileges=yes</code> is implied. By default, no
        restrictions apply, all address families are accessible to processes. If assigned the empty string,
        any previous address family restriction changes are undone. This setting does not affect commands
        prefixed with "<code class="literal">+</code>".</p><p>Use this option to limit exposure of processes to remote access, in particular via exotic and sensitive
        network protocols, such as <code class="constant">AF_PACKET</code>. Note that in most cases, the local
        <code class="constant">AF_UNIX</code> address family should be included in the configured allow list as it is frequently
        used for local communication, including for
        <a href="http://man7.org/linux/man-pages/man2/syslog.2.html"><span class="citerefentry"><span class="refentrytitle">syslog</span>(2)</span></a>
        logging.</p></dd><dt id="RestrictNamespaces="><span class="term"><code class="varname">RestrictNamespaces=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RestrictNamespaces=">¶</a></dt><dd><p>Restricts access to Linux namespace functionality for the processes of this unit. For details
        about Linux namespaces, see <a href="http://man7.org/linux/man-pages/man7/namespaces.7.html"><span class="citerefentry"><span class="refentrytitle">namespaces</span>(7)</span></a>. Either
        takes a boolean argument, or a space-separated list of namespace type identifiers. If false (the default), no
        restrictions on namespace creation and switching are made. If true, access to any kind of namespacing is
        prohibited. Otherwise, a space-separated list of namespace type identifiers must be specified, consisting of
        any combination of: <code class="constant">cgroup</code>, <code class="constant">ipc</code>, <code class="constant">net</code>,
        <code class="constant">mnt</code>, <code class="constant">pid</code>, <code class="constant">user</code> and <code class="constant">uts</code>. Any
        namespace type listed is made accessible to the unit's processes, access to namespace types not listed is
        prohibited (allow-listing). By prepending the list with a single tilde character ("<code class="literal">~</code>") the
        effect may be inverted: only the listed namespace types will be made inaccessible, all unlisted ones are
        permitted (deny-listing). If the empty string is assigned, the default namespace restrictions are applied,
        which is equivalent to false. This option may appear more than once, in which case the namespace types are
        merged by <code class="constant">OR</code>, or by <code class="constant">AND</code> if the lines are prefixed with
        "<code class="literal">~</code>" (see examples below). Internally, this setting limits access to the
        <a href="http://man7.org/linux/man-pages/man2/unshare.2.html"><span class="citerefentry"><span class="refentrytitle">unshare</span>(2)</span></a>,
        <a href="http://man7.org/linux/man-pages/man2/clone.2.html"><span class="citerefentry"><span class="refentrytitle">clone</span>(2)</span></a> and
        <a href="http://man7.org/linux/man-pages/man2/setns.2.html"><span class="citerefentry"><span class="refentrytitle">setns</span>(2)</span></a> system calls, taking
        the specified flags parameters into account. Note that — if this option is used — in addition to restricting
        creation and switching of the specified types of namespaces (or all of them, if true) access to the
        <code class="function">setns()</code> system call with a zero flags parameter is prohibited.  This setting is only
        supported on x86, x86-64, mips, mips-le, mips64, mips64-le, mips64-n32, mips64-le-n32, ppc64, ppc64-le, s390
        and s390x, and enforces no restrictions on other architectures. If running in user mode, or in system mode, but
        without the <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting <code class="varname">User=</code>),
        <code class="varname">NoNewPrivileges=yes</code> is implied.</p><p>Example: if a unit has the following,
        </p><pre class="programlisting">RestrictNamespaces=cgroup ipc
RestrictNamespaces=cgroup net</pre><p>
        then <code class="constant">cgroup</code>, <code class="constant">ipc</code>, and <code class="constant">net</code> are set.
        If the second line is prefixed with "<code class="literal">~</code>", e.g.,
        </p><pre class="programlisting">RestrictNamespaces=cgroup ipc
RestrictNamespaces=~cgroup net</pre><p>
        then, only <code class="constant">ipc</code> is set.</p></dd><dt id="LockPersonality="><span class="term"><code class="varname">LockPersonality=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#LockPersonality=">¶</a></dt><dd><p>Takes a boolean argument. If set, locks down the <a href="http://man7.org/linux/man-pages/man2/personality.2.html"><span class="citerefentry"><span class="refentrytitle">personality</span>(2)</span></a> system
        call so that the kernel execution domain may not be changed from the default or the personality selected with
        <code class="varname">Personality=</code> directive. This may be useful to improve security, because odd personality
        emulations may be poorly tested and source of vulnerabilities. If running in user mode, or in system mode, but
        without the <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting <code class="varname">User=</code>),
        <code class="varname">NoNewPrivileges=yes</code> is implied.</p></dd><dt id="MemoryDenyWriteExecute="><span class="term"><code class="varname">MemoryDenyWriteExecute=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#MemoryDenyWriteExecute=">¶</a></dt><dd><p>Takes a boolean argument. If set, attempts to create memory mappings that are writable and
        executable at the same time, or to change existing memory mappings to become executable, or mapping shared
        memory segments as executable are prohibited.  Specifically, a system call filter is added that rejects
        <a href="http://man7.org/linux/man-pages/man2/mmap.2.html"><span class="citerefentry"><span class="refentrytitle">mmap</span>(2)</span></a> system calls with both
        <code class="constant">PROT_EXEC</code> and <code class="constant">PROT_WRITE</code> set,
        <a href="http://man7.org/linux/man-pages/man2/mprotect.2.html"><span class="citerefentry"><span class="refentrytitle">mprotect</span>(2)</span></a> or
        <a href="http://man7.org/linux/man-pages/man2/pkey_mprotect.2.html"><span class="citerefentry"><span class="refentrytitle">pkey_mprotect</span>(2)</span></a> system calls
        with <code class="constant">PROT_EXEC</code> set and
        <a href="http://man7.org/linux/man-pages/man2/shmat.2.html"><span class="citerefentry"><span class="refentrytitle">shmat</span>(2)</span></a> system calls with
        <code class="constant">SHM_EXEC</code> set. Note that this option is incompatible with programs and libraries that
        generate program code dynamically at runtime, including JIT execution engines, executable stacks, and code
        "trampoline" feature of various C compilers. This option improves service security, as it makes harder for
        software exploits to change running code dynamically. However, the protection can be circumvented, if
        the service can write to a filesystem, which is not mounted with <code class="constant">noexec</code> (such as
        <code class="filename">/dev/shm</code>), or it can use <code class="function">memfd_create()</code>.  This can be
        prevented by making such file systems inaccessible to the service
        (e.g. <code class="varname">InaccessiblePaths=/dev/shm</code>) and installing further system call filters
        (<code class="varname">SystemCallFilter=~memfd_create</code>). Note that this feature is fully available on
        x86-64, and partially on x86. Specifically, the <code class="function">shmat()</code> protection is not
        available on x86. Note that on systems supporting multiple ABIs (such as x86/x86-64) it is
        recommended to turn off alternative ABIs for services, so that they cannot be used to circumvent the
        restrictions of this option. Specifically, it is recommended to combine this option with
        <code class="varname">SystemCallArchitectures=native</code> or similar. If running in user mode, or in system
        mode, but without the <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting
        <code class="varname">User=</code>), <code class="varname">NoNewPrivileges=yes</code> is implied.</p></dd><dt id="RestrictRealtime="><span class="term"><code class="varname">RestrictRealtime=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RestrictRealtime=">¶</a></dt><dd><p>Takes a boolean argument. If set, any attempts to enable realtime scheduling in a process of
        the unit are refused. This restricts access to realtime task scheduling policies such as
        <code class="constant">SCHED_FIFO</code>, <code class="constant">SCHED_RR</code> or <code class="constant">SCHED_DEADLINE</code>. See
        <a href="http://man7.org/linux/man-pages/man7/sched.7.html"><span class="citerefentry"><span class="refentrytitle">sched</span>(7)</span></a>
        for details about these scheduling policies. If running in user mode, or in system mode, but without the
        <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting <code class="varname">User=</code>),
        <code class="varname">NoNewPrivileges=yes</code> is implied. Realtime scheduling policies may be used to monopolize CPU
        time for longer periods of time, and may hence be used to lock up or otherwise trigger Denial-of-Service
        situations on the system. It is hence recommended to restrict access to realtime scheduling to the few programs
        that actually require them. Defaults to off.</p></dd><dt id="RestrictSUIDSGID="><span class="term"><code class="varname">RestrictSUIDSGID=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RestrictSUIDSGID=">¶</a></dt><dd><p>Takes a boolean argument. If set, any attempts to set the set-user-ID (SUID) or
        set-group-ID (SGID) bits on files or directories will be denied (for details on these bits see
        <a href="http://man7.org/linux/man-pages/man7/inode.7.html"><span class="citerefentry"><span class="refentrytitle">inode</span>(7)</span></a>). If
        running in user mode, or in system mode, but without the <code class="constant">CAP_SYS_ADMIN</code>
        capability (e.g. setting <code class="varname">User=</code>), <code class="varname">NoNewPrivileges=yes</code> is
        implied. As the SUID/SGID bits are mechanisms to elevate privileges, and allows users to acquire the
        identity of other users, it is recommended to restrict creation of SUID/SGID files to the few
        programs that actually require them. Note that this restricts marking of any type of file system
        object with these bits, including both regular files and directories (where the SGID is a different
        meaning than for files, see documentation). This option is implied if <code class="varname">DynamicUser=</code>
        is enabled. Defaults to off.</p></dd><dt id="RemoveIPC="><span class="term"><code class="varname">RemoveIPC=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#RemoveIPC=">¶</a></dt><dd><p>Takes a boolean parameter. If set, all System V and POSIX IPC objects owned by the user and
        group the processes of this unit are run as are removed when the unit is stopped. This setting only has an
        effect if at least one of <code class="varname">User=</code>, <code class="varname">Group=</code> and
        <code class="varname">DynamicUser=</code> are used. It has no effect on IPC objects owned by the root user. Specifically,
        this removes System V semaphores, as well as System V and POSIX shared memory segments and message queues. If
        multiple units use the same user or group the IPC objects are removed when the last of these units is
        stopped. This setting is implied if <code class="varname">DynamicUser=</code> is set.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="PrivateMounts="><span class="term"><code class="varname">PrivateMounts=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PrivateMounts=">¶</a></dt><dd><p>Takes a boolean parameter. If set, the processes of this unit will be run in their own private
        file system (mount) namespace with all mount propagation from the processes towards the host's main file system
        namespace turned off. This means any file system mount points established or removed by the unit's processes
        will be private to them and not be visible to the host. However, file system mount points established or
        removed on the host will be propagated to the unit's processes. See <a href="http://man7.org/linux/man-pages/man7/mount_namespaces.7.html"><span class="citerefentry"><span class="refentrytitle">mount_namespaces</span>(7)</span></a> for
        details on file system namespaces. Defaults to off.</p><p>When turned on, this executes three operations for each invoked process: a new
        <code class="constant">CLONE_NEWNS</code> namespace is created, after which all existing mounts are remounted to
        <code class="constant">MS_SLAVE</code> to disable propagation from the unit's processes to the host (but leaving
        propagation in the opposite direction in effect). Finally, the mounts are remounted again to the propagation
        mode configured with <code class="varname">MountFlags=</code>, see below.</p><p>File system namespaces are set up individually for each process forked off by the service manager. Mounts
        established in the namespace of the process created by <code class="varname">ExecStartPre=</code> will hence be cleaned
        up automatically as soon as that process exits and will not be available to subsequent processes forked off for
        <code class="varname">ExecStart=</code> (and similar applies to the various other commands configured for
        units). Similarly, <code class="varname">JoinsNamespaceOf=</code> does not permit sharing kernel mount namespaces between
        units, it only enables sharing of the <code class="filename">/tmp/</code> and <code class="filename">/var/tmp/</code>
        directories.</p><p>Other file system namespace unit settings — <code class="varname">PrivateMounts=</code>,
        <code class="varname">PrivateTmp=</code>, <code class="varname">PrivateDevices=</code>, <code class="varname">ProtectSystem=</code>,
        <code class="varname">ProtectHome=</code>, <code class="varname">ReadOnlyPaths=</code>, <code class="varname">InaccessiblePaths=</code>,
        <code class="varname">ReadWritePaths=</code>, … — also enable file system namespacing in a fashion equivalent to this
        option. Hence it is primarily useful to explicitly request this behaviour if none of the other settings are
        used.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="MountFlags="><span class="term"><code class="varname">MountFlags=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#MountFlags=">¶</a></dt><dd><p>Takes a mount propagation setting: <code class="option">shared</code>, <code class="option">slave</code> or
        <code class="option">private</code>, which controls whether file system mount points in the file system namespaces set up
        for this unit's processes will receive or propagate mounts and unmounts from other file system namespaces. See
        <a href="http://man7.org/linux/man-pages/man2/mount.2.html"><span class="citerefentry"><span class="refentrytitle">mount</span>(2)</span></a>
        for details on mount propagation, and the three propagation flags in particular.</p><p>This setting only controls the <span class="emphasis"><em>final</em></span> propagation setting in effect on all mount
        points of the file system namespace created for each process of this unit. Other file system namespacing unit
        settings (see the discussion in <code class="varname">PrivateMounts=</code> above) will implicitly disable mount and
        unmount propagation from the unit's processes towards the host by changing the propagation setting of all mount
        points in the unit's file system namespace to <code class="option">slave</code> first. Setting this option to
        <code class="option">shared</code> does not reestablish propagation in that case.</p><p>If not set – but file system namespaces are enabled through another file system namespace unit setting –
        <code class="option">shared</code> mount propagation is used, but — as mentioned — as <code class="option">slave</code> is applied
        first, propagation from the unit's processes to the host is still turned off.</p><p>It is not recommended to use <code class="option">private</code> mount propagation for units, as this means
        temporary mounts (such as removable media) of the host will stay mounted and thus indefinitely busy in forked
        off processes, as unmount propagation events won't be received by the file system namespace of the unit.</p><p>Usually, it is best to leave this setting unmodified, and use higher level file system namespacing
        options instead, in particular <code class="varname">PrivateMounts=</code>, see above.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.15"></a><h2 id="System Call Filtering">System Call Filtering<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#System%20Call%20Filtering">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="SystemCallFilter="><span class="term"><code class="varname">SystemCallFilter=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SystemCallFilter=">¶</a></dt><dd><p>Takes a space-separated list of system call names. If this setting is used, all
        system calls executed by the unit processes except for the listed ones will result in immediate
        process termination with the <code class="constant">SIGSYS</code> signal (allow-listing). (See
        <code class="varname">SystemCallErrorNumber=</code> below for changing the default action). If the first
        character of the list is "<code class="literal">~</code>", the effect is inverted: only the listed system calls
        will result in immediate process termination (deny-listing). Deny-listed system calls and system call
        groups may optionally be suffixed with a colon ("<code class="literal">:</code>") and "<code class="literal">errno</code>"
        error number (between 0 and 4095) or errno name such as <code class="constant">EPERM</code>,
        <code class="constant">EACCES</code> or <code class="constant">EUCLEAN</code> (see <a href="http://man7.org/linux/man-pages/man3/errno.3.html"><span class="citerefentry"><span class="refentrytitle">errno</span>(3)</span></a> for a
        full list). This value will be returned when a deny-listed system call is triggered, instead of
        terminating the processes immediately. Special setting "<code class="literal">kill</code>" can be used to
        explicitly specify killing. This value takes precedence over the one given in
        <code class="varname">SystemCallErrorNumber=</code>, see below.  If running in user mode, or in system mode,
        but without the <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting
        <code class="varname">User=</code>), <code class="varname">NoNewPrivileges=yes</code> is implied. This feature
        makes use of the Secure Computing Mode 2 interfaces of the kernel ('seccomp filtering') and is useful
        for enforcing a minimal sandboxing environment. Note that the <code class="function">execve()</code>,
        <code class="function">exit()</code>, <code class="function">exit_group()</code>, <code class="function">getrlimit()</code>,
        <code class="function">rt_sigreturn()</code>, <code class="function">sigreturn()</code> system calls and the system calls
        for querying time and sleeping are implicitly allow-listed and do not need to be listed
        explicitly. This option may be specified more than once, in which case the filter masks are
        merged. If the empty string is assigned, the filter is reset, all prior assignments will have no
        effect. This does not affect commands prefixed with "<code class="literal">+</code>".</p><p>Note that on systems supporting multiple ABIs (such as x86/x86-64) it is recommended to turn off
        alternative ABIs for services, so that they cannot be used to circumvent the restrictions of this
        option. Specifically, it is recommended to combine this option with
        <code class="varname">SystemCallArchitectures=native</code> or similar.</p><p>Note that strict system call filters may impact execution and error handling code paths of the service
        invocation. Specifically, access to the <code class="function">execve()</code> system call is required for the execution
        of the service binary — if it is blocked service invocation will necessarily fail. Also, if execution of the
        service binary fails for some reason (for example: missing service executable), the error handling logic might
        require access to an additional set of system calls in order to process and log this failure correctly. It
        might be necessary to temporarily disable system call filters in order to simplify debugging of such
        failures.</p><p>If you specify both types of this option (i.e.  allow-listing and deny-listing), the first
        encountered will take precedence and will dictate the default action (termination or approval of a
        system call). Then the next occurrences of this option will add or delete the listed system calls
        from the set of the filtered system calls, depending of its type and the default action. (For
        example, if you have started with an allow list rule for <code class="function">read()</code> and
        <code class="function">write()</code>, and right after it add a deny list rule for <code class="function">write()</code>,
        then <code class="function">write()</code> will be removed from the set.)</p><p>As the number of possible system calls is large, predefined sets of system calls are provided.  A set
        starts with "<code class="literal">@</code>" character, followed by name of the set.

        </p><div class="table"><a name="id-1.15.2.1.2.5.2"></a><p class="title"><b>Table 3. Currently predefined system call sets</b></p><div class="table-contents"><table class="table" summary="Currently predefined system call sets" border="1"><colgroup><col class="set"><col class="description"></colgroup><thead><tr><th>Set</th><th>Description</th></tr></thead><tbody><tr><td>@aio</td><td>Asynchronous I/O (<a href="http://man7.org/linux/man-pages/man2/io_setup.2.html"><span class="citerefentry"><span class="refentrytitle">io_setup</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/io_submit.2.html"><span class="citerefentry"><span class="refentrytitle">io_submit</span>(2)</span></a>, and related calls)</td></tr><tr><td>@basic-io</td><td>System calls for basic I/O: reading, writing, seeking, file descriptor duplication and closing (<a href="http://man7.org/linux/man-pages/man2/read.2.html"><span class="citerefentry"><span class="refentrytitle">read</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/write.2.html"><span class="citerefentry"><span class="refentrytitle">write</span>(2)</span></a>, and related calls)</td></tr><tr><td>@chown</td><td>Changing file ownership (<a href="http://man7.org/linux/man-pages/man2/chown.2.html"><span class="citerefentry"><span class="refentrytitle">chown</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/fchownat.2.html"><span class="citerefentry"><span class="refentrytitle">fchownat</span>(2)</span></a>, and related calls)</td></tr><tr><td>@clock</td><td>System calls for changing the system clock (<a href="http://man7.org/linux/man-pages/man2/adjtimex.2.html"><span class="citerefentry"><span class="refentrytitle">adjtimex</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/settimeofday.2.html"><span class="citerefentry"><span class="refentrytitle">settimeofday</span>(2)</span></a>, and related calls)</td></tr><tr><td>@cpu-emulation</td><td>System calls for CPU emulation functionality (<a href="http://man7.org/linux/man-pages/man2/vm86.2.html"><span class="citerefentry"><span class="refentrytitle">vm86</span>(2)</span></a> and related calls)</td></tr><tr><td>@debug</td><td>Debugging, performance monitoring and tracing functionality (<a href="http://man7.org/linux/man-pages/man2/ptrace.2.html"><span class="citerefentry"><span class="refentrytitle">ptrace</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/perf_event_open.2.html"><span class="citerefentry"><span class="refentrytitle">perf_event_open</span>(2)</span></a> and related calls)</td></tr><tr><td>@file-system</td><td>File system operations: opening, creating files and directories for read and write, renaming and removing them, reading file properties, or creating hard and symbolic links</td></tr><tr><td>@io-event</td><td>Event loop system calls (<a href="http://man7.org/linux/man-pages/man2/poll.2.html"><span class="citerefentry"><span class="refentrytitle">poll</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/select.2.html"><span class="citerefentry"><span class="refentrytitle">select</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man7/epoll.7.html"><span class="citerefentry"><span class="refentrytitle">epoll</span>(7)</span></a>, <a href="http://man7.org/linux/man-pages/man2/eventfd.2.html"><span class="citerefentry"><span class="refentrytitle">eventfd</span>(2)</span></a> and related calls)</td></tr><tr><td>@ipc</td><td>Pipes, SysV IPC, POSIX Message Queues and other IPC (<a href="http://man7.org/linux/man-pages/man7/mq_overview.7.html"><span class="citerefentry"><span class="refentrytitle">mq_overview</span>(7)</span></a>, <a href="http://man7.org/linux/man-pages/man7/svipc.7.html"><span class="citerefentry"><span class="refentrytitle">svipc</span>(7)</span></a>)</td></tr><tr><td>@keyring</td><td>Kernel keyring access (<a href="http://man7.org/linux/man-pages/man2/keyctl.2.html"><span class="citerefentry"><span class="refentrytitle">keyctl</span>(2)</span></a> and related calls)</td></tr><tr><td>@memlock</td><td>Locking of memory in RAM (<a href="http://man7.org/linux/man-pages/man2/mlock.2.html"><span class="citerefentry"><span class="refentrytitle">mlock</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/mlockall.2.html"><span class="citerefentry"><span class="refentrytitle">mlockall</span>(2)</span></a> and related calls)</td></tr><tr><td>@module</td><td>Loading and unloading of kernel modules (<a href="http://man7.org/linux/man-pages/man2/init_module.2.html"><span class="citerefentry"><span class="refentrytitle">init_module</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/delete_module.2.html"><span class="citerefentry"><span class="refentrytitle">delete_module</span>(2)</span></a> and related calls)</td></tr><tr><td>@mount</td><td>Mounting and unmounting of file systems (<a href="http://man7.org/linux/man-pages/man2/mount.2.html"><span class="citerefentry"><span class="refentrytitle">mount</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/chroot.2.html"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a>, and related calls)</td></tr><tr><td>@network-io</td><td>Socket I/O (including local AF_UNIX): <a href="http://man7.org/linux/man-pages/man7/socket.7.html"><span class="citerefentry"><span class="refentrytitle">socket</span>(7)</span></a>, <a href="http://man7.org/linux/man-pages/man7/unix.7.html"><span class="citerefentry"><span class="refentrytitle">unix</span>(7)</span></a></td></tr><tr><td>@obsolete</td><td>Unusual, obsolete or unimplemented (<a href="http://man7.org/linux/man-pages/man2/create_module.2.html"><span class="citerefentry"><span class="refentrytitle">create_module</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/gtty.2.html"><span class="citerefentry"><span class="refentrytitle">gtty</span>(2)</span></a>, …)</td></tr><tr><td>@privileged</td><td>All system calls which need super-user capabilities (<a href="http://man7.org/linux/man-pages/man7/capabilities.7.html"><span class="citerefentry"><span class="refentrytitle">capabilities</span>(7)</span></a>)</td></tr><tr><td>@process</td><td>Process control, execution, namespacing operations (<a href="http://man7.org/linux/man-pages/man2/clone.2.html"><span class="citerefentry"><span class="refentrytitle">clone</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/kill.2.html"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man7/namespaces.7.html"><span class="citerefentry"><span class="refentrytitle">namespaces</span>(7)</span></a>, …)</td></tr><tr><td>@raw-io</td><td>Raw I/O port access (<a href="http://man7.org/linux/man-pages/man2/ioperm.2.html"><span class="citerefentry"><span class="refentrytitle">ioperm</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/iopl.2.html"><span class="citerefentry"><span class="refentrytitle">iopl</span>(2)</span></a>, <code class="function">pciconfig_read()</code>, …)</td></tr><tr><td>@reboot</td><td>System calls for rebooting and reboot preparation (<a href="http://man7.org/linux/man-pages/man2/reboot.2.html"><span class="citerefentry"><span class="refentrytitle">reboot</span>(2)</span></a>, <code class="function">kexec()</code>, …)</td></tr><tr><td>@resources</td><td>System calls for changing resource limits, memory and scheduling parameters (<a href="http://man7.org/linux/man-pages/man2/setrlimit.2.html"><span class="citerefentry"><span class="refentrytitle">setrlimit</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/setpriority.2.html"><span class="citerefentry"><span class="refentrytitle">setpriority</span>(2)</span></a>, …)</td></tr><tr><td>@setuid</td><td>System calls for changing user ID and group ID credentials, (<a href="http://man7.org/linux/man-pages/man2/setuid.2.html"><span class="citerefentry"><span class="refentrytitle">setuid</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/setgid.2.html"><span class="citerefentry"><span class="refentrytitle">setgid</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/setresuid.2.html"><span class="citerefentry"><span class="refentrytitle">setresuid</span>(2)</span></a>, …)</td></tr><tr><td>@signal</td><td>System calls for manipulating and handling process signals (<a href="http://man7.org/linux/man-pages/man2/signal.2.html"><span class="citerefentry"><span class="refentrytitle">signal</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/sigprocmask.2.html"><span class="citerefentry"><span class="refentrytitle">sigprocmask</span>(2)</span></a>, …)</td></tr><tr><td>@swap</td><td>System calls for enabling/disabling swap devices (<a href="http://man7.org/linux/man-pages/man2/swapon.2.html"><span class="citerefentry"><span class="refentrytitle">swapon</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/swapoff.2.html"><span class="citerefentry"><span class="refentrytitle">swapoff</span>(2)</span></a>)</td></tr><tr><td>@sync</td><td>Synchronizing files and memory to disk (<a href="http://man7.org/linux/man-pages/man2/fsync.2.html"><span class="citerefentry"><span class="refentrytitle">fsync</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/msync.2.html"><span class="citerefentry"><span class="refentrytitle">msync</span>(2)</span></a>, and related calls)</td></tr><tr><td>@system-service</td><td>A reasonable set of system calls used by common system services, excluding any special purpose calls. This is the recommended starting point for allow-listing system calls for system services, as it contains what is typically needed by system services, but excludes overly specific interfaces. For example, the following APIs are excluded: "<code class="literal">@clock</code>", "<code class="literal">@mount</code>", "<code class="literal">@swap</code>", "<code class="literal">@reboot</code>".</td></tr><tr><td>@timer</td><td>System calls for scheduling operations by time (<a href="http://man7.org/linux/man-pages/man2/alarm.2.html"><span class="citerefentry"><span class="refentrytitle">alarm</span>(2)</span></a>, <a href="http://man7.org/linux/man-pages/man2/timer_create.2.html"><span class="citerefentry"><span class="refentrytitle">timer_create</span>(2)</span></a>, …)</td></tr><tr><td>@known</td><td>All system calls defined by the kernel. This list is defined statically in systemd based on a kernel version that was available when this systemd version was released. It will become progressively more out-of-date as the kernel is updated.</td></tr></tbody></table></div></div><p><br class="table-break">

        Note, that as new system calls are added to the kernel, additional system calls might be added to the groups
        above. Contents of the sets may also change between systemd versions. In addition, the list of system calls
        depends on the kernel version and architecture for which systemd was compiled. Use
        <span class="command"><strong>systemd-analyze syscall-filter</strong></span> to list the actual list of system calls in each
        filter.</p><p>Generally, allow-listing system calls (rather than deny-listing) is the safer mode of
        operation. It is recommended to enforce system call allow lists for all long-running system
        services. Specifically, the following lines are a relatively safe basic choice for the majority of
        system services:</p><pre class="programlisting">[Service]
SystemCallFilter=@system-service
SystemCallErrorNumber=EPERM</pre><p>Note that various kernel system calls are defined redundantly: there are multiple system calls
        for executing the same operation. For example, the <code class="function">pidfd_send_signal()</code> system
        call may be used to execute operations similar to what can be done with the older
        <code class="function">kill()</code> system call, hence blocking the latter without the former only provides
        weak protection. Since new system calls are added regularly to the kernel as development progresses,
        keeping system call deny lists comprehensive requires constant work. It is thus recommended to use
        allow-listing instead, which offers the benefit that new system calls are by default implicitly
        blocked until the allow list is updated.</p><p>Also note that a number of system calls are required to be accessible for the dynamic linker to
        work. The dynamic linker is required for running most regular programs (specifically: all dynamic ELF
        binaries, which is how most distributions build packaged programs). This means that blocking these
        system calls (which include <code class="function">open()</code>, <code class="function">openat()</code> or
        <code class="function">mmap()</code>) will make most programs typically shipped with generic distributions
        unusable.</p><p>It is recommended to combine the file system namespacing related options with
        <code class="varname">SystemCallFilter=~@mount</code>, in order to prohibit the unit's processes to undo the
        mappings. Specifically these are the options <code class="varname">PrivateTmp=</code>,
        <code class="varname">PrivateDevices=</code>, <code class="varname">ProtectSystem=</code>, <code class="varname">ProtectHome=</code>,
        <code class="varname">ProtectKernelTunables=</code>, <code class="varname">ProtectControlGroups=</code>,
        <code class="varname">ProtectKernelLogs=</code>, <code class="varname">ProtectClock=</code>, <code class="varname">ReadOnlyPaths=</code>,
        <code class="varname">InaccessiblePaths=</code> and <code class="varname">ReadWritePaths=</code>.</p></dd><dt id="SystemCallErrorNumber="><span class="term"><code class="varname">SystemCallErrorNumber=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SystemCallErrorNumber=">¶</a></dt><dd><p>Takes an "<code class="literal">errno</code>" error number (between 1 and 4095) or errno name
        such as <code class="constant">EPERM</code>, <code class="constant">EACCES</code> or <code class="constant">EUCLEAN</code>, to
        return when the system call filter configured with <code class="varname">SystemCallFilter=</code> is triggered,
        instead of terminating the process immediately. See <a href="http://man7.org/linux/man-pages/man3/errno.3.html"><span class="citerefentry"><span class="refentrytitle">errno</span>(3)</span></a> for a
        full list of error codes. When this setting is not used, or when the empty string or the special
        setting "<code class="literal">kill</code>" is assigned, the process will be terminated immediately when the
        filter is triggered.</p></dd><dt id="SystemCallArchitectures="><span class="term"><code class="varname">SystemCallArchitectures=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SystemCallArchitectures=">¶</a></dt><dd><p>Takes a space-separated list of architecture identifiers to include in the system call
        filter. The known architecture identifiers are the same as for <code class="varname">ConditionArchitecture=</code>
        described in <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>,
        as well as <code class="constant">x32</code>, <code class="constant">mips64-n32</code>, <code class="constant">mips64-le-n32</code>, and
        the special identifier <code class="constant">native</code>.  The special identifier <code class="constant">native</code>
        implicitly maps to the native architecture of the system (or more precisely: to the architecture the system
        manager is compiled for). If running in user mode, or in system mode, but without the
        <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting <code class="varname">User=</code>),
        <code class="varname">NoNewPrivileges=yes</code> is implied. By default, this option is set to the empty list, i.e. no
        filtering is applied.</p><p>If this setting is used, processes of this unit will only be permitted to call native system calls, and
        system calls of the specified architectures. For the purposes of this option, the x32 architecture is treated
        as including x86-64 system calls. However, this setting still fulfills its purpose, as explained below, on
        x32.</p><p>System call filtering is not equally effective on all architectures. For example, on x86
        filtering of network socket-related calls is not possible, due to ABI limitations — a limitation that x86-64
        does not have, however. On systems supporting multiple ABIs at the same time — such as x86/x86-64 — it is hence
        recommended to limit the set of permitted system call architectures so that secondary ABIs may not be used to
        circumvent the restrictions applied to the native ABI of the system. In particular, setting
        <code class="varname">SystemCallArchitectures=native</code> is a good choice for disabling non-native ABIs.</p><p>System call architectures may also be restricted system-wide via the
        <code class="varname">SystemCallArchitectures=</code> option in the global configuration. See
        <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a> for
        details.</p></dd><dt id="SystemCallLog="><span class="term"><code class="varname">SystemCallLog=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SystemCallLog=">¶</a></dt><dd><p>Takes a space-separated list of system call names. If this setting is used, all
        system calls executed by the unit processes for the listed ones will be logged. If the first
        character of the list is "<code class="literal">~</code>", the effect is inverted: all system calls except the
        listed system calls will be logged. If running in user mode, or in system mode, but without the
        <code class="constant">CAP_SYS_ADMIN</code> capability (e.g. setting <code class="varname">User=</code>),
        <code class="varname">NoNewPrivileges=yes</code> is implied. This feature makes use of the Secure Computing
        Mode 2 interfaces of the kernel ('seccomp filtering') and is useful for auditing or setting up a
        minimal sandboxing environment. This option may be specified more than once, in which case the filter
        masks are merged. If the empty string is assigned, the filter is reset, all prior assignments will
        have no effect. This does not affect commands prefixed with "<code class="literal">+</code>".</p></dd></dl></div></div><div class="refsect1"><a name="id-1.16"></a><h2 id="Environment">Environment<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Environment">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="Environment="><span class="term"><code class="varname">Environment=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#Environment=">¶</a></dt><dd><p>Sets environment variables for executed processes. Each line is unquoted using the
        rules described in "Quoting" section in
        <a href="systemd.syntax.html#"><span class="citerefentry"><span class="refentrytitle">systemd.syntax</span>(7)</span></a>
        and becomes a list of variable assignments. If you need to assign a value containing spaces or the
        equals sign to a variable, put quotes around the whole assignment. Variable expansion is not
        performed inside the strings and the "<code class="literal">$</code>" character has no special meaning. Specifier
        expansion is performed, see the "Specifiers" section in
        <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>.
        </p><p>This option may be specified more than once, in which case all listed variables will be set. If
        the same variable is listed twice, the later setting will override the earlier setting. If the empty
        string is assigned to this option, the list of environment variables is reset, all prior assignments
        have no effect.</p><p>The names of the variables can contain ASCII letters, digits, and the underscore character.
        Variable names cannot be empty or start with a digit. In variable values, most characters are
        allowed, but non-printable characters are currently rejected.</p><p>Example:
        </p><pre class="programlisting">Environment="VAR1=word1 word2" VAR2=word3 "VAR3=$word 5 6"</pre><p>
        gives three variables "<code class="literal">VAR1</code>",
        "<code class="literal">VAR2</code>", "<code class="literal">VAR3</code>"
        with the values "<code class="literal">word1 word2</code>",
        "<code class="literal">word3</code>", "<code class="literal">$word 5 6</code>".
        </p><p>See <a href="http://man7.org/linux/man-pages/man7/environ.7.html"><span class="citerefentry"><span class="refentrytitle">environ</span>(7)</span></a> for
        details about environment variables.</p><p>Note that environment variables are not suitable for passing secrets (such as passwords, key
        material, …)  to service processes. Environment variables set for a unit are exposed to unprivileged
        clients via D-Bus IPC, and generally not understood as being data that requires protection. Moreover,
        environment variables are propagated down the process tree, including across security boundaries
        (such as setuid/setgid executables), and hence might leak to processes that should not have access to
        the secret data. Use <code class="varname">LoadCredential=</code>, <code class="varname">LoadCredentialEncrypted=</code>
        or <code class="varname">SetCredentialEncrypted=</code> (see below) to pass data to unit processes
        securely.</p></dd><dt id="EnvironmentFile="><span class="term"><code class="varname">EnvironmentFile=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#EnvironmentFile=">¶</a></dt><dd><p>Similar to <code class="varname">Environment=</code> but reads the environment variables from a text
        file. The text file should contain new-line-separated variable assignments.  Empty lines, lines without an
        "<code class="literal">=</code>" separator, or lines starting with ; or # will be ignored, which may be used for
        commenting. A line ending with a backslash will be concatenated with the following one, allowing multiline
        variable definitions. The parser strips leading and trailing whitespace from the values of assignments, unless
        you use double quotes (").</p><p><a class="ulink" href="https://en.wikipedia.org/wiki/Escape_sequences_in_C#Table_of_escape_sequences" target="_top">C escapes</a>
        are supported, but not
        <a class="ulink" href="https://en.wikipedia.org/wiki/Control_character#In_ASCII" target="_top">most control characters</a>.
        "<code class="literal">\t</code>" and "<code class="literal">\n</code>" can be used to insert tabs and newlines within
        <code class="varname">EnvironmentFile=</code>.</p><p>The argument passed should be an absolute filename or wildcard expression, optionally prefixed with
        "<code class="literal">-</code>", which indicates that if the file does not exist, it will not be read and no error or
        warning message is logged. This option may be specified more than once in which case all specified files are
        read. If the empty string is assigned to this option, the list of file to read is reset, all prior assignments
        have no effect.</p><p>The files listed with this directive will be read shortly before the process is executed (more
        specifically, after all processes from a previous unit state terminated.  This means you can generate these
        files in one unit state, and read it with this option in the next.  The files are read from the file
        system of the service manager, before any file system changes like bind mounts take place).</p><p>Settings from these files override settings made with <code class="varname">Environment=</code>. If the same
        variable is set twice from these files, the files will be read in the order they are specified and the later
        setting will override the earlier setting.</p></dd><dt id="PassEnvironment="><span class="term"><code class="varname">PassEnvironment=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#PassEnvironment=">¶</a></dt><dd><p>Pass environment variables set for the system service manager to executed processes. Takes a
        space-separated list of variable names. This option may be specified more than once, in which case all listed
        variables will be passed. If the empty string is assigned to this option, the list of environment variables to
        pass is reset, all prior assignments have no effect. Variables specified that are not set for the system
        manager will not be passed and will be silently ignored. Note that this option is only relevant for the system
        service manager, as system services by default do not automatically inherit any environment variables set for
        the service manager itself. However, in case of the user service manager all environment variables are passed
        to the executed processes anyway, hence this option is without effect for the user service manager.</p><p>Variables set for invoked processes due to this setting are subject to being overridden by those
        configured with <code class="varname">Environment=</code> or <code class="varname">EnvironmentFile=</code>.</p><p><a class="ulink" href="https://en.wikipedia.org/wiki/Escape_sequences_in_C#Table_of_escape_sequences" target="_top">C escapes</a>
        are supported, but not
        <a class="ulink" href="https://en.wikipedia.org/wiki/Control_character#In_ASCII" target="_top">most control characters</a>.
        "<code class="literal">\t</code>" and "<code class="literal">\n</code>" can be used to insert tabs and newlines within
        <code class="varname">EnvironmentFile=</code>.</p><p>Example:
        </p><pre class="programlisting">PassEnvironment=VAR1 VAR2 VAR3</pre><p>
        passes three variables "<code class="literal">VAR1</code>",
        "<code class="literal">VAR2</code>", "<code class="literal">VAR3</code>"
        with the values set for those variables in PID1.</p><p>
        See <a href="http://man7.org/linux/man-pages/man7/environ.7.html"><span class="citerefentry"><span class="refentrytitle">environ</span>(7)</span></a> for details
        about environment variables.</p></dd><dt id="UnsetEnvironment="><span class="term"><code class="varname">UnsetEnvironment=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#UnsetEnvironment=">¶</a></dt><dd><p>Explicitly unset environment variable assignments that would normally be passed from the
        service manager to invoked processes of this unit. Takes a space-separated list of variable names or variable
        assignments. This option may be specified more than once, in which case all listed variables/assignments will
        be unset. If the empty string is assigned to this option, the list of environment variables/assignments to
        unset is reset. If a variable assignment is specified (that is: a variable name, followed by
        "<code class="literal">=</code>", followed by its value), then any environment variable matching this precise assignment is
        removed. If a variable name is specified (that is a variable name without any following "<code class="literal">=</code>" or
        value), then any assignment matching the variable name, regardless of its value is removed. Note that the
        effect of <code class="varname">UnsetEnvironment=</code> is applied as final step when the environment list passed to
        executed processes is compiled. That means it may undo assignments from any configuration source, including
        assignments made through <code class="varname">Environment=</code> or <code class="varname">EnvironmentFile=</code>, inherited from
        the system manager's global set of environment variables, inherited via <code class="varname">PassEnvironment=</code>,
        set by the service manager itself (such as <code class="varname">$NOTIFY_SOCKET</code> and such), or set by a PAM module
        (in case <code class="varname">PAMName=</code> is used).</p><p>See "Environment Variables in Spawned Processes" below for a description of how those
        settings combine to form the inherited environment. See <a href="http://man7.org/linux/man-pages/man7/environ.7.html"><span class="citerefentry"><span class="refentrytitle">environ</span>(7)</span></a> for general
        information about environment variables.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.17"></a><h2 id="Logging and Standard Input/Output">Logging and Standard Input/Output<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Logging%20and%20Standard%20Input/Output">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="StandardInput="><span class="term"><code class="varname">StandardInput=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#StandardInput=">¶</a></dt><dd><p>Controls where file descriptor 0 (STDIN) of the executed processes is connected to. Takes one
        of <code class="option">null</code>, <code class="option">tty</code>, <code class="option">tty-force</code>, <code class="option">tty-fail</code>,
        <code class="option">data</code>, <code class="option">file:<em class="replaceable"><code>path</code></em></code>, <code class="option">socket</code> or
        <code class="option">fd:<em class="replaceable"><code>name</code></em></code>.</p><p>If <code class="option">null</code> is selected, standard input will be connected to <code class="filename">/dev/null</code>,
        i.e. all read attempts by the process will result in immediate EOF.</p><p>If <code class="option">tty</code> is selected, standard input is connected to a TTY (as configured by
        <code class="varname">TTYPath=</code>, see below) and the executed process becomes the controlling process of the
        terminal. If the terminal is already being controlled by another process, the executed process waits until the
        current controlling process releases the terminal.</p><p><code class="option">tty-force</code> is similar to <code class="option">tty</code>, but the executed process is forcefully and
        immediately made the controlling process of the terminal, potentially removing previous controlling processes
        from the terminal.</p><p><code class="option">tty-fail</code> is similar to <code class="option">tty</code>, but if the terminal already has a
        controlling process start-up of the executed process fails.</p><p>The <code class="option">data</code> option may be used to configure arbitrary textual or binary data to pass via
        standard input to the executed process. The data to pass is configured via
        <code class="varname">StandardInputText=</code>/<code class="varname">StandardInputData=</code> (see below). Note that the actual
        file descriptor type passed (memory file, regular file, UNIX pipe, …) might depend on the kernel and available
        privileges. In any case, the file descriptor is read-only, and when read returns the specified data followed by
        EOF.</p><p>The <code class="option">file:<em class="replaceable"><code>path</code></em></code> option may be used to connect a specific file
        system object to standard input. An absolute path following the "<code class="literal">:</code>" character is expected,
        which may refer to a regular file, a FIFO or special file. If an <code class="constant">AF_UNIX</code> socket in the
        file system is specified, a stream socket is connected to it. The latter is useful for connecting standard
        input of processes to arbitrary system services.</p><p>The <code class="option">socket</code> option is valid in socket-activated services only, and requires the relevant
        socket unit file (see
        <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a> for details)
        to have <code class="varname">Accept=yes</code> set, or to specify a single socket only. If this option is set, standard
        input will be connected to the socket the service was activated from, which is primarily useful for
        compatibility with daemons designed for use with the traditional <a href="https://www.freebsd.org/cgi/man.cgi?inetd(8)"><span class="citerefentry"><span class="refentrytitle">inetd</span>(8)</span></a> socket activation
        daemon.</p><p>The <code class="option">fd:<em class="replaceable"><code>name</code></em></code> option connects standard input to a specific,
        named file descriptor provided by a socket unit.  The name may be specified as part of this option, following a
        "<code class="literal">:</code>" character (e.g. "<code class="literal">fd:foobar</code>").  If no name is specified, the name
        "<code class="literal">stdin</code>" is implied (i.e. "<code class="literal">fd</code>" is equivalent to "<code class="literal">fd:stdin</code>").
        At least one socket unit defining the specified name must be provided via the <code class="varname">Sockets=</code>
        option, and the file descriptor name may differ from the name of its containing socket unit.  If multiple
        matches are found, the first one will be used.  See <code class="varname">FileDescriptorName=</code> in
        <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a> for more
        details about named file descriptors and their ordering.</p><p>This setting defaults to <code class="option">null</code>, unless
        <code class="varname">StandardInputText=</code>/<code class="varname">StandardInputData=</code> are set, in which case it
        defaults to <code class="option">data</code>.</p></dd><dt id="StandardOutput="><span class="term"><code class="varname">StandardOutput=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#StandardOutput=">¶</a></dt><dd><p>Controls where file descriptor 1 (stdout) of the executed processes is connected
        to. Takes one of <code class="option">inherit</code>, <code class="option">null</code>, <code class="option">tty</code>,
        <code class="option">journal</code>, <code class="option">kmsg</code>, <code class="option">journal+console</code>,
        <code class="option">kmsg+console</code>, <code class="option">file:<em class="replaceable"><code>path</code></em></code>,
        <code class="option">append:<em class="replaceable"><code>path</code></em></code>, <code class="option">truncate:<em class="replaceable"><code>path</code></em></code>,
        <code class="option">socket</code> or <code class="option">fd:<em class="replaceable"><code>name</code></em></code>.</p><p><code class="option">inherit</code> duplicates the file descriptor of standard input for standard output.</p><p><code class="option">null</code> connects standard output to <code class="filename">/dev/null</code>, i.e. everything written
        to it will be lost.</p><p><code class="option">tty</code> connects standard output to a tty (as configured via <code class="varname">TTYPath=</code>,
        see below). If the TTY is used for output only, the executed process will not become the controlling process of
        the terminal, and will not fail or wait for other processes to release the terminal.</p><p><code class="option">journal</code> connects standard output with the journal, which is accessible via
        <a href="journalctl.html#"><span class="citerefentry"><span class="refentrytitle">journalctl</span>(1)</span></a>. Note
        that everything that is written to kmsg (see below) is implicitly stored in the journal as well, the
        specific option listed below is hence a superset of this one. (Also note that any external,
        additional syslog daemons receive their log data from the journal, too, hence this is the option to
        use when logging shall be processed with such a daemon.)</p><p><code class="option">kmsg</code> connects standard output with the kernel log buffer which is accessible via
        <a href="http://man7.org/linux/man-pages/man1/dmesg.1.html"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(1)</span></a>,
        in addition to the journal. The journal daemon might be configured to send all logs to kmsg anyway, in which
        case this option is no different from <code class="option">journal</code>.</p><p><code class="option">journal+console</code> and <code class="option">kmsg+console</code> work in a similar way as the
        two options above but copy the output to the system console as well.</p><p>The <code class="option">file:<em class="replaceable"><code>path</code></em></code> option may be used to connect a specific file
        system object to standard output. The semantics are similar to the same option of
        <code class="varname">StandardInput=</code>, see above. If <em class="replaceable"><code>path</code></em> refers to a regular file
        on the filesystem, it is opened (created if it doesn't exist yet) for writing at the beginning of the file,
        but without truncating it.
        If standard input and output are directed to the same file path, it is opened only once, for reading as well
        as writing and duplicated. This is particularly useful when the specified path refers to an
        <code class="constant">AF_UNIX</code> socket in the file system, as in that case only a
        single stream connection is created for both input and output.</p><p><code class="option">append:<em class="replaceable"><code>path</code></em></code> is similar to
        <code class="option">file:<em class="replaceable"><code>path</code></em></code> above, but it opens the file in append mode.
        </p><p><code class="option">truncate:<em class="replaceable"><code>path</code></em></code> is similar to
        <code class="option">file:<em class="replaceable"><code>path</code></em></code> above, but it truncates the file when opening
        it. For units with multiple command lines, e.g. <code class="varname">Type=oneshot</code> services with
        multiple <code class="varname">ExecStart=</code>, or services with <code class="varname">ExecCondition=</code>,
        <code class="varname">ExecStartPre=</code> or <code class="varname">ExecStartPost=</code>, the output file is reopened
        and therefore re-truncated for each command line. If the output file is truncated while another
        process still has the file open, e.g. by an <code class="varname">ExecReload=</code> running concurrently with
        an <code class="varname">ExecStart=</code>, and the other process continues writing to the file without
        adjusting its offset, then the space between the file pointers of the two processes may be filled
        with <code class="constant">NUL</code> bytes, producing a sparse file. Thus,
        <code class="option">truncate:<em class="replaceable"><code>path</code></em></code> is typically only useful for units where
        only one process runs at a time, such as services with a single <code class="varname">ExecStart=</code> and no
        <code class="varname">ExecStartPost=</code>, <code class="varname">ExecReload=</code>, <code class="varname">ExecStop=</code> or
        similar.</p><p><code class="option">socket</code> connects standard output to a socket acquired via socket activation. The
        semantics are similar to the same option of <code class="varname">StandardInput=</code>, see above.</p><p>The <code class="option">fd:<em class="replaceable"><code>name</code></em></code> option connects standard output to a specific,
        named file descriptor provided by a socket unit.  A name may be specified as part of this option, following a
        "<code class="literal">:</code>" character (e.g. "<code class="literal">fd:foobar</code>").  If no name is specified, the name
        "<code class="literal">stdout</code>" is implied (i.e. "<code class="literal">fd</code>" is equivalent to
        "<code class="literal">fd:stdout</code>").  At least one socket unit defining the specified name must be provided via the
        <code class="varname">Sockets=</code> option, and the file descriptor name may differ from the name of its containing
        socket unit.  If multiple matches are found, the first one will be used.  See
        <code class="varname">FileDescriptorName=</code> in
        <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a> for more
        details about named descriptors and their ordering.</p><p>If the standard output (or error output, see below) of a unit is connected to the journal or
        the kernel log buffer, the unit will implicitly gain a dependency of type <code class="varname">After=</code>
        on <code class="filename">systemd-journald.socket</code> (also see the "Implicit Dependencies" section
        above). Also note that in this case stdout (or stderr, see below) will be an
        <code class="constant">AF_UNIX</code> stream socket, and not a pipe or FIFO that can be re-opened. This means
        when executing shell scripts the construct <span class="command"><strong>echo "hello" &gt; /dev/stderr</strong></span> for
        writing text to stderr will not work. To mitigate this use the construct <span class="command"><strong>echo "hello"
        &gt;&amp;2</strong></span> instead, which is mostly equivalent and avoids this pitfall.</p><p>This setting defaults to the value set with <code class="varname">DefaultStandardOutput=</code> in
        <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>, which
        defaults to <code class="option">journal</code>. Note that setting this parameter might result in additional dependencies
        to be added to the unit (see above).</p></dd><dt id="StandardError="><span class="term"><code class="varname">StandardError=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#StandardError=">¶</a></dt><dd><p>Controls where file descriptor 2 (stderr) of the executed processes is connected to. The
        available options are identical to those of <code class="varname">StandardOutput=</code>, with some exceptions: if set to
        <code class="option">inherit</code> the file descriptor used for standard output is duplicated for standard error, while
        <code class="option">fd:<em class="replaceable"><code>name</code></em></code> will use a default file descriptor name of
        "<code class="literal">stderr</code>".</p><p>This setting defaults to the value set with <code class="varname">DefaultStandardError=</code> in
        <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>, which
        defaults to <code class="option">inherit</code>. Note that setting this parameter might result in additional dependencies
        to be added to the unit (see above).</p></dd><dt id="StandardInputText="><span class="term"><code class="varname">StandardInputText=</code>, </span><span class="term"><code class="varname">StandardInputData=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#StandardInputText=">¶</a></dt><dd><p>Configures arbitrary textual or binary data to pass via file descriptor 0 (STDIN) to
        the executed processes. These settings have no effect unless <code class="varname">StandardInput=</code> is set
        to <code class="option">data</code> (which is the default if <code class="varname">StandardInput=</code> is not set
        otherwise, but <code class="varname">StandardInputText=</code>/<code class="varname">StandardInputData=</code> is). Use
        this option to embed process input data directly in the unit file.</p><p><code class="varname">StandardInputText=</code> accepts arbitrary textual data. C-style escapes for special
        characters as well as the usual "<code class="literal">%</code>"-specifiers are resolved. Each time this setting is used
        the specified text is appended to the per-unit data buffer, followed by a newline character (thus every use
        appends a new line to the end of the buffer). Note that leading and trailing whitespace of lines configured
        with this option is removed. If an empty line is specified the buffer is cleared (hence, in order to insert an
        empty line, add an additional "<code class="literal">\n</code>" to the end or beginning of a line).</p><p><code class="varname">StandardInputData=</code> accepts arbitrary binary data, encoded in <a class="ulink" href="https://tools.ietf.org/html/rfc2045#section-6.8" target="_top">Base64</a>. No escape sequences or specifiers are
        resolved. Any whitespace in the encoded version is ignored during decoding.</p><p>Note that <code class="varname">StandardInputText=</code> and <code class="varname">StandardInputData=</code> operate on the
        same data buffer, and may be mixed in order to configure both binary and textual data for the same input
        stream. The textual or binary data is joined strictly in the order the settings appear in the unit
        file. Assigning an empty string to either will reset the data buffer.</p><p>Please keep in mind that in order to maintain readability long unit file settings may be split into
        multiple lines, by suffixing each line (except for the last) with a "<code class="literal">\</code>" character (see
        <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a> for
        details). This is particularly useful for large data configured with these two options. Example:</p><pre class="programlisting">…
StandardInput=data
StandardInputData=SWNrIHNpdHplIGRhIHVuJyBlc3NlIEtsb3BzLAp1ZmYgZWVtYWwga2xvcHAncy4KSWNrIGtpZWtl \
                  LCBzdGF1bmUsIHd1bmRyZSBtaXIsCnVmZiBlZW1hbCBqZWh0IHNlIHVmZiBkaWUgVMO8ci4KTmFu \
                  dSwgZGVuayBpY2ssIGljayBkZW5rIG5hbnUhCkpldHogaXNzZSB1ZmYsIGVyc2NodCB3YXIgc2Ug \
                  enUhCkljayBqZWhlIHJhdXMgdW5kIGJsaWNrZSDigJQKdW5kIHdlciBzdGVodCBkcmF1w59lbj8g \
                  SWNrZSEK
…</pre></dd><dt id="LogLevelMax="><span class="term"><code class="varname">LogLevelMax=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#LogLevelMax=">¶</a></dt><dd><p>Configures filtering by log level of log messages generated by this unit. Takes a
        <span class="command"><strong>syslog</strong></span> log level, one of <code class="option">emerg</code> (lowest log level, only highest priority
        messages), <code class="option">alert</code>, <code class="option">crit</code>, <code class="option">err</code>, <code class="option">warning</code>,
        <code class="option">notice</code>, <code class="option">info</code>, <code class="option">debug</code> (highest log level, also lowest priority
        messages). See <a href="http://man7.org/linux/man-pages/man3/syslog.3.html"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a> for
        details. By default no filtering is applied (i.e. the default maximum log level is <code class="option">debug</code>). Use
        this option to configure the logging system to drop log messages of a specific service above the specified
        level. For example, set <code class="varname">LogLevelMax=</code><code class="option">info</code> in order to turn off debug logging
        of a particularly chatty unit. Note that the configured level is applied to any log messages written by any
        of the processes belonging to this unit, as well as any log messages written by the system manager process
        (PID 1) in reference to this unit, sent via any supported logging protocol. The filtering is applied
        early in the logging pipeline, before any kind of further processing is done. Moreover, messages which pass
        through this filter successfully might still be dropped by filters applied at a later stage in the logging
        subsystem. For example, <code class="varname">MaxLevelStore=</code> configured in
        <a href="journald.conf.html#"><span class="citerefentry"><span class="refentrytitle">journald.conf</span>(5)</span></a> might
        prohibit messages of higher log levels to be stored on disk, even though the per-unit
        <code class="varname">LogLevelMax=</code> permitted it to be processed.</p></dd><dt id="LogExtraFields="><span class="term"><code class="varname">LogExtraFields=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#LogExtraFields=">¶</a></dt><dd><p>Configures additional log metadata fields to include in all log records generated by
        processes associated with this unit. This setting takes one or more journal field assignments in the
        format "<code class="literal">FIELD=VALUE</code>" separated by whitespace. See
        <a href="systemd.journal-fields.html#"><span class="citerefentry"><span class="refentrytitle">systemd.journal-fields</span>(7)</span></a>
        for details on the journal field concept. Even though the underlying journal implementation permits
        binary field values, this setting accepts only valid UTF-8 values. To include space characters in a
        journal field value, enclose the assignment in double quotes ("). 
        The usual specifiers are expanded in all assignments (see below). Note that this setting is not only
        useful for attaching additional metadata to log records of a unit, but given that all fields and
        values are indexed may also be used to implement cross-unit log record matching. Assign an empty
        string to reset the list.</p></dd><dt id="LogRateLimitIntervalSec="><span class="term"><code class="varname">LogRateLimitIntervalSec=</code>, </span><span class="term"><code class="varname">LogRateLimitBurst=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#LogRateLimitIntervalSec=">¶</a></dt><dd><p>Configures the rate limiting that is applied to messages generated by this unit. If, in the
        time interval defined by <code class="varname">LogRateLimitIntervalSec=</code>, more messages than specified in
        <code class="varname">LogRateLimitBurst=</code> are logged by a service, all further messages within the interval are
        dropped until the interval is over. A message about the number of dropped messages is generated. The time
        specification for <code class="varname">LogRateLimitIntervalSec=</code> may be specified in the following units: "s",
        "min", "h", "ms", "us" (see
        <a href="systemd.time.html#"><span class="citerefentry"><span class="refentrytitle">systemd.time</span>(7)</span></a> for details).
        The default settings are set by <code class="varname">RateLimitIntervalSec=</code> and <code class="varname">RateLimitBurst=</code>
        configured in <a href="journald.conf.html#"><span class="citerefentry"><span class="refentrytitle">journald.conf</span>(5)</span></a>.
        </p></dd><dt id="LogNamespace="><span class="term"><code class="varname">LogNamespace=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#LogNamespace=">¶</a></dt><dd><p>Run the unit's processes in the specified journal namespace. Expects a short
        user-defined string identifying the namespace. If not used the processes of the service are run in
        the default journal namespace, i.e. their log stream is collected and processed by
        <code class="filename">systemd-journald.service</code>. If this option is used any log data generated by
        processes of this unit (regardless if via the <code class="function">syslog()</code>, journal native logging
        or stdout/stderr logging) is collected and processed by an instance of the
        <code class="filename">systemd-journald@.service</code> template unit, which manages the specified
        namespace. The log data is stored in a data store independent from the default log namespace's data
        store. See
        <a href="systemd-journald.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-journald.service</span>(8)</span></a>
        for details about journal namespaces.</p><p>Internally, journal namespaces are implemented through Linux mount namespacing and
        over-mounting the directory that contains the relevant <code class="constant">AF_UNIX</code> sockets used for
        logging in the unit's mount namespace. Since mount namespaces are used this setting disconnects
        propagation of mounts from the unit's processes to the host, similar to how
        <code class="varname">ReadOnlyPaths=</code> and similar settings (see above) work. Journal namespaces may hence
        not be used for services that need to establish mount points on the host.</p><p>When this option is used the unit will automatically gain ordering and requirement dependencies
        on the two socket units associated with the <code class="filename">systemd-journald@.service</code> instance
        so that they are automatically established prior to the unit starting up. Note that when this option
        is used log output of this service does not appear in the regular
        <a href="journalctl.html#"><span class="citerefentry"><span class="refentrytitle">journalctl</span>(1)</span></a>
        output, unless the <code class="option">--namespace=</code> option is used.</p><p><a name="singular"></a>This option is only available for system services and is not supported for services
running in per-user instances of the service manager.</p></dd><dt id="SyslogIdentifier="><span class="term"><code class="varname">SyslogIdentifier=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SyslogIdentifier=">¶</a></dt><dd><p>Sets the process name ("<span class="command"><strong>syslog</strong></span> tag") to prefix log lines sent to
        the logging system or the kernel log buffer with. If not set, defaults to the process name of the
        executed process.  This option is only useful when <code class="varname">StandardOutput=</code> or
        <code class="varname">StandardError=</code> are set to <code class="option">journal</code> or <code class="option">kmsg</code> (or to
        the same settings in combination with <code class="option">+console</code>) and only applies to log messages
        written to stdout or stderr.</p></dd><dt id="SyslogFacility="><span class="term"><code class="varname">SyslogFacility=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SyslogFacility=">¶</a></dt><dd><p>Sets the <span class="command"><strong>syslog</strong></span> facility identifier to use when logging. One of
        <code class="option">kern</code>, <code class="option">user</code>, <code class="option">mail</code>, <code class="option">daemon</code>,
        <code class="option">auth</code>, <code class="option">syslog</code>, <code class="option">lpr</code>, <code class="option">news</code>,
        <code class="option">uucp</code>, <code class="option">cron</code>, <code class="option">authpriv</code>, <code class="option">ftp</code>,
        <code class="option">local0</code>, <code class="option">local1</code>, <code class="option">local2</code>, <code class="option">local3</code>,
        <code class="option">local4</code>, <code class="option">local5</code>, <code class="option">local6</code> or
        <code class="option">local7</code>. See <a href="http://man7.org/linux/man-pages/man3/syslog.3.html"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a> for
        details. This option is only useful when <code class="varname">StandardOutput=</code> or
        <code class="varname">StandardError=</code> are set to <code class="option">journal</code> or <code class="option">kmsg</code> (or to
        the same settings in combination with <code class="option">+console</code>), and only applies to log messages
        written to stdout or stderr. Defaults to <code class="option">daemon</code>.</p></dd><dt id="SyslogLevel="><span class="term"><code class="varname">SyslogLevel=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SyslogLevel=">¶</a></dt><dd><p>The default <span class="command"><strong>syslog</strong></span> log level to use when logging to the logging system or
        the kernel log buffer. One of <code class="option">emerg</code>, <code class="option">alert</code>, <code class="option">crit</code>,
        <code class="option">err</code>, <code class="option">warning</code>, <code class="option">notice</code>, <code class="option">info</code>,
        <code class="option">debug</code>. See <a href="http://man7.org/linux/man-pages/man3/syslog.3.html"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a> for
        details. This option is only useful when <code class="varname">StandardOutput=</code> or
        <code class="varname">StandardError=</code> are set to <code class="option">journal</code> or
        <code class="option">kmsg</code> (or to the same settings in combination with <code class="option">+console</code>), and only applies
        to log messages written to stdout or stderr. Note that individual lines output by executed processes may be
        prefixed with a different log level which can be used to override the default log level specified here. The
        interpretation of these prefixes may be disabled with <code class="varname">SyslogLevelPrefix=</code>, see below. For
        details, see <a href="sd-daemon.html#"><span class="citerefentry"><span class="refentrytitle">sd-daemon</span>(3)</span></a>.
        Defaults to <code class="option">info</code>.</p></dd><dt id="SyslogLevelPrefix="><span class="term"><code class="varname">SyslogLevelPrefix=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SyslogLevelPrefix=">¶</a></dt><dd><p>Takes a boolean argument. If true and <code class="varname">StandardOutput=</code> or
        <code class="varname">StandardError=</code> are set to <code class="option">journal</code> or <code class="option">kmsg</code> (or to
        the same settings in combination with <code class="option">+console</code>), log lines written by the executed
        process that are prefixed with a log level will be processed with this log level set but the prefix
        removed. If set to false, the interpretation of these prefixes is disabled and the logged lines are
        passed on as-is. This only applies to log messages written to stdout or stderr. For details about
        this prefixing see
        <a href="sd-daemon.html#"><span class="citerefentry"><span class="refentrytitle">sd-daemon</span>(3)</span></a>.
        Defaults to true.</p></dd><dt id="TTYPath="><span class="term"><code class="varname">TTYPath=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#TTYPath=">¶</a></dt><dd><p>Sets the terminal device node to use if standard input, output, or error are connected to a TTY
        (see above). Defaults to <code class="filename">/dev/console</code>.</p></dd><dt id="TTYReset="><span class="term"><code class="varname">TTYReset=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#TTYReset=">¶</a></dt><dd><p>Reset the terminal device specified with <code class="varname">TTYPath=</code> before and after
        execution.  Defaults to "<code class="literal">no</code>".</p></dd><dt id="TTYVHangup="><span class="term"><code class="varname">TTYVHangup=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#TTYVHangup=">¶</a></dt><dd><p>Disconnect all clients which have opened the terminal device specified with
        <code class="varname">TTYPath=</code> before and after execution. Defaults to "<code class="literal">no</code>".</p></dd><dt id="TTYVTDisallocate="><span class="term"><code class="varname">TTYVTDisallocate=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#TTYVTDisallocate=">¶</a></dt><dd><p>If the terminal device specified with <code class="varname">TTYPath=</code> is a virtual console
        terminal, try to deallocate the TTY before and after execution. This ensures that the screen and scrollback
        buffer is cleared. Defaults to "<code class="literal">no</code>".</p></dd></dl></div></div><div class="refsect1"><a name="id-1.18"></a><h2 id="Credentials">Credentials<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Credentials">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="LoadCredential=ID:PATH"><span class="term"><code class="varname">LoadCredential=</code><em class="replaceable"><code>ID</code></em>[<span class="optional">:<em class="replaceable"><code>PATH</code></em></span>], </span><span class="term"><code class="varname">LoadCredentialEncrypted=</code><em class="replaceable"><code>ID</code></em>[<span class="optional">:<em class="replaceable"><code>PATH</code></em></span>]</span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#LoadCredential=ID:PATH">¶</a></dt><dd><p>Pass a credential to the unit. Credentials are limited-size binary or textual objects
        that may be passed to unit processes. They are primarily used for passing cryptographic keys (both
        public and private) or certificates, user account information or identity information from host to
        services. The data is accessible from the unit's processes via the file system, at a read-only
        location that (if possible and permitted) is backed by non-swappable memory. The data is only
        accessible to the user associated with the unit, via the
        <code class="varname">User=</code>/<code class="varname">DynamicUser=</code> settings (as well as the superuser). When
        available, the location of credentials is exported as the <code class="varname">$CREDENTIALS_DIRECTORY</code>
        environment variable to the unit's processes.</p><p>The <code class="varname">LoadCredential=</code> setting takes a textual ID to use as name for a
        credential plus a file system path, separated by a colon. The ID must be a short ASCII string
        suitable as filename in the filesystem, and may be chosen freely by the user. If the specified path
        is absolute it is opened as regular file and the credential data is read from it. If the absolute
        path refers to an <code class="constant">AF_UNIX</code> stream socket in the file system a connection is made
        to it (only once at unit start-up) and the credential data read from the connection, providing an
        easy IPC integration point for dynamically providing credentials from other services. If the
        specified path is not absolute and itself qualifies as valid credential identifier it is understood
        to refer to a credential that the service manager itself received via the
        <code class="varname">$CREDENTIALS_DIRECTORY</code> environment variable, which may be used to propagate
        credentials from an invoking environment (e.g. a container manager that invoked the service manager)
        into a service. The contents of the file/socket may be arbitrary binary or textual data, including
        newline characters and <code class="constant">NUL</code> bytes. If the file system path is omitted it is
        chosen identical to the credential name, i.e. this is a terse way do declare credentials to inherit
        from the service manager into a service. This option may be used multiple times, each time defining
        an additional credential to pass to the unit.</p><p>The <code class="varname">LoadCredentialEncrypted=</code> setting is identical to
        <code class="varname">LoadCredential=</code>, except that the credential data is decrypted before being passed
        on to the executed processes. Specifically, the referenced path should refer to a file or socket with
        an encrypted credential, as implemented by
        <a href="systemd-creds.html#"><span class="citerefentry"><span class="refentrytitle">systemd-creds</span>(1)</span></a>. This
        credential is loaded, decrypted and then passed to the application in decrypted plaintext form, in
        the same way a regular credential specified via <code class="varname">LoadCredential=</code> would be. A
        credential configured this way may encrypted with a secret key derived from the system's TPM2
        security chip, or with a secret key stored in
        <code class="filename">/var/lib/systemd/credentials.secret</code>, or with both. Using encrypted credentials
        improves security as credentials are not stored in plaintext and only decrypted into plaintext the
        moment a service requiring them is started. Moreover, credentials may be bound to the local hardware
        and installations, so that they cannot easily be analyzed offline.</p><p>The credential files/IPC sockets must be accessible to the service manager, but don't have to
        be directly accessible to the unit's processes: the credential data is read and copied into separate,
        read-only copies for the unit that are accessible to appropriately privileged processes. This is
        particularly useful in combination with <code class="varname">DynamicUser=</code> as this way privileged data
        can be made available to processes running under a dynamic UID (i.e. not a previously known one)
        without having to open up access to all users.</p><p>In order to reference the path a credential may be read from within a
        <code class="varname">ExecStart=</code> command line use "<code class="literal">${CREDENTIALS_DIRECTORY}/mycred</code>",
        e.g. "<code class="literal">ExecStart=cat ${CREDENTIALS_DIRECTORY}/mycred</code>".</p><p>Currently, an accumulated credential size limit of 1 MB per unit is enforced.</p><p>If referencing an <code class="constant">AF_UNIX</code> stream socket to connect to, the connection will
        originate from an abstract namespace socket, that includes information about the unit and the
        credential ID in its socket name. Use <a href="http://man7.org/linux/man-pages/man2/getpeername.2.html"><span class="citerefentry"><span class="refentrytitle">getpeername</span>(2)</span></a>
        to query this information. The returned socket name is formatted as <code class="constant">NUL</code>
        <em class="replaceable"><code>RANDOM</code></em> "<code class="literal">/unit/</code>" <em class="replaceable"><code>UNIT</code></em>
        "<code class="literal">/</code>" <em class="replaceable"><code>ID</code></em>, i.e. a <code class="constant">NUL</code> byte (as required
        for abstract namespace socket names), followed by a random string (consisting of alphadecimal
        characters), followed by the literal string "<code class="literal">/unit/</code>", followed by the requesting
        unit name, followed by the literal character "<code class="literal">/</code>", followed by the textual credential
        ID requested. Example: "<code class="literal">\0adf9d86b6eda275e/unit/foobar.service/credx</code>" in case the
        credential "<code class="literal">credx</code>" is requested for a unit "<code class="literal">foobar.service</code>". This
        functionality is useful for using a single listening socket to serve credentials to multiple
        consumers.</p></dd><dt id="SetCredential=ID:VALUE"><span class="term"><code class="varname">SetCredential=</code><em class="replaceable"><code>ID</code></em>:<em class="replaceable"><code>VALUE</code></em>, </span><span class="term"><code class="varname">SetCredentialEncrypted=</code><em class="replaceable"><code>ID</code></em>:<em class="replaceable"><code>VALUE</code></em></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#SetCredential=ID:VALUE">¶</a></dt><dd><p>The <code class="varname">SetCredential=</code> setting is similar to
        <code class="varname">LoadCredential=</code> but accepts a literal value to use as data for the credential,
        instead of a file system path to read the data from. Do not use this option for data that is supposed
        to be secret, as it is accessible to unprivileged processes via IPC. It's only safe to use this for
        user IDs, public key material and similar non-sensitive data. For everything else use
        <code class="varname">LoadCredential=</code>. In order to embed binary data into the credential data use
        C-style escaping (i.e. "<code class="literal">\n</code>" to embed a newline, or "<code class="literal">\x00</code>" to embed
        a <code class="constant">NUL</code> byte).</p><p>The <code class="varname">SetCredentialEncrypted=</code> setting is identical to
        <code class="varname">SetCredential=</code> but expects an encrypted credential in literal form as value. This
        allows embedding confidential credentials securely directly in unit files. Use
        <a href="systemd-creds.html#"><span class="citerefentry"><span class="refentrytitle">systemd-creds</span>(1)</span></a>'
        <code class="option">-p</code> switch to generate suitable <code class="varname">SetCredentialEncrypted=</code> lines
        directly from plaintext credentials. For further details see
        <code class="varname">LoadCredentialEncrypted=</code> above.</p><p>If a credential of the same ID is listed in both <code class="varname">LoadCredential=</code> and
        <code class="varname">SetCredential=</code>, the latter will act as default if the former cannot be
        retrieved. In this case not being able to retrieve the credential from the path specified in
        <code class="varname">LoadCredential=</code> is not considered fatal.</p></dd></dl></div></div><div class="refsect1"><a name="id-1.19"></a><h2 id="System V Compatibility">System V Compatibility<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#System%20V%20Compatibility">¶</a></h2><div class="variablelist"><dl class="variablelist"><dt id="UtmpIdentifier="><span class="term"><code class="varname">UtmpIdentifier=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#UtmpIdentifier=">¶</a></dt><dd><p>Takes a four character identifier string for an <a href="http://man7.org/linux/man-pages/man5/utmp.5.html"><span class="citerefentry"><span class="refentrytitle">utmp</span>(5)</span></a> and wtmp entry
        for this service. This should only be set for services such as <span class="command"><strong>getty</strong></span> implementations (such
        as <a href="http://linux.die.net/man/8/agetty"><span class="citerefentry"><span class="refentrytitle">agetty</span>(8)</span></a>) where utmp/wtmp
        entries must be created and cleared before and after execution, or for services that shall be executed as if
        they were run by a <span class="command"><strong>getty</strong></span> process (see below). If the configured string is longer than four
        characters, it is truncated and the terminal four characters are used. This setting interprets %I style string
        replacements. This setting is unset by default, i.e. no utmp/wtmp entries are created or cleaned up for this
        service.</p></dd><dt id="UtmpMode="><span class="term"><code class="varname">UtmpMode=</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#UtmpMode=">¶</a></dt><dd><p>Takes one of "<code class="literal">init</code>", "<code class="literal">login</code>" or "<code class="literal">user</code>". If
         <code class="varname">UtmpIdentifier=</code> is set, controls which type of <a href="http://man7.org/linux/man-pages/man5/utmp.5.html"><span class="citerefentry"><span class="refentrytitle">utmp</span>(5)</span></a>/wtmp entries
         for this service are generated. This setting has no effect unless <code class="varname">UtmpIdentifier=</code> is set
         too. If "<code class="literal">init</code>" is set, only an <code class="constant">INIT_PROCESS</code> entry is generated and the
         invoked process must implement a <span class="command"><strong>getty</strong></span>-compatible utmp/wtmp logic. If
         "<code class="literal">login</code>" is set, first an <code class="constant">INIT_PROCESS</code> entry, followed by a
         <code class="constant">LOGIN_PROCESS</code> entry is generated. In this case, the invoked process must implement a
         <a href="http://linux.die.net/man/1/login"><span class="citerefentry"><span class="refentrytitle">login</span>(1)</span></a>-compatible
         utmp/wtmp logic. If "<code class="literal">user</code>" is set, first an <code class="constant">INIT_PROCESS</code> entry, then a
         <code class="constant">LOGIN_PROCESS</code> entry and finally a <code class="constant">USER_PROCESS</code> entry is
         generated. In this case, the invoked process may be any process that is suitable to be run as session
         leader. Defaults to "<code class="literal">init</code>".</p></dd></dl></div></div><div class="refsect1"><a name="id-1.20"></a><h2 id="Environment Variables in Spawned Processes">Environment Variables in Spawned Processes<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Environment%20Variables%20in%20Spawned%20Processes">¶</a></h2><p>Processes started by the service manager are executed with an environment variable block assembled from
    multiple sources. Processes started by the system service manager generally do not inherit environment variables
    set for the service manager itself (but this may be altered via <code class="varname">PassEnvironment=</code>), but processes
    started by the user service manager instances generally do inherit all environment variables set for the service
    manager itself.</p><p>For each invoked process the list of environment variables set is compiled from the following sources:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Variables globally configured for the service manager, using the
      <code class="varname">DefaultEnvironment=</code> setting in
      <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>,
      the kernel command line option <code class="varname">systemd.setenv=</code> understood by
      <a href="systemd.html#"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>, or via
      <a href="systemctl.html#"><span class="citerefentry"><span class="refentrytitle">systemctl</span>(1)</span></a>
      <span class="command"><strong>set-environment</strong></span> verb.</p></li><li class="listitem"><p>Variables defined by the service manager itself (see the list below).</p></li><li class="listitem"><p>Variables set in the service manager's own environment variable block (subject to
      <code class="varname">PassEnvironment=</code> for the system service manager).</p></li><li class="listitem"><p>Variables set via <code class="varname">Environment=</code> in the unit file.</p></li><li class="listitem"><p>Variables read from files specified via <code class="varname">EnvironmentFile=</code> in the unit
      file.</p></li><li class="listitem"><p>Variables set by any PAM modules in case <code class="varname">PAMName=</code> is in effect,
      cf. <a href="http://man7.org/linux/man-pages/man8/pam_env.8.html"><span class="citerefentry"><span class="refentrytitle">pam_env</span>(8)</span></a>.
      </p></li></ul></div><p>If the same environment variable is set by multiple of these sources, the later source — according
    to the order of the list above — wins. Note that as the final step all variables listed in
    <code class="varname">UnsetEnvironment=</code> are removed from the compiled environment variable list, immediately
    before it is passed to the executed process.</p><p>The general philosophy is to expose a small curated list of environment variables to processes.
    Services started by the system manager (PID 1) will be started, without additional service-specific
    configuration, with just a few environment variables. The user manager inherits environment variables as
    any other system service, but in addition may receive additional environment variables from PAM, and,
    typically, additional imported variables when the user starts a graphical session. It is recommended to
    keep the environment blocks in both the system and user managers managers lean. Importing all variables
    inherited by the graphical session or by one of the user shells is strongly discouraged.</p><p>Hint: <span class="command"><strong>systemd-run -P env</strong></span> and <span class="command"><strong>systemd-run --user -P env</strong></span> print
    the effective system and user service environment blocks.</p><div class="refsect2"><a name="id-1.20.8"></a><h3 id="Environment Variables Set or Propagated by the Service Manager">Environment Variables Set or Propagated by the Service Manager<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Environment%20Variables%20Set%20or%20Propagated%20by%20the%20Service%20Manager">¶</a></h3><p>The following environment variables are propagated by the service manager or generated internally
      for each invoked process:</p><div class="variablelist"><dl class="variablelist"><dt id="$PATH"><span class="term"><code class="varname">$PATH</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24PATH">¶</a></dt><dd><p>Colon-separated list of directories to use when launching
          executables. <span class="command"><strong>systemd</strong></span> uses a fixed value of
          "<code class="literal"><code class="filename">/usr/local/sbin</code>:<code class="filename">/usr/local/bin</code>:<code class="filename">/usr/sbin</code>:<code class="filename">/usr/bin</code></code>"
          in the system manager. When compiled for systems with "unmerged <code class="filename">/usr/</code>"
          (<code class="filename">/bin</code> is not a symlink to <code class="filename">/usr/bin</code>),
          "<code class="literal">:<code class="filename">/sbin</code>:<code class="filename">/bin</code></code>" is appended. In case of
          the user manager, a different path may be configured by the distribution. It is recommended to
          not rely on the order of entries, and have only one program with a given name in
          <code class="varname">$PATH</code>.</p></dd><dt id="$LANG"><span class="term"><code class="varname">$LANG</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24LANG">¶</a></dt><dd><p>Locale. Can be set in <a href="http://man7.org/linux/man-pages/man5/locale.conf.5.html"><span class="citerefentry"><span class="refentrytitle">locale.conf</span>(5)</span></a>
          or on the kernel command line (see
          <a href="systemd.html#"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a> and
          <a href="kernel-command-line.html#"><span class="citerefentry"><span class="refentrytitle">kernel-command-line</span>(7)</span></a>).
          </p></dd><dt id="$USER"><span class="term"><code class="varname">$USER</code>, </span><span class="term"><code class="varname">$LOGNAME</code>, </span><span class="term"><code class="varname">$HOME</code>, </span><span class="term"><code class="varname">$SHELL</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24USER">¶</a></dt><dd><p>User name (twice), home directory, and the
          login shell. The variables are set for the units that have
          <code class="varname">User=</code> set, which includes user
          <span class="command"><strong>systemd</strong></span> instances. See
          <a href="http://linux.die.net/man/5/passwd"><span class="citerefentry"><span class="refentrytitle">passwd</span>(5)</span></a>.
          </p></dd><dt id="$INVOCATION_ID"><span class="term"><code class="varname">$INVOCATION_ID</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24INVOCATION_ID">¶</a></dt><dd><p>Contains a randomized, unique 128bit ID identifying each runtime cycle of the unit, formatted
          as 32 character hexadecimal string. A new ID is assigned each time the unit changes from an inactive state into
          an activating or active state, and may be used to identify this specific runtime cycle, in particular in data
          stored offline, such as the journal. The same ID is passed to all processes run as part of the
          unit.</p></dd><dt id="$XDG_RUNTIME_DIR"><span class="term"><code class="varname">$XDG_RUNTIME_DIR</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24XDG_RUNTIME_DIR">¶</a></dt><dd><p>The directory to use for runtime objects (such as IPC objects) and volatile state. Set for all
          services run by the user <span class="command"><strong>systemd</strong></span> instance, as well as any system services that use
          <code class="varname">PAMName=</code> with a PAM stack that includes <span class="command"><strong>pam_systemd</strong></span>. See below and
          <a href="pam_systemd.html#"><span class="citerefentry"><span class="refentrytitle">pam_systemd</span>(8)</span></a> for more
          information.</p></dd><dt id="$RUNTIME_DIRECTORY"><span class="term"><code class="varname">$RUNTIME_DIRECTORY</code>, </span><span class="term"><code class="varname">$STATE_DIRECTORY</code>, </span><span class="term"><code class="varname">$CACHE_DIRECTORY</code>, </span><span class="term"><code class="varname">$LOGS_DIRECTORY</code>, </span><span class="term"><code class="varname">$CONFIGURATION_DIRECTORY</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24RUNTIME_DIRECTORY">¶</a></dt><dd><p>Absolute paths to the directories defined with
          <code class="varname">RuntimeDirectory=</code>, <code class="varname">StateDirectory=</code>,
          <code class="varname">CacheDirectory=</code>, <code class="varname">LogsDirectory=</code>, and
          <code class="varname">ConfigurationDirectory=</code> when those settings are used.</p></dd><dt id="$CREDENTIALS_DIRECTORY"><span class="term"><code class="varname">$CREDENTIALS_DIRECTORY</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24CREDENTIALS_DIRECTORY">¶</a></dt><dd><p>An absolute path to the per-unit directory with credentials configured via
          <code class="varname">LoadCredential=</code>/<code class="varname">SetCredential=</code>. The directory is marked
          read-only and is placed in unswappable memory (if supported and permitted), and is only accessible to
          the UID associated with the unit via <code class="varname">User=</code> or <code class="varname">DynamicUser=</code> (and
          the superuser).</p></dd><dt id="$MAINPID"><span class="term"><code class="varname">$MAINPID</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24MAINPID">¶</a></dt><dd><p>The PID of the unit's main process if it is
          known. This is only set for control processes as invoked by
          <code class="varname">ExecReload=</code> and similar. </p></dd><dt id="$MANAGERPID"><span class="term"><code class="varname">$MANAGERPID</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24MANAGERPID">¶</a></dt><dd><p>The PID of the user <span class="command"><strong>systemd</strong></span>
          instance, set for processes spawned by it. </p></dd><dt id="$LISTEN_FDS"><span class="term"><code class="varname">$LISTEN_FDS</code>, </span><span class="term"><code class="varname">$LISTEN_PID</code>, </span><span class="term"><code class="varname">$LISTEN_FDNAMES</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24LISTEN_FDS">¶</a></dt><dd><p>Information about file descriptors passed to a
          service for socket activation. See
          <a href="sd_listen_fds.html#"><span class="citerefentry"><span class="refentrytitle">sd_listen_fds</span>(3)</span></a>.
          </p></dd><dt id="$NOTIFY_SOCKET"><span class="term"><code class="varname">$NOTIFY_SOCKET</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24NOTIFY_SOCKET">¶</a></dt><dd><p>The socket
          <code class="function">sd_notify()</code> talks to. See
          <a href="sd_notify.html#"><span class="citerefentry"><span class="refentrytitle">sd_notify</span>(3)</span></a>.
          </p></dd><dt id="$WATCHDOG_PID"><span class="term"><code class="varname">$WATCHDOG_PID</code>, </span><span class="term"><code class="varname">$WATCHDOG_USEC</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24WATCHDOG_PID">¶</a></dt><dd><p>Information about watchdog keep-alive notifications. See
          <a href="sd_watchdog_enabled.html#"><span class="citerefentry"><span class="refentrytitle">sd_watchdog_enabled</span>(3)</span></a>.
          </p></dd><dt id="$SYSTEMD_EXEC_PID"><span class="term"><code class="varname">$SYSTEMD_EXEC_PID</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24SYSTEMD_EXEC_PID">¶</a></dt><dd><p>The PID of the unit process (e.g. process invoked by
          <code class="varname">ExecStart=</code>). The child process can use this information to determine
          whether the process is directly invoked by the service manager or indirectly as a child of
          another process by comparing this value with the current PID (as similar to the scheme used in
          <a href="sd_listen_fds.html#"><span class="citerefentry"><span class="refentrytitle">sd_listen_fds</span>(3)</span></a>
          with <code class="varname">$LISTEN_PID</code> and <code class="varname">$LISTEN_FDS</code>).</p></dd><dt id="$TERM"><span class="term"><code class="varname">$TERM</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24TERM">¶</a></dt><dd><p>Terminal type, set only for units connected to
          a terminal (<code class="varname">StandardInput=tty</code>,
          <code class="varname">StandardOutput=tty</code>, or
          <code class="varname">StandardError=tty</code>). See
          <a href="http://man7.org/linux/man-pages/man5/termcap.5.html"><span class="citerefentry"><span class="refentrytitle">termcap</span>(5)</span></a>.
          </p></dd><dt id="$LOG_NAMESPACE"><span class="term"><code class="varname">$LOG_NAMESPACE</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24LOG_NAMESPACE">¶</a></dt><dd><p>Contains the name of the selected logging namespace when the
          <code class="varname">LogNamespace=</code> service setting is used.</p></dd><dt id="$JOURNAL_STREAM"><span class="term"><code class="varname">$JOURNAL_STREAM</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24JOURNAL_STREAM">¶</a></dt><dd><p>If the standard output or standard error output of the executed processes are connected to the
          journal (for example, by setting <code class="varname">StandardError=journal</code>) <code class="varname">$JOURNAL_STREAM</code>
          contains the device and inode numbers of the connection file descriptor, formatted in decimal, separated by a
          colon ("<code class="literal">:</code>"). This permits invoked processes to safely detect whether their standard output or
          standard error output are connected to the journal. The device and inode numbers of the file descriptors should
          be compared with the values set in the environment variable to determine whether the process output is still
          connected to the journal. Note that it is generally not sufficient to only check whether
          <code class="varname">$JOURNAL_STREAM</code> is set at all as services might invoke external processes replacing their
          standard output or standard error output, without unsetting the environment variable.</p><p>If both standard output and standard error of the executed processes are connected to the journal via a
          stream socket, this environment variable will contain information about the standard error stream, as that's
          usually the preferred destination for log data. (Note that typically the same stream is used for both standard
          output and standard error, hence very likely the environment variable contains device and inode information
          matching both stream file descriptors.)</p><p>This environment variable is primarily useful to allow services to optionally upgrade their used log
          protocol to the native journal protocol (using
          <a href="sd_journal_print.html#"><span class="citerefentry"><span class="refentrytitle">sd_journal_print</span>(3)</span></a> and other
          functions) if their standard output or standard error output is connected to the journal anyway, thus enabling
          delivery of structured metadata along with logged messages.</p></dd><dt id="$SERVICE_RESULT"><span class="term"><code class="varname">$SERVICE_RESULT</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24SERVICE_RESULT">¶</a></dt><dd><p>Only defined for the service unit type, this environment variable is passed to all
          <code class="varname">ExecStop=</code> and <code class="varname">ExecStopPost=</code> processes, and encodes the service
          "result". Currently, the following values are defined:</p><div class="table"><a name="id-1.20.8.3.17.2.2"></a><p class="title"><b>Table 4. Defined <code class="varname">$SERVICE_RESULT</code> values</b></p><div class="table-contents"><table class="table" summary="Defined $SERVICE_RESULT values" border="1"><colgroup><col class="result"><col class="meaning"></colgroup><thead><tr><th>Value</th><th>Meaning</th></tr></thead><tbody><tr><td>"<code class="literal">success</code>"</td><td>The service ran successfully and exited cleanly.</td></tr><tr><td>"<code class="literal">protocol</code>"</td><td>A protocol violation occurred: the service did not take the steps required by its unit configuration (specifically what is configured in its <code class="varname">Type=</code> setting).</td></tr><tr><td>"<code class="literal">timeout</code>"</td><td>One of the steps timed out.</td></tr><tr><td>"<code class="literal">exit-code</code>"</td><td>Service process exited with a non-zero exit code; see <code class="varname">$EXIT_CODE</code> below for the actual exit code returned.</td></tr><tr><td>"<code class="literal">signal</code>"</td><td>A service process was terminated abnormally by a signal, without dumping core. See <code class="varname">$EXIT_CODE</code> below for the actual signal causing the termination.</td></tr><tr><td>"<code class="literal">core-dump</code>"</td><td>A service process terminated abnormally with a signal and dumped core. See <code class="varname">$EXIT_CODE</code> below for the signal causing the termination.</td></tr><tr><td>"<code class="literal">watchdog</code>"</td><td>Watchdog keep-alive ping was enabled for the service, but the deadline was missed.</td></tr><tr><td>"<code class="literal">start-limit-hit</code>"</td><td>A start limit was defined for the unit and it was hit, causing the unit to fail to start. See <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>'s <code class="varname">StartLimitIntervalSec=</code> and <code class="varname">StartLimitBurst=</code> for details.</td></tr><tr><td>"<code class="literal">resources</code>"</td><td>A catch-all condition in case a system operation failed.</td></tr></tbody></table></div></div><br class="table-break"><p>This environment variable is useful to monitor failure or successful termination of a service. Even
          though this variable is available in both <code class="varname">ExecStop=</code> and <code class="varname">ExecStopPost=</code>, it
          is usually a better choice to place monitoring tools in the latter, as the former is only invoked for services
          that managed to start up correctly, and the latter covers both services that failed during their start-up and
          those which failed during their runtime.</p></dd><dt id="$EXIT_CODE"><span class="term"><code class="varname">$EXIT_CODE</code>, </span><span class="term"><code class="varname">$EXIT_STATUS</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24EXIT_CODE">¶</a></dt><dd><p>Only defined for the service unit type, these environment variables are passed to all
          <code class="varname">ExecStop=</code>, <code class="varname">ExecStopPost=</code> processes and contain exit status/code
          information of the main process of the service. For the precise definition of the exit code and status, see
          <a href="http://man7.org/linux/man-pages/man2/wait.2.html"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a>. <code class="varname">$EXIT_CODE</code>
          is one of "<code class="literal">exited</code>", "<code class="literal">killed</code>",
          "<code class="literal">dumped</code>". <code class="varname">$EXIT_STATUS</code> contains the numeric exit code formatted as string
          if <code class="varname">$EXIT_CODE</code> is "<code class="literal">exited</code>", and the signal name in all other cases. Note
          that these environment variables are only set if the service manager succeeded to start and identify the main
          process of the service.</p><div class="table"><a name="id-1.20.8.3.18.3.2"></a><p class="title"><b>Table 5. Summary of possible service result variable values</b></p><div class="table-contents"><table class="table" summary="Summary of possible service result variable values" border="1"><colgroup><col class="result"><col class="code"><col class="status"></colgroup><thead><tr><th><code class="varname">$SERVICE_RESULT</code></th><th><code class="varname">$EXIT_CODE</code></th><th><code class="varname">$EXIT_STATUS</code></th></tr></thead><tbody><tr><td rowspan="2" valign="top">"<code class="literal">success</code>"</td><td valign="top">"<code class="literal">killed</code>"</td><td>"<code class="literal">HUP</code>", "<code class="literal">INT</code>", "<code class="literal">TERM</code>", "<code class="literal">PIPE</code>"</td></tr><tr><td valign="top">"<code class="literal">exited</code>"</td><td>"<code class="literal">0</code>"</td></tr><tr><td rowspan="2" valign="top">"<code class="literal">protocol</code>"</td><td valign="top">not set</td><td>not set</td></tr><tr><td>"<code class="literal">exited</code>"</td><td>"<code class="literal">0</code>"</td></tr><tr><td rowspan="2" valign="top">"<code class="literal">timeout</code>"</td><td valign="top">"<code class="literal">killed</code>"</td><td>"<code class="literal">TERM</code>", "<code class="literal">KILL</code>"</td></tr><tr><td valign="top">"<code class="literal">exited</code>"</td><td>"<code class="literal">0</code>", "<code class="literal">1</code>", "<code class="literal">2</code>", "<code class="literal">3</code>", …, "<code class="literal">255</code>"</td></tr><tr><td valign="top">"<code class="literal">exit-code</code>"</td><td valign="top">"<code class="literal">exited</code>"</td><td>"<code class="literal">1</code>", "<code class="literal">2</code>", "<code class="literal">3</code>", …, "<code class="literal">255</code>"</td></tr><tr><td valign="top">"<code class="literal">signal</code>"</td><td valign="top">"<code class="literal">killed</code>"</td><td>"<code class="literal">HUP</code>", "<code class="literal">INT</code>", "<code class="literal">KILL</code>", …</td></tr><tr><td valign="top">"<code class="literal">core-dump</code>"</td><td valign="top">"<code class="literal">dumped</code>"</td><td>"<code class="literal">ABRT</code>", "<code class="literal">SEGV</code>", "<code class="literal">QUIT</code>", …</td></tr><tr><td rowspan="3" valign="top">"<code class="literal">watchdog</code>"</td><td>"<code class="literal">dumped</code>"</td><td>"<code class="literal">ABRT</code>"</td></tr><tr><td>"<code class="literal">killed</code>"</td><td>"<code class="literal">TERM</code>", "<code class="literal">KILL</code>"</td></tr><tr><td>"<code class="literal">exited</code>"</td><td>"<code class="literal">0</code>", "<code class="literal">1</code>", "<code class="literal">2</code>", "<code class="literal">3</code>", …, "<code class="literal">255</code>"</td></tr><tr><td valign="top">"<code class="literal">exec-condition</code>"</td><td>"<code class="literal">exited</code>"</td><td>"<code class="literal">1</code>", "<code class="literal">2</code>", "<code class="literal">3</code>", "<code class="literal">4</code>", …, "<code class="literal">254</code>"</td></tr><tr><td valign="top">"<code class="literal">oom-kill</code>"</td><td valign="top">"<code class="literal">killed</code>"</td><td>"<code class="literal">TERM</code>", "<code class="literal">KILL</code>"</td></tr><tr><td>"<code class="literal">start-limit-hit</code>"</td><td>not set</td><td>not set</td></tr><tr><td>"<code class="literal">resources</code>"</td><td>any of the above</td><td>any of the above</td></tr><tr><td colspan="3">Note: the process may be also terminated by a signal not sent by systemd. In particular the process may send an arbitrary signal to itself in a handler for any of the non-maskable signals. Nevertheless, in the "<code class="literal">timeout</code>" and "<code class="literal">watchdog</code>" rows above only the signals that systemd sends have been included. Moreover, using <code class="varname">SuccessExitStatus=</code> additional exit statuses may be declared to indicate clean termination, which is not reflected by this table.</td></tr></tbody></table></div></div><br class="table-break"></dd><dt id="$PIDFILE"><span class="term"><code class="varname">$PIDFILE</code></span><a class="headerlink" title="Permalink to this term" href="systemd.exec.html#%24PIDFILE">¶</a></dt><dd><p>The path to the configured PID file, in case the process is forked off on behalf of
          a service that uses the <code class="varname">PIDFile=</code> setting, see
          <a href="systemd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd.service</span>(5)</span></a>
          for details. Service code may use this environment variable to automatically generate a PID file at
          the location configured in the unit file. This field is set to an absolute path in the file
          system.</p></dd></dl></div><p>For system services, when <code class="varname">PAMName=</code> is enabled and <span class="command"><strong>pam_systemd</strong></span> is part
      of the selected PAM stack, additional environment variables defined by systemd may be set for
      services. Specifically, these are <code class="varname">$XDG_SEAT</code>, <code class="varname">$XDG_VTNR</code>, see
      <a href="pam_systemd.html#"><span class="citerefentry"><span class="refentrytitle">pam_systemd</span>(8)</span></a> for details.</p></div></div><div class="refsect1"><a name="id-1.21"></a><h2 id="Process Exit Codes">Process Exit Codes<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#Process%20Exit%20Codes">¶</a></h2><p>When invoking a unit process the service manager possibly fails to apply the execution parameters configured
    with the settings above. In that case the already created service process will exit with a non-zero exit code
    before the configured command line is executed. (Or in other words, the child process possibly exits with these
    error codes, after having been created by the <a href="http://man7.org/linux/man-pages/man2/fork.2.html"><span class="citerefentry"><span class="refentrytitle">fork</span>(2)</span></a> system call, but
    before the matching <a href="http://man7.org/linux/man-pages/man2/execve.2.html"><span class="citerefentry"><span class="refentrytitle">execve</span>(2)</span></a> system call is
    called.) Specifically, exit codes defined by the C library, by the LSB specification and by the systemd service
    manager itself are used.</p><p>The following basic service exit codes are defined by the C library.</p><div class="table"><a name="id-1.21.4"></a><p class="title"><b>Table 6. Basic C library exit codes</b></p><div class="table-contents"><table class="table" summary="Basic C library exit codes" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Exit Code</th><th>Symbolic Name</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td><code class="constant">EXIT_SUCCESS</code></td><td>Generic success code.</td></tr><tr><td>1</td><td><code class="constant">EXIT_FAILURE</code></td><td>Generic failure or unspecified error.</td></tr></tbody></table></div></div><br class="table-break"><p>The following service exit codes are defined by the <a class="ulink" href="https://refspecs.linuxbase.org/LSB_5.0.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html" target="_top">LSB specification</a>.
    </p><div class="table"><a name="id-1.21.6"></a><p class="title"><b>Table 7. LSB service exit codes</b></p><div class="table-contents"><table class="table" summary="LSB service exit codes" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Exit Code</th><th>Symbolic Name</th><th>Description</th></tr></thead><tbody><tr><td>2</td><td><code class="constant">EXIT_INVALIDARGUMENT</code></td><td>Invalid or excess arguments.</td></tr><tr><td>3</td><td><code class="constant">EXIT_NOTIMPLEMENTED</code></td><td>Unimplemented feature.</td></tr><tr><td>4</td><td><code class="constant">EXIT_NOPERMISSION</code></td><td>The user has insufficient privileges.</td></tr><tr><td>5</td><td><code class="constant">EXIT_NOTINSTALLED</code></td><td>The program is not installed.</td></tr><tr><td>6</td><td><code class="constant">EXIT_NOTCONFIGURED</code></td><td>The program is not configured.</td></tr><tr><td>7</td><td><code class="constant">EXIT_NOTRUNNING</code></td><td>The program is not running.</td></tr></tbody></table></div></div><br class="table-break"><p>
      The LSB specification suggests that error codes 200 and above are reserved for implementations. Some of them are
      used by the service manager to indicate problems during process invocation:
    </p><div class="table"><a name="id-1.21.8"></a><p class="title"><b>Table 8. systemd-specific exit codes</b></p><div class="table-contents"><table class="table" summary="systemd-specific exit codes" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Exit Code</th><th>Symbolic Name</th><th>Description</th></tr></thead><tbody><tr><td>200</td><td><code class="constant">EXIT_CHDIR</code></td><td>Changing to the requested working directory failed. See <code class="varname">WorkingDirectory=</code> above.</td></tr><tr><td>201</td><td><code class="constant">EXIT_NICE</code></td><td>Failed to set up process scheduling priority (nice level). See <code class="varname">Nice=</code> above.</td></tr><tr><td>202</td><td><code class="constant">EXIT_FDS</code></td><td>Failed to close unwanted file descriptors, or to adjust passed file descriptors.</td></tr><tr><td>203</td><td><code class="constant">EXIT_EXEC</code></td><td>The actual process execution failed (specifically, the <a href="http://man7.org/linux/man-pages/man2/execve.2.html"><span class="citerefentry"><span class="refentrytitle">execve</span>(2)</span></a> system call). Most likely this is caused by a missing or non-accessible executable file.</td></tr><tr><td>204</td><td><code class="constant">EXIT_MEMORY</code></td><td>Failed to perform an action due to memory shortage.</td></tr><tr><td>205</td><td><code class="constant">EXIT_LIMITS</code></td><td>Failed to adjust resource limits. See <code class="varname">LimitCPU=</code> and related settings above.</td></tr><tr><td>206</td><td><code class="constant">EXIT_OOM_ADJUST</code></td><td>Failed to adjust the OOM setting. See <code class="varname">OOMScoreAdjust=</code> above.</td></tr><tr><td>207</td><td><code class="constant">EXIT_SIGNAL_MASK</code></td><td>Failed to set process signal mask.</td></tr><tr><td>208</td><td><code class="constant">EXIT_STDIN</code></td><td>Failed to set up standard input. See <code class="varname">StandardInput=</code> above.</td></tr><tr><td>209</td><td><code class="constant">EXIT_STDOUT</code></td><td>Failed to set up standard output. See <code class="varname">StandardOutput=</code> above.</td></tr><tr><td>210</td><td><code class="constant">EXIT_CHROOT</code></td><td>Failed to change root directory (<a href="http://man7.org/linux/man-pages/man2/chroot.2.html"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a>). See <code class="varname">RootDirectory=</code>/<code class="varname">RootImage=</code> above.</td></tr><tr><td>211</td><td><code class="constant">EXIT_IOPRIO</code></td><td>Failed to set up IO scheduling priority. See <code class="varname">IOSchedulingClass=</code>/<code class="varname">IOSchedulingPriority=</code> above.</td></tr><tr><td>212</td><td><code class="constant">EXIT_TIMERSLACK</code></td><td>Failed to set up timer slack. See <code class="varname">TimerSlackNSec=</code> above.</td></tr><tr><td>213</td><td><code class="constant">EXIT_SECUREBITS</code></td><td>Failed to set process secure bits. See <code class="varname">SecureBits=</code> above.</td></tr><tr><td>214</td><td><code class="constant">EXIT_SETSCHEDULER</code></td><td>Failed to set up CPU scheduling. See <code class="varname">CPUSchedulingPolicy=</code>/<code class="varname">CPUSchedulingPriority=</code> above.</td></tr><tr><td>215</td><td><code class="constant">EXIT_CPUAFFINITY</code></td><td>Failed to set up CPU affinity. See <code class="varname">CPUAffinity=</code> above.</td></tr><tr><td>216</td><td><code class="constant">EXIT_GROUP</code></td><td>Failed to determine or change group credentials. See <code class="varname">Group=</code>/<code class="varname">SupplementaryGroups=</code> above.</td></tr><tr><td>217</td><td><code class="constant">EXIT_USER</code></td><td>Failed to determine or change user credentials, or to set up user namespacing. See <code class="varname">User=</code>/<code class="varname">PrivateUsers=</code> above.</td></tr><tr><td>218</td><td><code class="constant">EXIT_CAPABILITIES</code></td><td>Failed to drop capabilities, or apply ambient capabilities. See <code class="varname">CapabilityBoundingSet=</code>/<code class="varname">AmbientCapabilities=</code> above.</td></tr><tr><td>219</td><td><code class="constant">EXIT_CGROUP</code></td><td>Setting up the service control group failed.</td></tr><tr><td>220</td><td><code class="constant">EXIT_SETSID</code></td><td>Failed to create new process session.</td></tr><tr><td>221</td><td><code class="constant">EXIT_CONFIRM</code></td><td>Execution has been cancelled by the user. See the <code class="varname">systemd.confirm_spawn=</code> kernel command line setting on <a href="kernel-command-line.html#"><span class="citerefentry"><span class="refentrytitle">kernel-command-line</span>(7)</span></a> for details.</td></tr><tr><td>222</td><td><code class="constant">EXIT_STDERR</code></td><td>Failed to set up standard error output. See <code class="varname">StandardError=</code> above.</td></tr><tr><td>224</td><td><code class="constant">EXIT_PAM</code></td><td>Failed to set up PAM session. See <code class="varname">PAMName=</code> above.</td></tr><tr><td>225</td><td><code class="constant">EXIT_NETWORK</code></td><td>Failed to set up network namespacing. See <code class="varname">PrivateNetwork=</code> above.</td></tr><tr><td>226</td><td><code class="constant">EXIT_NAMESPACE</code></td><td>Failed to set up mount, UTS, or IPC namespacing. See <code class="varname">ReadOnlyPaths=</code>, <code class="varname">ProtectHostname=</code>, <code class="varname">PrivateIPC=</code>, and related settings above.</td></tr><tr><td>227</td><td><code class="constant">EXIT_NO_NEW_PRIVILEGES</code></td><td>Failed to disable new privileges. See <code class="varname">NoNewPrivileges=yes</code> above.</td></tr><tr><td>228</td><td><code class="constant">EXIT_SECCOMP</code></td><td>Failed to apply system call filters. See <code class="varname">SystemCallFilter=</code> and related settings above.</td></tr><tr><td>229</td><td><code class="constant">EXIT_SELINUX_CONTEXT</code></td><td>Determining or changing SELinux context failed. See <code class="varname">SELinuxContext=</code> above.</td></tr><tr><td>230</td><td><code class="constant">EXIT_PERSONALITY</code></td><td>Failed to set up an execution domain (personality). See <code class="varname">Personality=</code> above.</td></tr><tr><td>231</td><td><code class="constant">EXIT_APPARMOR_PROFILE</code></td><td>Failed to prepare changing AppArmor profile. See <code class="varname">AppArmorProfile=</code> above.</td></tr><tr><td>232</td><td><code class="constant">EXIT_ADDRESS_FAMILIES</code></td><td>Failed to restrict address families. See <code class="varname">RestrictAddressFamilies=</code> above.</td></tr><tr><td>233</td><td><code class="constant">EXIT_RUNTIME_DIRECTORY</code></td><td>Setting up runtime directory failed. See <code class="varname">RuntimeDirectory=</code> and related settings above.</td></tr><tr><td>235</td><td><code class="constant">EXIT_CHOWN</code></td><td>Failed to adjust socket ownership. Used for socket units only.</td></tr><tr><td>236</td><td><code class="constant">EXIT_SMACK_PROCESS_LABEL</code></td><td>Failed to set SMACK label. See <code class="varname">SmackProcessLabel=</code> above.</td></tr><tr><td>237</td><td><code class="constant">EXIT_KEYRING</code></td><td>Failed to set up kernel keyring.</td></tr><tr><td>238</td><td><code class="constant">EXIT_STATE_DIRECTORY</code></td><td>Failed to set up unit's state directory. See <code class="varname">StateDirectory=</code> above.</td></tr><tr><td>239</td><td><code class="constant">EXIT_CACHE_DIRECTORY</code></td><td>Failed to set up unit's cache directory. See <code class="varname">CacheDirectory=</code> above.</td></tr><tr><td>240</td><td><code class="constant">EXIT_LOGS_DIRECTORY</code></td><td>Failed to set up unit's logging directory. See <code class="varname">LogsDirectory=</code> above.</td></tr><tr><td>241</td><td><code class="constant">EXIT_CONFIGURATION_DIRECTORY</code></td><td>Failed to set up unit's configuration directory. See <code class="varname">ConfigurationDirectory=</code> above.</td></tr><tr><td>242</td><td><code class="constant">EXIT_NUMA_POLICY</code></td><td>Failed to set up unit's NUMA memory policy. See <code class="varname">NUMAPolicy=</code> and <code class="varname">NUMAMask=</code> above.</td></tr><tr><td>243</td><td><code class="constant">EXIT_CREDENTIALS</code></td><td>Failed to set up unit's credentials. See <code class="varname">LoadCredential=</code> and <code class="varname">SetCredential=</code> above.</td></tr></tbody></table></div></div><br class="table-break"><p>Finally, the BSD operating systems define a set of exit codes, typically defined on Linux systems too:</p><div class="table"><a name="id-1.21.10"></a><p class="title"><b>Table 9. BSD exit codes</b></p><div class="table-contents"><table class="table" summary="BSD exit codes" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Exit Code</th><th>Symbolic Name</th><th>Description</th></tr></thead><tbody><tr><td>64</td><td><code class="constant">EX_USAGE</code></td><td>Command line usage error</td></tr><tr><td>65</td><td><code class="constant">EX_DATAERR</code></td><td>Data format error</td></tr><tr><td>66</td><td><code class="constant">EX_NOINPUT</code></td><td>Cannot open input</td></tr><tr><td>67</td><td><code class="constant">EX_NOUSER</code></td><td>Addressee unknown</td></tr><tr><td>68</td><td><code class="constant">EX_NOHOST</code></td><td>Host name unknown</td></tr><tr><td>69</td><td><code class="constant">EX_UNAVAILABLE</code></td><td>Service unavailable</td></tr><tr><td>70</td><td><code class="constant">EX_SOFTWARE</code></td><td>internal software error</td></tr><tr><td>71</td><td><code class="constant">EX_OSERR</code></td><td>System error (e.g., can't fork)</td></tr><tr><td>72</td><td><code class="constant">EX_OSFILE</code></td><td>Critical OS file missing</td></tr><tr><td>73</td><td><code class="constant">EX_CANTCREAT</code></td><td>Can't create (user) output file</td></tr><tr><td>74</td><td><code class="constant">EX_IOERR</code></td><td>Input/output error</td></tr><tr><td>75</td><td><code class="constant">EX_TEMPFAIL</code></td><td>Temporary failure; user is invited to retry</td></tr><tr><td>76</td><td><code class="constant">EX_PROTOCOL</code></td><td>Remote error in protocol</td></tr><tr><td>77</td><td><code class="constant">EX_NOPERM</code></td><td>Permission denied</td></tr><tr><td>78</td><td><code class="constant">EX_CONFIG</code></td><td>Configuration error</td></tr></tbody></table></div></div><br class="table-break"></div><div class="refsect1"><a name="id-1.22"></a><h2 id="See Also">See Also<a class="headerlink" title="Permalink to this headline" href="systemd.exec.html#See%20Also">¶</a></h2><p>
        <a href="systemd.html#"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>,
        <a href="systemctl.html#"><span class="citerefentry"><span class="refentrytitle">systemctl</span>(1)</span></a>,
        <a href="systemd-analyze.html#"><span class="citerefentry"><span class="refentrytitle">systemd-analyze</span>(1)</span></a>,
        <a href="journalctl.html#"><span class="citerefentry"><span class="refentrytitle">journalctl</span>(1)</span></a>,
        <a href="systemd-system.conf.html#"><span class="citerefentry"><span class="refentrytitle">systemd-system.conf</span>(5)</span></a>,
        <a href="systemd.unit.html#"><span class="citerefentry"><span class="refentrytitle">systemd.unit</span>(5)</span></a>,
        <a href="systemd.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd.service</span>(5)</span></a>,
        <a href="systemd.socket.html#"><span class="citerefentry"><span class="refentrytitle">systemd.socket</span>(5)</span></a>,
        <a href="systemd.swap.html#"><span class="citerefentry"><span class="refentrytitle">systemd.swap</span>(5)</span></a>,
        <a href="systemd.mount.html#"><span class="citerefentry"><span class="refentrytitle">systemd.mount</span>(5)</span></a>,
        <a href="systemd.kill.html#"><span class="citerefentry"><span class="refentrytitle">systemd.kill</span>(5)</span></a>,
        <a href="systemd.resource-control.html#"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>,
        <a href="systemd.time.html#"><span class="citerefentry"><span class="refentrytitle">systemd.time</span>(7)</span></a>,
        <a href="systemd.directives.html#"><span class="citerefentry"><span class="refentrytitle">systemd.directives</span>(7)</span></a>,
        <a href="tmpfiles.d.html#"><span class="citerefentry"><span class="refentrytitle">tmpfiles.d</span>(5)</span></a>,
        <a href="http://man7.org/linux/man-pages/man3/exec.3.html"><span class="citerefentry"><span class="refentrytitle">exec</span>(3)</span></a>,
        <a href="http://man7.org/linux/man-pages/man2/fork.2.html"><span class="citerefentry"><span class="refentrytitle">fork</span>(2)</span></a>
      </p></div></div></body></html>
