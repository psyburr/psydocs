<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>org.freedesktop.login1</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html">Index </a>·
  <a href="systemd.directives.html">Directives </a><span style="float:right">systemd 249</span><hr><div class="refentry"><a name="org.freedesktop.login1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>org.freedesktop.login1 — The D-Bus interface of systemd-logind</p></div><div class="refsect1"><a name="id-1.4"></a><h2 id="Introduction">Introduction<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Introduction">¶</a></h2><p><a href="systemd-logind.service.html#"><span class="citerefentry"><span class="refentrytitle">systemd-logind.service</span>(8)</span></a>
    is a system service that keeps track of user logins and seats.</p><p>The daemon provides both a C library interface as well as a D-Bus interface. The library interface
    may be used to introspect and watch the state of user logins and seats. The bus interface provides the
    same functionality but in addition may also be used to make changes to the system state. For more information please
    consult <a href="sd-login.html#"><span class="citerefentry"><span class="refentrytitle">sd-login</span>(3)</span></a>.
    </p></div><div class="refsect1"><a name="id-1.5"></a><h2 id="The Manager Object">The Manager Object<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#The%20Manager%20Object">¶</a></h2><p>The service exposes the following interfaces on the Manager object on the bus:</p><pre class="programlisting">
node /org/freedesktop/login1 {
  interface org.freedesktop.login1.Manager {
    methods:
      GetSession(in  s session_id,
                 out o object_path);
      GetSessionByPID(in  u pid,
                      out o object_path);
      GetUser(in  u uid,
              out o object_path);
      GetUserByPID(in  u pid,
                   out o object_path);
      GetSeat(in  s seat_id,
              out o object_path);
      ListSessions(out a(susso) sessions);
      ListUsers(out a(uso) users);
      ListSeats(out a(so) seats);
      ListInhibitors(out a(ssssuu) inhibitors);
      CreateSession(in  u uid,
                    in  u pid,
                    in  s service,
                    in  s type,
                    in  s class,
                    in  s desktop,
                    in  s seat_id,
                    in  u vtnr,
                    in  s tty,
                    in  s display,
                    in  b remote,
                    in  s remote_user,
                    in  s remote_host,
                    in  a(sv) properties,
                    out s session_id,
                    out o object_path,
                    out s runtime_path,
                    out h fifo_fd,
                    out u uid,
                    out s seat_id,
                    out u vtnr,
                    out b existing);
      ReleaseSession(in  s session_id);
      ActivateSession(in  s session_id);
      ActivateSessionOnSeat(in  s session_id,
                            in  s seat_id);
      LockSession(in  s session_id);
      UnlockSession(in  s session_id);
      LockSessions();
      UnlockSessions();
      KillSession(in  s session_id,
                  in  s who,
                  in  i signal_number);
      KillUser(in  u uid,
               in  i signal_number);
      TerminateSession(in  s session_id);
      TerminateUser(in  u uid);
      TerminateSeat(in  s seat_id);
      SetUserLinger(in  u uid,
                    in  b enable,
                    in  b interactive);
      AttachDevice(in  s seat_id,
                   in  s sysfs_path,
                   in  b interactive);
      FlushDevices(in  b interactive);
      PowerOff(in  b interactive);
      PowerOffWithFlags(in  t flags);
      Reboot(in  b interactive);
      RebootWithFlags(in  t flags);
      Halt(in  b interactive);
      HaltWithFlags(in  t flags);
      Suspend(in  b interactive);
      SuspendWithFlags(in  t flags);
      Hibernate(in  b interactive);
      HibernateWithFlags(in  t flags);
      HybridSleep(in  b interactive);
      HybridSleepWithFlags(in  t flags);
      SuspendThenHibernate(in  b interactive);
      SuspendThenHibernateWithFlags(in  t flags);
      CanPowerOff(out s result);
      CanReboot(out s result);
      CanHalt(out s result);
      CanSuspend(out s result);
      CanHibernate(out s result);
      CanHybridSleep(out s result);
      CanSuspendThenHibernate(out s result);
      ScheduleShutdown(in  s type,
                       in  t usec);
      CancelScheduledShutdown(out b cancelled);
      Inhibit(in  s what,
              in  s who,
              in  s why,
              in  s mode,
              out h pipe_fd);
      CanRebootParameter(out s result);
      SetRebootParameter(in  s parameter);
      CanRebootToFirmwareSetup(out s result);
      SetRebootToFirmwareSetup(in  b enable);
      CanRebootToBootLoaderMenu(out s result);
      SetRebootToBootLoaderMenu(in  t timeout);
      CanRebootToBootLoaderEntry(out s result);
      SetRebootToBootLoaderEntry(in  s boot_loader_entry);
      SetWallMessage(in  s wall_message,
                     in  b enable);
    signals:
      SessionNew(s session_id,
                 o object_path);
      SessionRemoved(s session_id,
                     o object_path);
      UserNew(u uid,
              o object_path);
      UserRemoved(u uid,
                  o object_path);
      SeatNew(s seat_id,
              o object_path);
      SeatRemoved(s seat_id,
                  o object_path);
      PrepareForShutdown(b start);
      PrepareForSleep(b start);
    properties:
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      @org.freedesktop.systemd1.Privileged("true")
      readwrite b EnableWallMessages = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      @org.freedesktop.systemd1.Privileged("true")
      readwrite s WallMessage = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly u NAutoVTs = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as KillOnlyUsers = ['...', ...];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as KillExcludeUsers = ['...', ...];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b KillUserProcesses = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly s RebootParameter = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly b RebootToFirmwareSetup = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly t RebootToBootLoaderMenu = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly s RebootToBootLoaderEntry = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as BootLoaderEntries = ['...', ...];
      readonly b IdleHint = ...;
      readonly t IdleSinceHint = ...;
      readonly t IdleSinceHintMonotonic = ...;
      readonly s BlockInhibited = '...';
      readonly s DelayInhibited = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t InhibitDelayMaxUSec = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t UserStopDelayUSec = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s HandlePowerKey = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s HandleSuspendKey = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s HandleHibernateKey = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s HandleLidSwitch = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s HandleLidSwitchExternalPower = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s HandleLidSwitchDocked = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t HoldoffTimeoutUSec = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s IdleAction = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t IdleActionUSec = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly b PreparingForShutdown = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly b PreparingForSleep = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly (st) ScheduledShutdown = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly b Docked = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly b LidClosed = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly b OnExternalPower = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b RemoveIPC = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t RuntimeDirectorySize = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t RuntimeDirectoryInodesMax = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t InhibitorsMax = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly t NCurrentInhibitors = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t SessionsMax = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly t NCurrentSessions = ...;
  };
  interface org.freedesktop.DBus.Peer { ... };
  interface org.freedesktop.DBus.Introspectable { ... };
  interface org.freedesktop.DBus.Properties { ... };
};
    </pre><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="refsect2"><a name="id-1.5.112"></a><h3 id="Methods">Methods<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Methods">¶</a></h3><p><code class="function">GetSession()</code> may be used to get the session object path for the session with
      the specified ID. Similarly, <code class="function">GetUser()</code> and <code class="function">GetSeat()</code> get the
      user and seat objects, respectively. <code class="function">GetSessionByPID()</code> and
      <code class="function">GetUserByPID()</code> get the session/user object the specified PID belongs to if there
      is any.</p><p><code class="function">ListSessions()</code> returns an array of all current sessions. The structures in
      the array consist of the following fields: session id, user id, user name, seat id, session object
      path. If a session does not have a seat attached, the seat id field will be an empty string.</p><p><code class="function">ListUsers()</code> returns an array of all currently logged in users. The
      structures in the array consist of the following fields: user id, user name, user object path.</p><p><code class="function">ListSeats()</code> returns an array of all currently available seats. The
      structure in the array consists of the following fields: seat id, seat object path.</p><p><code class="function">ListInhibitors()</code> lists all currently active inhibitors. It returns an array of
      structures consisting of <code class="varname">what</code>, <code class="varname">who</code>, <code class="varname">why</code>,
      <code class="varname">mode</code>, <code class="varname">uid</code> (user ID), and <code class="varname">pid</code> (process ID).</p><p><code class="function">CreateSession()</code> and <code class="function">ReleaseSession()</code> may be used to
      open or close login sessions. These calls should <span class="emphasis"><em>never</em></span> be invoked directly by
      clients. Creating/closing sessions is exclusively the job of PAM and its
      <a href="pam_systemd.html#"><span class="citerefentry"><span class="refentrytitle">pam_systemd</span>(8)</span></a>
      module.</p><p><code class="function">ActivateSession()</code> brings the session with the specified ID into the
      foreground. <code class="function">ActivateSessionOnSeat()</code> does the same, but only if the seat id
      matches.</p><p><code class="function">LockSession()</code> asks the session with the specified ID to activate the screen
      lock. <code class="function">UnlockSession()</code> asks the session with the specified ID to remove an active
      screen lock, if there is any. This is implemented by sending out the Lock() and Unlock() signals from
      the respective session object which session managers are supposed to listen on.</p><p><code class="function">LockSessions()</code> asks all sessions to activate their screen locks. This may be
      used to lock access to the entire machine in one action. Similarly, <code class="function">UnlockSessions()</code>
      asks all sessions to deactivate their screen locks.</p><p><code class="function">KillSession()</code> may be used to send a Unix signal to one or all processes of a
      session. As arguments it takes the session id, either the string "<code class="literal">leader</code>" or
      "<code class="literal">all</code>" and a signal number. If "<code class="literal">leader</code>" is passed only the session
      "<code class="literal">leader</code>" is killed. If "<code class="literal">all</code>" is passed all processes of the session
      are killed.</p><p><code class="function">KillUser()</code> may be used to send a Unix signal to all processes of a user. As
      arguments it takes the user id and a signal number.</p><p><code class="function">TerminateSession()</code>, <code class="function">TerminateUser()</code>,
      <code class="function">TerminateSeat()</code> may be used to forcibly terminate one specific session, all
      processes of a user, and all sessions attached to a specific seat, respectively. The session, user,
      and seat are identified by their respective IDs.</p><p><code class="function">SetUserLinger()</code> enables or disables user lingering. If enabled, the runtime
      directory of a user is kept around and they may continue to run processes while logged out. If
      disabled, the runtime directory goes away as soon as they log out. <code class="function">SetUserLinger()</code>
      expects three arguments: the UID, a boolean whether to enable/disable and a boolean controlling the
      <a class="ulink" href="https://www.freedesktop.org/software/polkit/docs/latest/" target="_top">polkit</a>
      authorization interactivity (see below). Note that the user linger state is persistently
      stored on disk.</p><p><code class="function">AttachDevice()</code> may be used to assign a specific device to a specific
      seat. The device is identified by its <code class="filename">/sys/</code> path and must be eligible for seat
      assignments. <code class="function">AttachDevice()</code> takes three arguments: the seat id, the sysfs path,
      and a boolean for controlling polkit interactivity (see below). Device assignments are persistently
      stored on disk. To create a new seat, simply specify a previously unused seat id. For more information
      about the seat assignment logic see
      <a href="sd-login.html#"><span class="citerefentry"><span class="refentrytitle">sd-login</span>(3)</span></a>.</p><p><code class="function">FlushDevices()</code> removes all explicit seat assignments for devices, resetting
      all assignments to the automatic defaults. The only argument it takes is the polkit interactivity
      boolean (see below).</p><p><code class="function">PowerOff()</code>, <code class="function">Reboot()</code>, <code class="function">Halt()</code>,
      <code class="function">Suspend()</code>, and <code class="function">Hibernate()</code> result in the system being powered
      off, rebooted, halted (shut down without turning off power), suspended (the system state is
      saved to RAM and the CPU is turned off), or hibernated (the system state is saved to disk and
      the machine is powered down). <code class="function">HybridSleep()</code> results in the system entering a
      hybrid-sleep mode, i.e. the system is both hibernated and suspended.
      <code class="function">SuspendThenHibernate()</code> results in the system being suspended, then later woken
      using an RTC timer and hibernated. The only argument is the polkit interactivity boolean
      <code class="varname">interactive</code> (see below). The main purpose of these calls is that they enforce
      polkit policy and hence allow powering off/rebooting/suspending/hibernating even by unprivileged
      users. They also enforce inhibition locks for non-privileged users. UIs should expose these calls
      as the primary mechanism to poweroff/reboot/suspend/hibernate the machine. Methods
      <code class="function">PowerOffWithFlags()</code>, <code class="function">RebootWithFlags()</code>,
      <code class="function">HaltWithFlags()</code>, <code class="function">SuspendWithFlags()</code>,
      <code class="function">HibernateWithFlags()</code>, <code class="function">HybridSleepWithFlags()</code> and
      <code class="function">SuspendThenHibernateWithFlags()</code> add <code class="varname">flags</code> to allow for
      extendability, defined as follows:</p><pre class="programlisting">
#define SD_LOGIND_ROOT_CHECK_INHIBITORS  (UINT64_C(1) &lt;&lt; 0)
#define SD_LOGIND_KEXEC_REBOOT           (UINT64_C(1) &lt;&lt; 1)
      </pre><p> When the <code class="varname">flags</code> is 0 then these methods behave just like the versions
      without flags. When <code class="constant">SD_LOGIND_ROOT_CHECK_INHIBITORS</code> (0x01) is set, active
      inhibitors are honoured for privileged users too. When <code class="constant">SD_LOGIND_KEXEC_REBOOT</code>
      (0x02) is set, then <code class="function">RebootWithFlags()</code> perform kexec reboot if kexec
      kernel is loaded.</p><p><code class="function">SetRebootParameter()</code> sets a parameter for a subsequent reboot operation.
      See the description of <span class="command"><strong>reboot</strong></span> in
      <a href="systemctl.html#"><span class="citerefentry"><span class="refentrytitle">systemctl</span>(1)</span></a> and
      <a href="http://man7.org/linux/man-pages/man2/reboot.2.html"><span class="citerefentry"><span class="refentrytitle">reboot</span>(2)</span></a>
      for more information.</p><p><code class="function">SetRebootToFirmwareSetup()</code>,
      <code class="function">SetRebootToBootLoaderMenu()</code>, and <code class="function">SetRebootToBootLoaderEntry()</code>
      configure the action to be taken from the boot loader after a reboot: respectively entering firmware
      setup mode, the boot loader menu, or a specific boot loader entry. See
      <a href="systemctl.html#"><span class="citerefentry"><span class="refentrytitle">systemctl</span>(1)</span></a> for the
      corresponding command line interface.</p><p><code class="function">CanPowerOff()</code>, <code class="function">CanReboot()</code>,
      <code class="function">CanHalt()</code>, <code class="function">CanSuspend()</code>, <code class="function">CanHibernate()</code>,
      <code class="function">CanHybridSleep()</code>, <code class="function">CanSuspendThenHibernate()</code>,
      <code class="function">CanRebootParameter()</code>, <code class="function">CanRebootToFirmwareSetup()</code>,
      <code class="function">CanRebootToBootLoaderMenu()</code>, and
      <code class="function">CanRebootToBootLoaderEntry()</code> test whether the system supports the respective
      operation and whether the calling user is allowed to execute it. Returns one of "<code class="literal">na</code>",
      "<code class="literal">yes</code>", "<code class="literal">no</code>", and "<code class="literal">challenge</code>". If
      "<code class="literal">na</code>" is returned, the operation is not available because hardware, kernel, or drivers
      do not support it. If "<code class="literal">yes</code>" is returned, the operation is supported and the user may
      execute the operation without further authentication. If "<code class="literal">no</code>" is returned, the
      operation is available but the user is not allowed to execute the operation. If
      "<code class="literal">challenge</code>" is returned, the operation is available but only after
      authorization.</p><p><code class="function">ScheduleShutdown()</code> schedules a shutdown operation <code class="varname">type</code> at
      time <code class="varname">usec</code> in microseconds since the UNIX epoch. <code class="varname">type</code> can be one
      of "<code class="literal">poweroff</code>", "<code class="literal">dry-poweroff</code>", "<code class="literal">reboot</code>",
      "<code class="literal">dry-reboot</code>", "<code class="literal">halt</code>", and "<code class="literal">dry-halt</code>". (The
      "<code class="literal">dry-</code>" variants do not actually execute the shutdown action.)
      <code class="function">CancelScheduledShutdown()</code> cancels a scheduled shutdown. The output parameter
      <code class="varname">cancelled</code> is true if a shutdown operation was scheduled.</p><p><code class="function">SetWallMessage()</code> sets the wall message (the message that will be sent out to
      all terminals and stored in a
      <a href="http://man7.org/linux/man-pages/man5/utmp.5.html"><span class="citerefentry"><span class="refentrytitle">utmp</span>(5)</span></a> record) for a
      subsequent scheduled shutdown operation. The parameter <code class="varname">wall_message</code> specifies the
      shutdown reason (and may be empty) which will be included in the shutdown message. The parameter
      <code class="varname">enable</code> specifies whether to print a wall message on shutdown.</p><p><code class="function">Inhibit()</code> creates an inhibition lock. It takes four parameters:
      <code class="varname">what</code>, <code class="varname">who</code>, <code class="varname">why</code>, and
      <code class="varname">mode</code>. <code class="varname">what</code> is one or more of "<code class="literal">shutdown</code>",
      "<code class="literal">sleep</code>", "<code class="literal">idle</code>", "<code class="literal">handle-power-key</code>",
      "<code class="literal">handle-suspend-key</code>", "<code class="literal">handle-hibernate-key</code>",
      "<code class="literal">handle-lid-switch</code>", separated by colons, for inhibiting poweroff/reboot,
      suspend/hibernate, the automatic idle logic, or hardware key handling. <code class="varname">who</code> should be
      a short human readable string identifying the application taking the lock. <code class="varname">why</code>
      should be a short human readable string identifying the reason why the lock is taken. Finally,
      <code class="varname">mode</code> is either "<code class="literal">block</code>" or "<code class="literal">delay</code>" which encodes
      whether the inhibit shall be consider mandatory or whether it should just delay the operation to a
      certain maximum time. The method returns a file descriptor. The lock is released the moment this file
      descriptor and all its duplicates are closed. For more information on the inhibition logic see
      <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/inhibit" target="_top">Inhibitor Locks</a>.
      </p></div><div class="refsect2"><a name="id-1.5.113"></a><h3 id="Signals">Signals<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Signals">¶</a></h3><p>Whenever the inhibition state or idle hint changes, <code class="function">PropertyChanged</code>
      signals are sent out to which clients can subscribe.</p><p>The <code class="function">SessionNew</code>, <code class="function">SessionRemoved</code>,
      <code class="function">UserNew</code>, <code class="function">UserRemoved</code>, <code class="function">SeatNew</code>, and
      <code class="function">SeatRemoved</code> signals are sent each time a session is created or removed, a user
      logs in or out, or a seat is added or removed. They each contain the ID of the object plus the object
      path.</p><p>The <code class="function">PrepareForShutdown()</code> and <code class="function">PrepareForSleep()</code> signals
      are sent right before (with the argument "<code class="literal">true</code>") or after (with the argument
      "<code class="literal">false</code>") the system goes down for reboot/poweroff and suspend/hibernate,
      respectively. This may be used by applications to save data on disk, release memory, or do other jobs
      that should be done shortly before shutdown/sleep, in conjunction with delay inhibitor locks. After
      completion of this work they should release their inhibition locks in order to not delay the operation
      any further. For more information see
      <a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/inhibit" target="_top">Inhibitor Locks</a>.
      </p></div><div class="refsect2"><a name="id-1.5.114"></a><h3 id="Properties">Properties<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Properties">¶</a></h3><p>Most properties simply reflect the configuration, see
      <a href="logind.conf.html#"><span class="citerefentry"><span class="refentrytitle">logind.conf</span>(5)</span></a>. This
      includes: <code class="varname">NAutoVTs</code>, <code class="varname">KillOnlyUsers</code>,
      <code class="varname">KillExcludeUsers</code>, <code class="varname">KillUserProcesses</code>, <code class="varname">IdleAction</code>,
      <code class="varname">InhibitDelayMaxUSec</code>,
      <code class="varname">InhibitorsMax</code>,
      <code class="varname">UserStopDelayUSec</code>,
      <code class="varname">HandlePowerKey</code>, <code class="varname">HandleSuspendKey</code>,
      <code class="varname">HandleHibernateKey</code>, <code class="varname">HandleLidSwitch</code>,
      <code class="varname">HandleLidSwitchExternalPower</code>, <code class="varname">HandleLidSwitchDocked</code>,
      <code class="varname">IdleActionUSec</code>, <code class="varname">HoldoffTimeoutUSec</code>,
      <code class="varname">RemoveIPC</code>, <code class="varname">RuntimeDirectorySize</code>,
      <code class="varname">RuntimeDirectoryInodesMax</code>, <code class="varname">InhibitorsMax</code>, and
      <code class="varname">SessionsMax</code>.
      </p><p>The <code class="varname">IdleHint</code> property reflects the idle hint state of the system. If the
      system is idle it might get into automatic suspend or shutdown depending on the configuration.</p><p><code class="varname">IdleSinceHint</code> and <code class="varname">IdleSinceHintMonotonic</code> encode the
      timestamps of the last change of the idle hint boolean, in <code class="constant">CLOCK_REALTIME</code> and
      <code class="constant">CLOCK_MONOTONIC</code> timestamps, respectively, in microseconds since the epoch.</p><p>The <code class="varname">BlockInhibited</code> and <code class="varname">DelayInhibited</code> properties encode
      the currently active locks of the respective modes. They are colon separated lists of
      "<code class="literal">shutdown</code>", "<code class="literal">sleep</code>", and "<code class="literal">idle</code>" (see above).</p><p><code class="varname">NCurrentSessions</code> and <code class="varname">NCurrentInhibitors</code> contain the number
      of currently registered sessions and inhibitors.</p><p>The <code class="varname">BootLoaderEntries</code> property contains a list of boot loader entries.
      This includes boot loader entries defined in configuration and any additional loader entries
      reported by the boot loader. See
      <a href="systemd-boot.html#"><span class="citerefentry"><span class="refentrytitle">systemd-boot</span>(7)</span></a>
      for more information.</p><p>The <code class="varname">PreparingForShutdown</code> and <code class="varname">PreparingForSleep</code> boolean
      properties are true during the interval between the two <code class="function">PrepareForShutdown</code> and
      <code class="function">PrepareForSleep</code> signals respectively. Note that these properties do not
      send out <code class="function">PropertyChanged</code> signals.</p><p>The <code class="varname">RebootParameter</code> property shows the value set with the
      <code class="function">SetRebootParameter()</code> method described above.</p><p><code class="varname">ScheduledShutdown</code> shows the value pair set with the
      <code class="function">ScheduleShutdown()</code> method described above.</p><p><code class="varname">RebootToFirmwareSetup</code>, <code class="varname">RebootToBootLoaderMenu</code>, and
      <code class="varname">RebootToBootLoaderEntry</code> are true when the resprective post-reboot operation was
      selected with <code class="function">SetRebootToFirmwareSetup</code>,
      <code class="function">SetRebootToBootLoaderMenu</code>, or
      <code class="function">SetRebootToBootLoaderEntry</code>.</p><p>The <code class="varname">WallMessage</code> and <code class="varname">EnableWallMessages</code> properties reflect the
      shutdown reason and wall message enablement switch which can be set with the
      <code class="function">SetWallMessage()</code> method described above.</p><p><code class="varname">Docked</code> is true if the machine is connected to a dock.
      <code class="varname">LidClosed</code> is true when the lid (of a laptop) is closed.
      <code class="varname">OnExternalPower</code> is true when the machine is connected to an external power supply.
      </p></div><div class="refsect2"><a name="id-1.5.115"></a><h3 id="Security">Security<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Security">¶</a></h3><p>A number of operations are protected via the polkit privilege
      system. <code class="function">SetUserLinger()</code> requires the
      <code class="interfacename">org.freedesktop.login1.set-user-linger</code>
      privilege. <code class="function">AttachDevice()</code> requires
      <code class="interfacename">org.freedesktop.login1.attach-device</code> and
      <code class="function">FlushDevices()</code> requires
      <code class="interfacename">org.freedesktop.login1.flush-devices</code>. <code class="function">PowerOff()</code>,
      <code class="function">Reboot()</code>, <code class="function">Halt()</code>, <code class="function">Suspend()</code>,
      <code class="function">Hibernate()</code> require
      <code class="interfacename">org.freedesktop.login1.power-off</code>,
      <code class="interfacename">org.freedesktop.login1.power-off-multiple-sessions</code>,
      <code class="interfacename">org.freedesktop.login1.power-off-ignore-inhibit</code>,
      <code class="interfacename">org.freedesktop.login1.reboot</code>,
      <code class="interfacename">org.freedesktop.login1.reboot-multiple-sessions</code>,
      <code class="interfacename">org.freedesktop.login1.reboot-ignore-inhibit</code>,
      <code class="interfacename">org.freedesktop.login1.halt</code>,
      <code class="interfacename">org.freedesktop.login1.halt-multiple-sessions</code>,
      <code class="interfacename">org.freedesktop.login1.halt-ignore-inhibit</code>,
      <code class="interfacename">org.freedesktop.login1.suspend</code>,
      <code class="interfacename">org.freedesktop.login1.suspend-multiple-sessions</code>,
      <code class="interfacename">org.freedesktop.login1.suspend-ignore-inhibit</code>,
      <code class="interfacename">org.freedesktop.login1.hibernate</code>,
      <code class="interfacename">org.freedesktop.login1.hibernate-multiple-sessions</code>,
      <code class="interfacename">org.freedesktop.login1.hibernate-ignore-inhibit</code>,
      respectively depending on whether there are other sessions around or active inhibits are present.
      <code class="function">HybridSleep()</code> and <code class="function">SuspendThenHibernate()</code>
      use the same privileges as <code class="function">Hibernate()</code>.
      <code class="function">SetRebootParameter()</code> requires
      <code class="interfacename">org.freedesktop.login1.set-reboot-parameter</code>.</p><p><code class="function">SetRebootToFirmwareSetup</code> requires
      <code class="interfacename">org.freedesktop.login1.set-reboot-to-firmware-setup</code>.
      <code class="function">SetRebootToBootLoaderMenu</code> requires
      <code class="interfacename">org.freedesktop.login1.set-reboot-to-boot-loader-menu</code>.
      <code class="function">SetRebootToBootLoaderEntry</code> requires
      <code class="interfacename">org.freedesktop.login1.set-reboot-to-boot-loader-entry</code>.
      </p><p><code class="function">ScheduleShutdown</code> and <code class="function">CancelScheduledShutdown</code> require
      the same privileges (listed above) as the immediate poweroff/reboot/halt operations.</p><p><code class="function">Inhibit()</code> is protected via one of
      <code class="interfacename">org.freedesktop.login1.inhibit-block-shutdown</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-delay-shutdown</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-block-sleep</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-delay-sleep</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-block-idle</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-handle-power-key</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-handle-suspend-key</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-handle-hibernate-key</code>,
      <code class="interfacename">org.freedesktop.login1.inhibit-handle-lid-switch</code> depending on the lock
      type and mode taken.</p><p>The <code class="varname">interactive</code> boolean parameters can be used to control whether polkit
      should interactively ask the user for authentication credentials if required.</p></div></div><div class="refsect1"><a name="id-1.6"></a><h2 id="Seat Objects">Seat Objects<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Seat%20Objects">¶</a></h2><pre class="programlisting">
node /org/freedesktop/login1/seat/seat0 {
  interface org.freedesktop.login1.Seat {
    methods:
      Terminate();
      ActivateSession(in  s session_id);
      SwitchTo(in  u vtnr);
      SwitchToNext();
      SwitchToPrevious();
    properties:
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Id = '...';
      readonly (so) ActiveSession = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b CanTTY = ...;
      readonly b CanGraphical = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly a(so) Sessions = [...];
      readonly b IdleHint = ...;
      readonly t IdleSinceHint = ...;
      readonly t IdleSinceHintMonotonic = ...;
  };
  interface org.freedesktop.DBus.Peer { ... };
  interface org.freedesktop.DBus.Introspectable { ... };
  interface org.freedesktop.DBus.Properties { ... };
};
    </pre><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="refsect2"><a name="id-1.6.18"></a><h3 id="Methods1">Methods<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Methods1">¶</a></h3><p><code class="function">Terminate()</code> and <code class="function">ActivateSession()</code> work similar to
      TerminateSeat(), ActivationSessionOnSeat() on the Manager object.</p><p><code class="function">SwitchTo()</code> switches to the session on the virtual terminal
      <code class="varname">vtnr</code>. <code class="function">SwitchToNext()</code> and
      <code class="function">SwitchToPrevious()</code> switch to, respectively, the next and previous sessions on the
      seat in the order of virtual terminals. If there is no active session, they switch to, respectively,
      the first and last session on the seat.</p></div><div class="refsect2"><a name="id-1.6.19"></a><h3 id="Signals1">Signals<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Signals1">¶</a></h3><p>Whenever <code class="function">ActiveSession</code>, <code class="function">Sessions</code>,
      <code class="function">CanGraphical</code>, <code class="function">CanTTY</code>,
      or the idle state changes, <code class="function">PropertyChanged</code> signals are sent out to which clients
      can subscribe.</p></div><div class="refsect2"><a name="id-1.6.20"></a><h3 id="Properties1">Properties<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Properties1">¶</a></h3><p>The <code class="varname">Id</code> property encodes the ID of the seat.</p><p><code class="varname">ActiveSession</code> encodes the currently active session if there is one. It is a
      structure consisting of the session id and the object path.</p><p><code class="varname">CanTTY</code> encodes whether the session is suitable for text logins, and
      <code class="varname">CanGraphical</code> whether it is suitable for graphical sessions.</p><p>The <code class="varname">Sessions</code> property is an array of all current sessions of this seat, each
      encoded in a structure consisting of the ID and the object path.</p><p>The <code class="varname">IdleHint</code>, <code class="varname">IdleSinceHint</code>, and
      <code class="varname">IdleSinceHintMonotonic</code> properties encode the idle state, similar to the ones exposed
      on the <code class="interfacename">Manager</code> object, but specific for this seat.</p></div></div><div class="refsect1"><a name="id-1.7"></a><h2 id="User Objects">User Objects<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#User%20Objects">¶</a></h2><pre class="programlisting">
node /org/freedesktop/login1/user/_1000 {
  interface org.freedesktop.login1.User {
    methods:
      Terminate();
      Kill(in  i signal_number);
    properties:
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly u UID = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly u GID = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Name = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t Timestamp = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t TimestampMonotonic = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s RuntimePath = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Service = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Slice = '...';
      readonly (so) Display = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly s State = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly a(so) Sessions = [...];
      readonly b IdleHint = ...;
      readonly t IdleSinceHint = ...;
      readonly t IdleSinceHintMonotonic = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly b Linger = ...;
  };
  interface org.freedesktop.DBus.Peer { ... };
  interface org.freedesktop.DBus.Introspectable { ... };
  interface org.freedesktop.DBus.Properties { ... };
};
    </pre><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="refsect2"><a name="id-1.7.22"></a><h3 id="Methods2">Methods<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Methods2">¶</a></h3><p><code class="function">Terminate()</code> and <code class="function">Kill()</code> work similar to the
      <code class="function">TerminateUser()</code> and <code class="function">KillUser()</code> methods on the manager
      object.</p></div><div class="refsect2"><a name="id-1.7.23"></a><h3 id="Signals2">Signals<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Signals2">¶</a></h3><p>Whenever <code class="varname">Sessions</code> or the idle state changes,
      <code class="function">PropertyChanged</code> signals are sent out to which clients can subscribe.</p></div><div class="refsect2"><a name="id-1.7.24"></a><h3 id="Properties2">Properties<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Properties2">¶</a></h3><p>The <code class="varname">UID</code> and <code class="varname">GID</code> properties encode the Unix UID and primary
      GID of the user.</p><p>The <code class="varname">Name</code> property encodes the user name.</p><p><code class="varname">Timestamp</code> and <code class="varname">TimestampMonotonic</code> encode the login time of
      the user in microseconds since the epoch, in the <code class="constant">CLOCK_REALTIME</code> and
      <code class="constant">CLOCK_MONOTONIC</code> clocks, respectively.</p><p><code class="varname">RuntimePath</code> encodes the runtime path of the user,
      i.e. <code class="varname">$XDG_RUNTIME_DIR</code>. For details see the
      <a class="ulink" href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html" target="_top">
        XDG Basedir Specification
      </a>.</p><p><code class="varname">Service</code> contains the unit name of the user systemd service of this
      user. Each logged in user is assigned a user service that runs a user systemd instance. This is
      usually an instance of <code class="filename">user@.service</code>.</p><p><code class="varname">Slice</code> contains the unit name of the user systemd slice of this user. Each
      logged in user gets a private slice.</p><p><code class="varname">Display</code> encodes which graphical session should be used as the primary UI display
      for the user. It is a structure encoding the session ID and the object path of the session to use.</p><p><code class="varname">State</code> encodes the user state and is one of "<code class="literal">offline</code>",
      "<code class="literal">lingering</code>", "<code class="literal">online</code>", "<code class="literal">active</code>", or
      "<code class="literal">closing</code>". See
      <a href="sd_uid_get_state.html#"><span class="citerefentry"><span class="refentrytitle">sd_uid_get_state</span>(3)</span></a>
      for more information about the states.</p><p><code class="varname">Sessions</code> is an array of structures encoding all current sessions of the
      user. Each structure consists of the ID and object path.</p><p>The <code class="varname">IdleHint</code>, <code class="varname">IdleSinceHint</code>, and
      <code class="varname">IdleSinceHintMonotonic</code> properties encode the idle hint state of the user, similar to
      the <code class="interfacename">Manager</code>'s properties, but specific for this user.</p><p>The <code class="varname">Linger</code> property shows whether lingering is enabled for this user.</p></div></div><div class="refsect1"><a name="id-1.8"></a><h2 id="Session Objects">Session Objects<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Session%20Objects">¶</a></h2><pre class="programlisting">
node /org/freedesktop/login1/session/1 {
  interface org.freedesktop.login1.Session {
    methods:
      Terminate();
      Activate();
      Lock();
      Unlock();
      SetIdleHint(in  b idle);
      SetLockedHint(in  b locked);
      Kill(in  s who,
           in  i signal_number);
      TakeControl(in  b force);
      ReleaseControl();
      SetType(in  s type);
      TakeDevice(in  u major,
                 in  u minor,
                 out h fd,
                 out b inactive);
      ReleaseDevice(in  u major,
                    in  u minor);
      PauseDeviceComplete(in  u major,
                          in  u minor);
      SetBrightness(in  s subsystem,
                    in  s name,
                    in  u brightness);
    signals:
      PauseDevice(u major,
                  u minor,
                  s type);
      ResumeDevice(u major,
                   u minor,
                   h fd);
      Lock();
      Unlock();
    properties:
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Id = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly (uo) User = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Name = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t Timestamp = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t TimestampMonotonic = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly u VTNr = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly (so) Seat = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s TTY = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Display = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b Remote = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s RemoteHost = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s RemoteUser = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Service = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Desktop = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Scope = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly u Leader = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly u Audit = ...;
      readonly s Type = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Class = '...';
      readonly b Active = ...;
      readonly s State = '...';
      readonly b IdleHint = ...;
      readonly t IdleSinceHint = ...;
      readonly t IdleSinceHintMonotonic = ...;
      readonly b LockedHint = ...;
  };
  interface org.freedesktop.DBus.Peer { ... };
  interface org.freedesktop.DBus.Introspectable { ... };
  interface org.freedesktop.DBus.Properties { ... };
};
    </pre><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="variablelist"><dl class="variablelist"></dl></div><div class="refsect2"><a name="id-1.8.48"></a><h3 id="Methods3">Methods<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Methods3">¶</a></h3><p><code class="function">Terminate()</code>, <code class="function">Activate()</code>, <code class="function">Lock()</code>,
      <code class="function">Unlock()</code>, and <code class="function">Kill()</code> work similarly to the respective calls on
      the <code class="interfacename">Manager</code> object.</p><p><code class="function">SetIdleHint()</code> is called by the session object to update the idle state
      of the session whenever it changes.</p><p><code class="function">TakeControl()</code> allows a process to take exclusive managed device
      access-control for that session. Only one D-Bus connection can be a controller for a given session at any
      time. If the <code class="varname">force</code> argument is set (root only), an existing controller is kicked
      out and replaced. Otherwise, this method fails if there is already a controller. Note that this method is
      limited to D-Bus users with the effective UID set to the user of the session or root.</p><p><code class="function">ReleaseControl()</code> drops control of a given session. Closing the D-Bus
      connection implicitly releases control as well. See <code class="function">TakeControl()</code> for more
      information. This method also releases all devices for which the controller requested ownership via
      <code class="function">TakeDevice()</code>.</p><p><code class="function">SetType()</code> allows the type of the session to be changed dynamically.  It can
      only be called by session's current controller. If <code class="function">TakeControl()</code> has not been
      called, this method will fail. In addition, the session type will be reset to its original value once
      control is released, either by calling <code class="function">ReleaseControl()</code> or closing the D-Bus
      connection. This should help prevent a session from entering an inconsistent state, for example if the
      controller crashes. The only argument <code class="varname">type</code> is the new session type.</p><p><code class="function">TakeDevice()</code> allows a session controller to get a file descriptor for a
      specific device. Pass in the major and minor numbers of the character device and
      <code class="filename">systemd-logind</code> will return a file descriptor for the device. Only a limited set of
      device-types is currently supported (but may be extended). <code class="filename">systemd-logind</code>
      automatically mutes the file descriptor if the session is inactive and resumes it once the session is
      activated again. This guarantees that a session can only access session devices if the session is
      active. Note that this revoke/resume mechanism is asynchronous and may happen at any given time.  This
      only works on devices that are attached to the seat of the given session. A process is not required to
      have direct access to the device node. <code class="filename">systemd-logind</code> only requires you to be the
      active session controller (see <code class="function">TakeControl()</code>). Also note that any device can only
      be requested once. As long as you don't release it, further <code class="function">TakeDevice()</code> calls
      will fail.</p><p><code class="function">ReleaseDevice()</code> releases a device again (see
      <code class="function">TakeDevice()</code>). This is also implicitly done by
      <code class="function">ReleaseControl()</code> or when closing the D-Bus connection.</p><p><code class="function">PauseDeviceComplete()</code> allows a session controller to synchronously pause a
      device after receiving a <code class="function">PauseDevice("<code class="literal">pause</code>")</code> signal. Forced
      signals (or after an internal timeout) are automatically completed by
      <code class="filename">systemd-logind</code> asynchronously.</p><p><code class="function">SetLockedHint()</code> may be used to set the "locked hint" to
      <code class="varname">locked</code>, i.e. information whether the session is locked. This is intended to be used
      by the desktop environment to tell <span class="command"><strong>systemd-logind</strong></span> when the session is locked and
      unlocked.</p><p><code class="function">SetBrightness()</code> may be used to set the display brightness. This is intended
      to be used by the desktop environment and allows unprivileged programs to access hardware settings in
      a controlled way. The <code class="varname">subsystem</code> parameter specifies a kernel subsystem, either
      "<code class="literal">backlight</code>" or "<code class="literal">leds</code>". The <code class="varname">name</code> parameter
      specifies a device name under the specified subsystem. The <code class="varname">brightness</code> parameter
      specifies the brightness. The range is defined by individual drivers, see
      <code class="filename">/sys/class/<code class="varname">subsystem</code>/<code class="varname">name</code>/max_brightness</code>.
      </p></div><div class="refsect2"><a name="id-1.8.49"></a><h3 id="Signals3">Signals<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Signals3">¶</a></h3><p>The active session controller exclusively gets <code class="function">PauseDevice</code> and
      <code class="function">ResumeDevice</code> events for any device it requested via
      <code class="function">TakeDevice()</code>. They notify the controller whenever a device is paused or resumed. A
      device is never resumed if its session is inactive. Also note that <code class="function">PauseDevice</code>
      signals are sent before the <code class="function">PropertyChanged</code> signal for the
      <code class="function">Active</code> state. The inverse is true for <code class="function">ResumeDevice</code>. A device
      may remain paused for unknown reasons even though the <code class="interfacename">Session</code> is active.
      </p><p>A <code class="function">PauseDevice</code> signal carries the major and minor numbers and a string describing the
      type as arguments. <code class="function">force</code> means the device was already paused by
      <code class="filename">systemd-logind</code> and the signal is only an asynchronous
      notification. <code class="function">pause</code> means <code class="filename">systemd-logind</code> grants you a limited amount of time to pause the device. You must respond to this via
      <code class="function">PauseDeviceComplete()</code>. This synchronous pausing mechanism is used for
      backwards-compatibility to VTs and <code class="filename">systemd-logind</code> is free to not make use of
      it. It is also free to send a forced <code class="function">PauseDevice</code> if you don't respond in a timely
      manner (or for any other reason). <code class="function">gone</code> means the device was unplugged from the
      system and you will no longer get any notifications about it. There is no need to call
      <code class="function">ReleaseDevice()</code>. You may call <code class="function">TakeDevice()</code> again if a new
      device is assigned the major+minor combination.</p><p><code class="function">ResumeDevice</code> is sent whenever a session is active and a device is
      resumed. It carries the major/minor numbers as arguments and provides a new open file descriptor. You should
      switch to the new descriptor and close the old one. They are not guaranteed to have the same underlying
      open file descriptor in the kernel (except for a limited set of device types).</p><p>Whenever <code class="function">Active</code> or the idle state changes,
      <code class="function">PropertyChanged</code> signals are sent out to which clients can subscribe.</p><p><code class="function">Lock</code>/<code class="function">Unlock</code> is sent when the session is asked to be
      screen-locked/unlocked. A session manager of the session should listen to this signal and act
      accordingly. This signal is sent out as a result of the <code class="function">Lock()</code> and
      <code class="function">Unlock()</code> methods, respectively.</p></div><div class="refsect2"><a name="id-1.8.50"></a><h3 id="Properties3">Properties<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Properties3">¶</a></h3><p><code class="varname">Id</code> encodes the session ID.</p><p><code class="varname">User</code> encodes the user ID of the user this session belongs to. This is a
      structure consisting of the Unix UID and the object path.</p><p><code class="varname">Name</code> encodes the user name.</p><p><code class="varname">Timestamp</code> and <code class="varname">TimestampMonotonic</code> encode the microseconds
      since the epoch when the session was created, in <code class="constant">CLOCK_REALTIME</code> or
      <code class="constant">CLOCK_MONOTONIC</code>, respectively.</p><p><code class="varname">VTNr</code> encodes the virtual terminal number of the session if there is any, 0
      otherwise.</p><p><code class="varname">Seat</code> encodes the seat this session belongs to if there is any. This is a
      structure consisting of the ID and the seat object path.</p><p><code class="varname">TTY</code> encodes the kernel TTY path of the session if this is a text login. If not
      this is an empty string.</p><p><code class="varname">Display</code> encodes the X11 display name if this is a graphical login. If not,
      this is an empty string.</p><p><code class="varname">Remote</code> encodes whether the session is local or remote.</p><p><code class="varname">RemoteHost</code> and <code class="varname">RemoteUser</code> encode the remote host and user
      if this is a remote session, or an empty string otherwise.</p><p><code class="varname">Service</code> encodes the PAM service name that registered the session.</p><p><code class="varname">Desktop</code> describes the desktop environment running in the session (if
      known).</p><p><code class="varname">Scope</code> contains the systemd scope unit name of this session.</p><p><code class="varname">Leader</code> encodes the PID of the process that registered the session.</p><p><code class="varname">Audit</code> encodes the Kernel Audit session ID of the session if auditing is
      available.</p><p><code class="varname">Type</code> encodes the session type. It's one of "<code class="literal">unspecified</code>" (for
      cron PAM sessions and suchlike), "<code class="literal">tty</code>" (for text logins) or
      "<code class="literal">x11</code>"/"<code class="literal">mir</code>"/"<code class="literal">wayland</code>" (for graphical logins).</p><p><code class="varname">Class</code> encodes the session class. It's one of "<code class="literal">user</code>" (for
      normal user sessions), "<code class="literal">greeter</code>" (for display manager pseudo-sessions), or
      "<code class="literal">lock-screen</code>" (for display lock screens).</p><p><code class="varname">Active</code> is a boolean that is true if the session is active, i.e. currently in the
      foreground. This field is semi-redundant due to <code class="varname">State</code>.</p><p><code class="varname">State</code> encodes the session state and one of "<code class="literal">online</code>",
      "<code class="literal">active</code>", or "<code class="literal">closing</code>". See
      <a href="sd_session_get_state.html#"><span class="citerefentry"><span class="refentrytitle">sd_session_get_state</span>(3)</span></a>
      for more information about the states.</p><p><code class="varname">IdleHint</code>, <code class="varname">IdleSinceHint</code>, and
      <code class="varname">IdleSinceHintMonotonic</code> encapsulate the idle hint state of this session, similarly to
      how the respective properties on the manager object do it for the whole system.</p><p><code class="varname">LockedHint</code> shows the locked hint state of this session, as set by the
      <code class="function">SetLockedHint()</code> method described above.</p></div></div><div class="refsect1"><a name="id-1.9"></a><h2 id="Examples">Examples<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Examples">¶</a></h2><div class="example"><a name="id-1.9.2"></a><p class="title"><b>Example 1. Introspect <code class="interfacename">org.freedesktop.login1.Manager</code> on the bus</b></p><div class="example-contents"><pre class="programlisting">$ gdbus introspect --system --dest org.freedesktop.login1 \
  --object-path /org/freedesktop/login1
      </pre></div></div><br class="example-break"><div class="example"><a name="id-1.9.3"></a><p class="title"><b>Example 2. Introspect <code class="interfacename">org.freedesktop.login1.Seat</code> on the bus</b></p><div class="example-contents"><pre class="programlisting">$ gdbus introspect --system --dest org.freedesktop.login1 \
 --object-path /org/freedesktop/login1/seat/seat0
      </pre></div></div><br class="example-break"><div class="example"><a name="id-1.9.4"></a><p class="title"><b>Example 3. Introspect <code class="interfacename">org.freedesktop.login1.User</code> on the bus</b></p><div class="example-contents"><pre class="programlisting">$ gdbus introspect --system --dest org.freedesktop.login1 \
  --object-path /org/freedesktop/login1/user/_1000
      </pre></div></div><br class="example-break"><div class="example"><a name="id-1.9.5"></a><p class="title"><b>Example 4. Introspect <code class="interfacename">org.freedesktop.login1.Session</code> on the bus</b></p><div class="example-contents"><pre class="programlisting">$ gdbus introspect --system --dest org.freedesktop.login1 \
  --object-path /org/freedesktop/login1/session/45
      </pre></div></div><br class="example-break"></div><div class="refsect1"><a name="id-1.10"></a><h2 id="Versioning">Versioning<a class="headerlink" title="Permalink to this headline" href="org.freedesktop.login1.html#Versioning">¶</a></h2><p>These D-Bus interfaces follow <a class="ulink" href="http://0pointer.de/blog/projects/versioning-dbus.html" target="_top">
    the usual interface versioning guidelines</a>.</p></div></div></body></html>
