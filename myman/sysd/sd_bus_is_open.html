<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_bus_is_open</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html">Index </a>·
  <a href="systemd.directives.html">Directives </a><span style="float:right">systemd 249</span><hr><div class="refentry"><a name="sd_bus_is_open"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>sd_bus_is_open, sd_bus_is_ready — Check whether the bus connection is open or ready</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-bus.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_is_open</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_is_ready</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a name="id-1.5"></a><h2 id="Description">Description<a class="headerlink" title="Permalink to this headline" href="sd_bus_is_open.html#Description">¶</a></h2><p><code class="function">sd_bus_is_open()</code> checks whether the specified bus connection is open, i.e. in the
    process of being established, already established or in the process of being torn down. It returns zero when the
    connection has not been started yet
    (i.e. <a href="sd_bus_start.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_start</span>(3)</span></a> or some
    equivalent call has not been invoked yet), or is fully terminated again (for example after
    <a href="sd_bus_close.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_close</span>(3)</span></a>), it returns
    positive otherwise.</p><p><code class="function">sd_bus_is_ready()</code> checks whether the specified connection is fully established,
    i.e. completed the connection and authentication phases of the protocol and received the
    <code class="function">Hello()</code> method call response, and is not in the process of being torn down again. It returns
    zero outside of this state, and positive otherwise. Effectively, this function returns positive while regular
    messages can be sent or received on the connection.</p><p>The <em class="parameter"><code>bus</code></em> argument may be <code class="constant">NULL</code>, zero is also returned in
    that case.</p><p>To be notified when the connection is fully established, use
    <a href="sd_bus_set_connected_signal.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_set_connected_signal</span>(3)</span></a> and
    install a match for the <code class="function">Connected()</code> signal on the
    "<code class="literal">org.freedesktop.DBus.Local</code>" interface. To be notified when the connection is torn down again,
    install a match for the <code class="function">Disconnected()</code> signal on the
    "<code class="literal">org.freedesktop.DBus.Local</code>" interface.</p></div><div class="refsect1"><a name="id-1.6"></a><h2 id="Return Value">Return Value<a class="headerlink" title="Permalink to this headline" href="sd_bus_is_open.html#Return%20Value">¶</a></h2><p>Those functions return 0 if the bus is <span class="emphasis"><em>not</em></span> in the given state, and a positive
    integer when it is. On failure, a negative errno-style error code is returned.</p><div class="refsect2"><a name="id-1.6.3"></a><h3 id="Errors">Errors<a class="headerlink" title="Permalink to this headline" href="sd_bus_is_open.html#Errors">¶</a></h3><p>Returned errors may indicate the following problems:</p><div class="variablelist"><dl class="variablelist"><dt id="-ECHILD"><span class="term"><code class="constant">-ECHILD</code></span><a class="headerlink" title="Permalink to this term" href="sd_bus_is_open.html#-ECHILD">¶</a></dt><dd><p>The bus connection has been created in a different process.</p></dd></dl></div></div></div><div class="refsect1"><a name="id-1.7"></a><h2 id="Notes">Notes<a class="headerlink" title="Permalink to this headline" href="sd_bus_is_open.html#Notes">¶</a></h2><p><a name="pkgconfig-text"></a>These APIs are implemented as a shared
  library, which can be compiled and linked to with the
  <code class="constant">libsystemd</code> <a href="http://linux.die.net/man/1/pkg-config"><span class="citerefentry"><span class="refentrytitle">pkg-config</span>(1)</span></a>
  file.</p></div><div class="refsect1"><a name="id-1.8"></a><h2 id="See Also">See Also<a class="headerlink" title="Permalink to this headline" href="sd_bus_is_open.html#See%20Also">¶</a></h2><p>
      <a href="systemd.html#"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>,
      <a href="sd-bus.html#"><span class="citerefentry"><span class="refentrytitle">sd-bus</span>(3)</span></a>,
      <a href="sd_bus_start.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_start</span>(3)</span></a>,
      <a href="sd_bus_close.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_close</span>(3)</span></a>,
      <a href="sd_bus_set_connected_signal.html#"><span class="citerefentry"><span class="refentrytitle">sd_bus_set_connected_signal</span>(3)</span></a>
    </p></div></div></body></html>
