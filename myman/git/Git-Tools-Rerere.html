<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49925874-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-49925874-3');
  </script>

  <meta charset='utf-8'>
  <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Git - Rerere</title>

  <link href='favicon.ico' rel='shortcut icon' type='image/x-icon'>

  <link rel="stylesheet" media="screen" href="application-317ee030890d2caf96a53cbcc2a67040b748b2506d55661fc9c6754d0a024f59.css" />
  <script src="modernize-b3ebe0c31c24f230dc62179d3e1030d2e57a53b1668d9382c0a27dbd44a94beb.js"></script>
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js"></script>
  <![endif]-->

</head>

<body id="documentation">

  <div class="inner">
    <header>

  <a href="https://git-scm.com/"><img src="logo@2x.png" width="110" height="46" alt="Git" /></a>
  <span id="tagline"></span>
  <script type="text/javascript">
    var taglines = ["fast-version-control","everything-is-local","distributed-even-if-your-workflow-isnt","local-branching-on-the-cheap","distributed-is-the-new-centralized"];
    var tagline = taglines[Math.floor(Math.random() * taglines.length)];
    document.getElementById('tagline').innerHTML = '--' + tagline;
  </script>
  <form id="search" action="https://git-scm.com/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text" />
  </form>
  <div id="search-results"></div>

</header>

  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <button class="sidebar-btn"></button>
<aside class="sidebar" id="sidebar">
  <nav>
    <ul>
      <li>
        <a href="https://git-scm.com/about">About</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/about">Branching and Merging</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/small-and-fast">Small and Fast</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/distributed">Distributed</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/info-assurance">Data Assurance</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/staging-area">Staging Area</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/free-and-open-source">Free and Open Source</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/trademark">Trademark</a>
          </li>
        </ul>
      </li>
      <li>
        <a class="active" href="https://git-scm.com/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a href="https://git-scm.com/docs">Reference</a>
          </li>
          <li>
            <a class="active" href="https://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="https://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="https://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="https://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/community">Community</a>
      </li>
    </ul>
      <hr class="sidebar">
        <p>
This book is available in
  <a href="https://git-scm.com/book/en">English</a>.
</p>
<p>
  Full translation available in
  <table>
    <tr><td><a href="https://git-scm.com/book/az">azərbaycan dili</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/bg">български език</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/de">Deutsch</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/es">Español</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/fr">Français</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/gr">Ελληνικά</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ja">日本語</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ko">한국어</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/nl">Nederlands</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ru">Русский</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/sl">Slovenščina</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/tl">Tagalog</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/uk">Українська</a></td></tr>
    <tr><td><a href="https://git-scm.com/book/zh">简体中文</a>,</td></tr>
  </table>
</p>
<p>
  Partial translations available in
  <table>
    <tr><td><a href="https://git-scm.com/book/cs">Čeština</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/mk">Македонски</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/pl">Polski</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/sr">Српски</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/uz">Ўзбекча</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/zh-tw">繁體中文</a>,</td></tr>
  </table>
</p>
<p>
  Translations started for
  <table>
    <tr><td><a href="https://git-scm.com/book/be">Беларуская</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/fa" dir="rtl">فارسی</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/id">Indonesian</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/it">Italiano</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ms">Bahasa Melayu</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/pt-br">Português (Brasil)</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/pt-pt">Português (Portugal)</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/sv">Svenska</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/tr">Türkçe</a>.</td></tr>
  </table>
</p>
<hr class="sidebar"/>
<p>
The source of this book is <a href="https://github.com/progit/progit2">hosted on GitHub.</a></br>
Patches, suggestions and comments are welcome.
</p>


  </nav>
</aside>

        <div id="content">
          

<div id='book-chapters'>
  <a class="dropdown-trigger" id="book-chapters-trigger" data-panel-id="chapters-dropdown" href="ch00/ref_rerere.html#">Chapters ▾</a>
<div class='dropdown-panel' id='chapters-dropdown'>
  <div class="three-column">
    <div class='column-left'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>1. <a href="ch00/ch01-getting-started.html">Getting Started</a></h2>
    <ol>
        <li>
          1.1
          <a href="ch00/ch01-getting-started.html" >About Version Control </a>
        </li>
        <li>
          1.2
          <a href="Getting-Started-A-Short-History-of-Git.html" >A Short History of Git </a>
        </li>
        <li>
          1.3
          <a href="ch00/what_is_git_section.html" >What is Git? </a>
        </li>
        <li>
          1.4
          <a href="Getting-Started-The-Command-Line.html" >The Command Line </a>
        </li>
        <li>
          1.5
          <a href="Getting-Started-Installing-Git.html" >Installing Git </a>
        </li>
        <li>
          1.6
          <a href="ch00/_editor.html" >First-Time Git Setup </a>
        </li>
        <li>
          1.7
          <a href="ch00/_git_help.html" >Getting Help </a>
        </li>
        <li>
          1.8
          <a href="Getting-Started-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>2. <a href="ch00/_git_cloning.html">Git Basics</a></h2>
    <ol>
        <li>
          2.1
          <a href="ch00/_git_cloning.html" >Getting a Git Repository </a>
        </li>
        <li>
          2.2
          <a href="ch00/_git_mv.html" >Recording Changes to the Repository </a>
        </li>
        <li>
          2.3
          <a href="ch00/_viewing_history.html" >Viewing the Commit History </a>
        </li>
        <li>
          2.4
          <a href="ch00/_unstaging.html" >Undoing Things </a>
        </li>
        <li>
          2.5
          <a href="ch00/_remote_repos.html" >Working with Remotes </a>
        </li>
        <li>
          2.6
          <a href="ch00/_annotated_tags.html" >Tagging </a>
        </li>
        <li>
          2.7
          <a href="ch00/_git_aliases.html" >Git Aliases </a>
        </li>
        <li>
          2.8
          <a href="Git-Basics-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>3. <a href="ch00/_switching_branches.html">Git Branching</a></h2>
    <ol>
        <li>
          3.1
          <a href="ch00/_switching_branches.html" >Branches in a Nutshell </a>
        </li>
        <li>
          3.2
          <a href="ch00/_basic_branching.html" >Basic Branching and Merging </a>
        </li>
        <li>
          3.3
          <a href="ch00/_branch_management.html" >Branch Management </a>
        </li>
        <li>
          3.4
          <a href="ch00/_topic_branch.html" >Branching Workflows </a>
        </li>
        <li>
          3.5
          <a href="ch00/_delete_branches.html" >Remote Branches </a>
        </li>
        <li>
          3.6
          <a href="ch00/_rebase_rebase.html" >Rebasing </a>
        </li>
        <li>
          3.7
          <a href="Git-Branching-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>4. <a href="Git-on-the-Server-The-Protocols.html">Git on the Server</a></h2>
    <ol>
        <li>
          4.1
          <a href="Git-on-the-Server-The-Protocols.html" >The Protocols </a>
        </li>
        <li>
          4.2
          <a href="ch00/_bare_repo.html" >Getting Git on a Server </a>
        </li>
        <li>
          4.3
          <a href="ch00/_generate_ssh_key.html" >Generating Your SSH Public Key </a>
        </li>
        <li>
          4.4
          <a href="ch00/_setting_up_server.html" >Setting Up the Server </a>
        </li>
        <li>
          4.5
          <a href="Git-on-the-Server-Git-Daemon.html" >Git Daemon </a>
        </li>
        <li>
          4.6
          <a href="Git-on-the-Server-Smart-HTTP.html" >Smart HTTP </a>
        </li>
        <li>
          4.7
          <a href="Git-on-the-Server-GitWeb.html" >GitWeb </a>
        </li>
        <li>
          4.8
          <a href="ch00/_gitlab_groups_section.html" >GitLab </a>
        </li>
        <li>
          4.9
          <a href="Git-on-the-Server-Third-Party-Hosted-Options.html" >Third Party Hosted Options </a>
        </li>
        <li>
          4.10
          <a href="Git-on-the-Server-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>5. <a href="ch00/_integration_manager.html">Distributed Git</a></h2>
    <ol>
        <li>
          5.1
          <a href="ch00/_integration_manager.html" >Distributed Workflows </a>
        </li>
        <li>
          5.2
          <a href="ch00/_project_over_email.html" >Contributing to a Project </a>
        </li>
        <li>
          5.3
          <a href="ch00/_git_am.html" >Maintaining a Project </a>
        </li>
        <li>
          5.4
          <a href="Distributed-Git-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-middle'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>6. <a href="ch00/_personal_avatar.html">GitHub</a></h2>
    <ol>
        <li>
          6.1
          <a href="ch00/_personal_avatar.html" >Account Setup and Configuration </a>
        </li>
        <li>
          6.2
          <a href="ch00/_fetch_and_push_on_different_repositories.html" >Contributing to a Project </a>
        </li>
        <li>
          6.3
          <a href="ch00/_email_notifications.html" >Maintaining a Project </a>
        </li>
        <li>
          6.4
          <a href="ch00/_team_page.html" >Managing an organization </a>
        </li>
        <li>
          6.5
          <a href="ch00/_commit_status.html" >Scripting GitHub </a>
        </li>
        <li>
          6.6
          <a href="GitHub-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>7. <a href="ch00/_git_reflog.html">Git Tools</a></h2>
    <ol>
        <li>
          7.1
          <a href="ch00/_git_reflog.html" >Revision Selection </a>
        </li>
        <li>
          7.2
          <a href="ch00/_interactive_staging.html" >Interactive Staging </a>
        </li>
        <li>
          7.3
          <a href="ch00/_git_clean.html" >Stashing and Cleaning </a>
        </li>
        <li>
          7.4
          <a href="ch00/_signing_commits.html" >Signing Your Work </a>
        </li>
        <li>
          7.5
          <a href="ch00/_git_grep.html" >Searching </a>
        </li>
        <li>
          7.6
          <a href="ch00/_removing_file_every_commit.html" >Rewriting History </a>
        </li>
        <li>
          7.7
          <a href="ch00/_the_index.html" >Reset Demystified </a>
        </li>
        <li>
          7.8
          <a href="ch00/_reverse_commit.html" >Advanced Merging </a>
        </li>
        <li>
          7.9
          <a href="ch00/ref_rerere.html" class=active>Rerere </a>
        </li>
        <li>
          7.10
          <a href="ch00/_file_annotation.html" >Debugging with Git </a>
        </li>
        <li>
          7.11
          <a href="ch00/_publishing_submodules.html" >Submodules </a>
        </li>
        <li>
          7.12
          <a href="ch00/_bundling.html" >Bundling </a>
        </li>
        <li>
          7.13
          <a href="ch00/_replace.html" >Replace </a>
        </li>
        <li>
          7.14
          <a href="ch00/_credential_caching.html" >Credential Storage </a>
        </li>
        <li>
          7.15
          <a href="Git-Tools-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>8. <a href="ch00/_external_merge_tools.html">Customizing Git</a></h2>
    <ol>
        <li>
          8.1
          <a href="ch00/_external_merge_tools.html" >Git Configuration </a>
        </li>
        <li>
          8.2
          <a href="ch00/_keyword_expansion.html" >Git Attributes </a>
        </li>
        <li>
          8.3
          <a href="ch00/_email_hooks.html" >Git Hooks </a>
        </li>
        <li>
          8.4
          <a href="ch00/_enforcing_commit_message_format.html" >An Example Git-Enforced Policy </a>
        </li>
        <li>
          8.5
          <a href="Customizing-Git-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>9. <a href="ch00/_git_svn.html">Git and Other Systems</a></h2>
    <ol>
        <li>
          9.1
          <a href="ch00/_git_svn.html" >Git as a Client </a>
        </li>
        <li>
          9.2
          <a href="ch00/_git_p4.html" >Migrating to Git </a>
        </li>
        <li>
          9.3
          <a href="Git-and-Other-Systems-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>10. <a href="ch00/_plumbing_porcelain.html">Git Internals</a></h2>
    <ol>
        <li>
          10.1
          <a href="ch00/_plumbing_porcelain.html" >Plumbing and Porcelain </a>
        </li>
        <li>
          10.2
          <a href="ch00/_git_commit_objects.html" >Git Objects </a>
        </li>
        <li>
          10.3
          <a href="ch00/ref_the_ref.html" >Git References </a>
        </li>
        <li>
          10.4
          <a href="Git-Internals-Packfiles.html" >Packfiles </a>
        </li>
        <li>
          10.5
          <a href="ch00/_pushing_refspecs.html" >The Refspec </a>
        </li>
        <li>
          10.6
          <a href="Git-Internals-Transfer-Protocols.html" >Transfer Protocols </a>
        </li>
        <li>
          10.7
          <a href="ch00/_git_gc.html" >Maintenance and Data Recovery </a>
        </li>
        <li>
          10.8
          <a href="Git-Internals-Environment-Variables.html" >Environment Variables </a>
        </li>
        <li>
          10.9
          <a href="Git-Internals-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-right'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>A1. <a href="./Appendix-A:-Git-in-Other-Environments-Graphical-Interfaces.html">Appendix A: Git in Other Environments</a></h2>
    <ol>
        <li>
          A1.1
          <a href="./Appendix-A:-Git-in-Other-Environments-Graphical-Interfaces.html" >Graphical Interfaces </a>
        </li>
        <li>
          A1.2
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Visual-Studio.html" >Git in Visual Studio </a>
        </li>
        <li>
          A1.3
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Visual-Studio-Code.html" >Git in Visual Studio Code </a>
        </li>
        <li>
          A1.4
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-IntelliJ-%252F-PyCharm-%252F-WebStorm-%252F-PhpStorm-%252F-RubyMine.html" >Git in IntelliJ / PyCharm / WebStorm / PhpStorm / RubyMine </a>
        </li>
        <li>
          A1.5
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Sublime-Text.html" >Git in Sublime Text </a>
        </li>
        <li>
          A1.6
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Bash.html" >Git in Bash </a>
        </li>
        <li>
          A1.7
          <a href="ch00/oh_my_zsh_git.html" >Git in Zsh </a>
        </li>
        <li>
          A1.8
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-PowerShell.html" >Git in PowerShell </a>
        </li>
        <li>
          A1.9
          <a href="./Appendix-A:-Git-in-Other-Environments-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A2. <a href="./Appendix-B:-Embedding-Git-in-your-Applications-Command-line-Git.html">Appendix B: Embedding Git in your Applications</a></h2>
    <ol>
        <li>
          A2.1
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-Command-line-Git.html" >Command-line Git </a>
        </li>
        <li>
          A2.2
          <a href="ch00/_libgit2_bindings.html" >Libgit2 </a>
        </li>
        <li>
          A2.3
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-JGit.html" >JGit </a>
        </li>
        <li>
          A2.4
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-go-git.html" >go-git </a>
        </li>
        <li>
          A2.5
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-Dulwich.html" >Dulwich </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A3. <a href="ch00/ch_core_editor.html">Appendix C: Git Commands</a></h2>
    <ol>
        <li>
          A3.1
          <a href="ch00/ch_core_editor.html" >Setup and Config </a>
        </li>
        <li>
          A3.2
          <a href="./Appendix-C:-Git-Commands-Getting-and-Creating-Projects.html" >Getting and Creating Projects </a>
        </li>
        <li>
          A3.3
          <a href="./Appendix-C:-Git-Commands-Basic-Snapshotting.html" >Basic Snapshotting </a>
        </li>
        <li>
          A3.4
          <a href="./Appendix-C:-Git-Commands-Branching-and-Merging.html" >Branching and Merging </a>
        </li>
        <li>
          A3.5
          <a href="./Appendix-C:-Git-Commands-Sharing-and-Updating-Projects.html" >Sharing and Updating Projects </a>
        </li>
        <li>
          A3.6
          <a href="./Appendix-C:-Git-Commands-Inspection-and-Comparison.html" >Inspection and Comparison </a>
        </li>
        <li>
          A3.7
          <a href="./Appendix-C:-Git-Commands-Debugging.html" >Debugging </a>
        </li>
        <li>
          A3.8
          <a href="./Appendix-C:-Git-Commands-Patching.html" >Patching </a>
        </li>
        <li>
          A3.9
          <a href="./Appendix-C:-Git-Commands-Email.html" >Email </a>
        </li>
        <li>
          A3.10
          <a href="./Appendix-C:-Git-Commands-External-Systems.html" >External Systems </a>
        </li>
        <li>
          A3.11
          <a href="./Appendix-C:-Git-Commands-Administration.html" >Administration </a>
        </li>
        <li>
          A3.12
          <a href="./Appendix-C:-Git-Commands-Plumbing-Commands.html" >Plumbing Commands </a>
        </li>
    </ol>
  </li>
</ol>

    </div>
  </div>
 </div>

    <span class="light" id="edition">
      2nd Edition
    </span>
</div>

<div id='main' class="book edition2">
    <h1>7.9 Git Tools - Rerere</h1>
  <div>
<h2 id="ref_rerere">Rerere</h2>
<div class="paragraph">
<p>The <code>git rerere</code> functionality is a bit of a hidden feature.
The name stands for “reuse recorded resolution” and, as the name implies, it allows you to ask Git to remember how you’ve resolved a hunk conflict so that the next time it sees the same conflict, Git can resolve it for you automatically.</p>
</div>
<div class="paragraph">
<p>There are a number of scenarios in which this functionality might be really handy.
One of the examples that is mentioned in the documentation is when you want to make sure a long-lived topic branch will ultimately merge cleanly, but you don’t want to have a bunch of intermediate merge commits cluttering up your commit history.
With <code>rerere</code> enabled, you can attempt the occasional merge, resolve the conflicts, then back out of the merge.
If you do this continuously, then the final merge should be easy because <code>rerere</code> can just do everything for you automatically.</p>
</div>
<div class="paragraph">
<p>This same tactic can be used if you want to keep a branch rebased so you don’t have to deal with the same rebasing conflicts each time you do it.
Or if you want to take a branch that you merged and fixed a bunch of conflicts and then decide to rebase it instead — you likely won’t have to do all the same conflicts again.</p>
</div>
<div class="paragraph">
<p>Another application of <code>rerere</code> is where you merge a bunch of evolving topic branches together into a testable head occasionally, as the Git project itself often does.
If the tests fail, you can rewind the merges and re-do them without the topic branch that made the tests fail without having to re-resolve the conflicts again.</p>
</div>
<div class="paragraph">
<p>To enable <code>rerere</code> functionality, you simply have to run this config setting:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global rerere.enabled true</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also turn it on by creating the <code>.git/rr-cache</code> directory in a specific repository, but the config setting is clearer and enables that feature globally for you.</p>
</div>
<div class="paragraph">
<p>Now let’s see a simple example, similar to our previous one.
Let’s say we have a file named <code>hello.rb</code> that looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">#! /usr/bin/env ruby

def hello
  puts 'hello world'
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>In one branch we change the word “hello” to “hola”, then in another branch we change the “world” to “mundo”, just like before.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/rerere1.png" alt="rerere1">
</div>
</div>
<div class="paragraph">
<p>When we merge the two branches together, we’ll get a merge conflict:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge i18n-world
Auto-merging hello.rb
CONFLICT (content): Merge conflict in hello.rb
Recorded preimage for 'hello.rb'
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should notice the new line <code>Recorded preimage for FILE</code> in there.
Otherwise it should look exactly like a normal merge conflict.
At this point, <code>rerere</code> can tell us a few things.
Normally, you might run <code>git status</code> at this point to see what all conflicted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
# On branch master
# Unmerged paths:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#   (use "git add &lt;file&gt;..." to mark resolution)
#
#	both modified:      hello.rb
#</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, <code>git rerere</code> will also tell you what it has recorded the pre-merge state for with <code>git rerere status</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rerere status
hello.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>And <code>git rerere diff</code> will show the current state of the resolution — what you started with to resolve and what you’ve resolved it to.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rerere diff
--- a/hello.rb
+++ b/hello.rb
@@ -1,11 +1,11 @@
 #! /usr/bin/env ruby

 def hello
-&lt;&lt;&lt;&lt;&lt;&lt;&lt;
-  puts 'hello mundo'
-=======
+&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
   puts 'hola world'
-&gt;&gt;&gt;&gt;&gt;&gt;&gt;
+=======
+  puts 'hello mundo'
+&gt;&gt;&gt;&gt;&gt;&gt;&gt; i18n-world
 end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also (and this isn’t really related to <code>rerere</code>), you can use <code>git ls-files -u</code> to see the conflicted files and the before, left and right versions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git ls-files -u
100644 39804c942a9c1f2c03dc7c5ebcd7f3e3a6b97519 1	hello.rb
100644 a440db6e8d1fd76ad438a49025a9ad9ce746f581 2	hello.rb
100644 54336ba847c3758ab604876419607e9443848474 3	hello.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can resolve it to just be <code>puts 'hola mundo'</code> and you can run <code>git rerere diff</code> again to see what rerere will remember:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rerere diff
--- a/hello.rb
+++ b/hello.rb
@@ -1,11 +1,7 @@
 #! /usr/bin/env ruby

 def hello
-&lt;&lt;&lt;&lt;&lt;&lt;&lt;
-  puts 'hello mundo'
-=======
-  puts 'hola world'
-&gt;&gt;&gt;&gt;&gt;&gt;&gt;
+  puts 'hola mundo'
 end</code></pre>
</div>
</div>
<div class="paragraph">
<p>So that basically says, when Git sees a hunk conflict in a <code>hello.rb</code> file that has “hello mundo” on one side and “hola world” on the other, it will resolve it to “hola mundo”.</p>
</div>
<div class="paragraph">
<p>Now we can mark it as resolved and commit it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add hello.rb
$ git commit
Recorded resolution for 'hello.rb'.
[master 68e16e5] Merge branch 'i18n'</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that it "Recorded resolution for FILE".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/rerere2.png" alt="rerere2">
</div>
</div>
<div class="paragraph">
<p>Now, let’s undo that merge and then rebase it on top of our <code>master</code> branch instead.
We can move our branch back by using <code>git reset</code> as we saw in <a href="ch00/_git_reset.html">Reset Demystified</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git reset --hard HEAD^
HEAD is now at ad63f15 i18n the hello</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our merge is undone.
Now let’s rebase the topic branch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout i18n-world
Switched to branch 'i18n-world'

$ git rebase master
First, rewinding head to replay your work on top of it...
Applying: i18n one word
Using index info to reconstruct a base tree...
Falling back to patching base and 3-way merge...
Auto-merging hello.rb
CONFLICT (content): Merge conflict in hello.rb
Resolved 'hello.rb' using previous resolution.
Failed to merge in the changes.
Patch failed at 0001 i18n one word</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, we got the same merge conflict like we expected, but take a look at the <code>Resolved FILE using previous resolution</code> line.
If we look at the file, we’ll see that it’s already been resolved, there are no merge conflict markers in it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">#! /usr/bin/env ruby

def hello
  puts 'hola mundo'
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also, <code>git diff</code> will show you how it was automatically re-resolved:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --cc hello.rb
index a440db6,54336ba..0000000
--- a/hello.rb
+++ b/hello.rb
@@@ -1,7 -1,7 +1,7 @@@
  #! /usr/bin/env ruby

  def hello
-   puts 'hola world'
 -  puts 'hello mundo'
++  puts 'hola mundo'
  end</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/rerere3.png" alt="rerere3">
</div>
</div>
<div class="paragraph">
<p>You can also recreate the conflicted file state with <code>git checkout</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout --conflict=merge hello.rb
$ cat hello.rb
#! /usr/bin/env ruby

def hello
&lt;&lt;&lt;&lt;&lt;&lt;&lt; ours
  puts 'hola world'
=======
  puts 'hello mundo'
&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>We saw an example of this in <a href="ch00/_advanced_merging.html">Advanced Merging</a>.
For now though, let’s re-resolve it by just running <code>git rerere</code> again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rerere
Resolved 'hello.rb' using previous resolution.
$ cat hello.rb
#! /usr/bin/env ruby

def hello
  puts 'hola mundo'
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>We have re-resolved the file automatically using the <code>rerere</code> cached resolution.
You can now add and continue the rebase to complete it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add hello.rb
$ git rebase --continue
Applying: i18n one word</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, if you do a lot of re-merges, or want to keep a topic branch up to date with your <code>master</code> branch without a ton of merges, or you rebase often, you can turn on <code>rerere</code> to help your life out a bit.</p>
</div>
<div id="nav"><a href="ch00/_reverse_commit.html">prev</a> | <a href="ch00/_file_annotation.html">next</a></div></div>
</div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    <a href="https://git-scm.com/site">About this site</a><br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="https://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>
<a href="ch00/ref_rerere.html#top" class="no-js scrollToTop" id="scrollToTop" data-label="Scroll to top">
  <img src="chevron-up@2x.png" width="20" height="20" alt="scroll-to-top"/>
</a>
<script src="application-b09f91f7c527919e4bc194769429065537d64a7f73b9fe93b107afef32b02939.js"></script>

    </div>

</body>
</html>
