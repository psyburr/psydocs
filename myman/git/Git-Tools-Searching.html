<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49925874-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-49925874-3');
  </script>

  <meta charset='utf-8'>
  <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Git - Searching</title>

  <link href='favicon.ico' rel='shortcut icon' type='image/x-icon'>

  <link rel="stylesheet" media="screen" href="application-317ee030890d2caf96a53cbcc2a67040b748b2506d55661fc9c6754d0a024f59.css" />
  <script src="modernize-b3ebe0c31c24f230dc62179d3e1030d2e57a53b1668d9382c0a27dbd44a94beb.js"></script>
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js"></script>
  <![endif]-->

</head>

<body id="documentation">

  <div class="inner">
    <header>

  <a href="https://git-scm.com/"><img src="logo@2x.png" width="110" height="46" alt="Git" /></a>
  <span id="tagline"></span>
  <script type="text/javascript">
    var taglines = ["fast-version-control","everything-is-local","distributed-even-if-your-workflow-isnt","local-branching-on-the-cheap","distributed-is-the-new-centralized"];
    var tagline = taglines[Math.floor(Math.random() * taglines.length)];
    document.getElementById('tagline').innerHTML = '--' + tagline;
  </script>
  <form id="search" action="https://git-scm.com/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text" />
  </form>
  <div id="search-results"></div>

</header>

  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <button class="sidebar-btn"></button>
<aside class="sidebar" id="sidebar">
  <nav>
    <ul>
      <li>
        <a href="https://git-scm.com/about">About</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/about">Branching and Merging</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/small-and-fast">Small and Fast</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/distributed">Distributed</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/info-assurance">Data Assurance</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/staging-area">Staging Area</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/free-and-open-source">Free and Open Source</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/trademark">Trademark</a>
          </li>
        </ul>
      </li>
      <li>
        <a class="active" href="https://git-scm.com/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a href="https://git-scm.com/docs">Reference</a>
          </li>
          <li>
            <a class="active" href="https://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="https://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="https://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="https://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/community">Community</a>
      </li>
    </ul>
      <hr class="sidebar">
        <p>
This book is available in
  <a href="https://git-scm.com/book/en">English</a>.
</p>
<p>
  Full translation available in
  <table>
    <tr><td><a href="https://git-scm.com/book/az">azərbaycan dili</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/bg">български език</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/de">Deutsch</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/es">Español</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/fr">Français</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/gr">Ελληνικά</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ja">日本語</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ko">한국어</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/nl">Nederlands</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ru">Русский</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/sl">Slovenščina</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/tl">Tagalog</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/uk">Українська</a></td></tr>
    <tr><td><a href="https://git-scm.com/book/zh">简体中文</a>,</td></tr>
  </table>
</p>
<p>
  Partial translations available in
  <table>
    <tr><td><a href="https://git-scm.com/book/cs">Čeština</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/mk">Македонски</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/pl">Polski</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/sr">Српски</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/uz">Ўзбекча</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/zh-tw">繁體中文</a>,</td></tr>
  </table>
</p>
<p>
  Translations started for
  <table>
    <tr><td><a href="https://git-scm.com/book/be">Беларуская</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/fa" dir="rtl">فارسی</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/id">Indonesian</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/it">Italiano</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/ms">Bahasa Melayu</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/pt-br">Português (Brasil)</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/pt-pt">Português (Portugal)</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/sv">Svenska</a>,</td></tr>
    <tr><td><a href="https://git-scm.com/book/tr">Türkçe</a>.</td></tr>
  </table>
</p>
<hr class="sidebar"/>
<p>
The source of this book is <a href="https://github.com/progit/progit2">hosted on GitHub.</a></br>
Patches, suggestions and comments are welcome.
</p>


  </nav>
</aside>

        <div id="content">
          

<div id='book-chapters'>
  <a class="dropdown-trigger" id="book-chapters-trigger" data-panel-id="chapters-dropdown" href="ch00/_git_grep.html#">Chapters ▾</a>
<div class='dropdown-panel' id='chapters-dropdown'>
  <div class="three-column">
    <div class='column-left'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>1. <a href="ch00/ch01-getting-started.html">Getting Started</a></h2>
    <ol>
        <li>
          1.1
          <a href="ch00/ch01-getting-started.html" >About Version Control </a>
        </li>
        <li>
          1.2
          <a href="Getting-Started-A-Short-History-of-Git.html" >A Short History of Git </a>
        </li>
        <li>
          1.3
          <a href="ch00/what_is_git_section.html" >What is Git? </a>
        </li>
        <li>
          1.4
          <a href="Getting-Started-The-Command-Line.html" >The Command Line </a>
        </li>
        <li>
          1.5
          <a href="Getting-Started-Installing-Git.html" >Installing Git </a>
        </li>
        <li>
          1.6
          <a href="ch00/_editor.html" >First-Time Git Setup </a>
        </li>
        <li>
          1.7
          <a href="ch00/_git_help.html" >Getting Help </a>
        </li>
        <li>
          1.8
          <a href="Getting-Started-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>2. <a href="ch00/_git_cloning.html">Git Basics</a></h2>
    <ol>
        <li>
          2.1
          <a href="ch00/_git_cloning.html" >Getting a Git Repository </a>
        </li>
        <li>
          2.2
          <a href="ch00/_git_mv.html" >Recording Changes to the Repository </a>
        </li>
        <li>
          2.3
          <a href="ch00/_viewing_history.html" >Viewing the Commit History </a>
        </li>
        <li>
          2.4
          <a href="ch00/_unstaging.html" >Undoing Things </a>
        </li>
        <li>
          2.5
          <a href="ch00/_remote_repos.html" >Working with Remotes </a>
        </li>
        <li>
          2.6
          <a href="ch00/_annotated_tags.html" >Tagging </a>
        </li>
        <li>
          2.7
          <a href="ch00/_git_aliases.html" >Git Aliases </a>
        </li>
        <li>
          2.8
          <a href="Git-Basics-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>3. <a href="ch00/_switching_branches.html">Git Branching</a></h2>
    <ol>
        <li>
          3.1
          <a href="ch00/_switching_branches.html" >Branches in a Nutshell </a>
        </li>
        <li>
          3.2
          <a href="ch00/_basic_branching.html" >Basic Branching and Merging </a>
        </li>
        <li>
          3.3
          <a href="ch00/_branch_management.html" >Branch Management </a>
        </li>
        <li>
          3.4
          <a href="ch00/_topic_branch.html" >Branching Workflows </a>
        </li>
        <li>
          3.5
          <a href="ch00/_delete_branches.html" >Remote Branches </a>
        </li>
        <li>
          3.6
          <a href="ch00/_rebase_rebase.html" >Rebasing </a>
        </li>
        <li>
          3.7
          <a href="Git-Branching-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>4. <a href="Git-on-the-Server-The-Protocols.html">Git on the Server</a></h2>
    <ol>
        <li>
          4.1
          <a href="Git-on-the-Server-The-Protocols.html" >The Protocols </a>
        </li>
        <li>
          4.2
          <a href="ch00/_bare_repo.html" >Getting Git on a Server </a>
        </li>
        <li>
          4.3
          <a href="ch00/_generate_ssh_key.html" >Generating Your SSH Public Key </a>
        </li>
        <li>
          4.4
          <a href="ch00/_setting_up_server.html" >Setting Up the Server </a>
        </li>
        <li>
          4.5
          <a href="Git-on-the-Server-Git-Daemon.html" >Git Daemon </a>
        </li>
        <li>
          4.6
          <a href="Git-on-the-Server-Smart-HTTP.html" >Smart HTTP </a>
        </li>
        <li>
          4.7
          <a href="Git-on-the-Server-GitWeb.html" >GitWeb </a>
        </li>
        <li>
          4.8
          <a href="ch00/_gitlab_groups_section.html" >GitLab </a>
        </li>
        <li>
          4.9
          <a href="Git-on-the-Server-Third-Party-Hosted-Options.html" >Third Party Hosted Options </a>
        </li>
        <li>
          4.10
          <a href="Git-on-the-Server-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>5. <a href="ch00/_integration_manager.html">Distributed Git</a></h2>
    <ol>
        <li>
          5.1
          <a href="ch00/_integration_manager.html" >Distributed Workflows </a>
        </li>
        <li>
          5.2
          <a href="ch00/_project_over_email.html" >Contributing to a Project </a>
        </li>
        <li>
          5.3
          <a href="ch00/_git_am.html" >Maintaining a Project </a>
        </li>
        <li>
          5.4
          <a href="Distributed-Git-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-middle'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>6. <a href="ch00/_personal_avatar.html">GitHub</a></h2>
    <ol>
        <li>
          6.1
          <a href="ch00/_personal_avatar.html" >Account Setup and Configuration </a>
        </li>
        <li>
          6.2
          <a href="ch00/_fetch_and_push_on_different_repositories.html" >Contributing to a Project </a>
        </li>
        <li>
          6.3
          <a href="ch00/_email_notifications.html" >Maintaining a Project </a>
        </li>
        <li>
          6.4
          <a href="ch00/_team_page.html" >Managing an organization </a>
        </li>
        <li>
          6.5
          <a href="ch00/_commit_status.html" >Scripting GitHub </a>
        </li>
        <li>
          6.6
          <a href="GitHub-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>7. <a href="ch00/_git_reflog.html">Git Tools</a></h2>
    <ol>
        <li>
          7.1
          <a href="ch00/_git_reflog.html" >Revision Selection </a>
        </li>
        <li>
          7.2
          <a href="ch00/_interactive_staging.html" >Interactive Staging </a>
        </li>
        <li>
          7.3
          <a href="ch00/_git_clean.html" >Stashing and Cleaning </a>
        </li>
        <li>
          7.4
          <a href="ch00/_signing_commits.html" >Signing Your Work </a>
        </li>
        <li>
          7.5
          <a href="ch00/_git_grep.html" class=active>Searching </a>
        </li>
        <li>
          7.6
          <a href="ch00/_removing_file_every_commit.html" >Rewriting History </a>
        </li>
        <li>
          7.7
          <a href="ch00/_the_index.html" >Reset Demystified </a>
        </li>
        <li>
          7.8
          <a href="ch00/_reverse_commit.html" >Advanced Merging </a>
        </li>
        <li>
          7.9
          <a href="ch00/ref_rerere.html" >Rerere </a>
        </li>
        <li>
          7.10
          <a href="ch00/_file_annotation.html" >Debugging with Git </a>
        </li>
        <li>
          7.11
          <a href="ch00/_publishing_submodules.html" >Submodules </a>
        </li>
        <li>
          7.12
          <a href="ch00/_bundling.html" >Bundling </a>
        </li>
        <li>
          7.13
          <a href="ch00/_replace.html" >Replace </a>
        </li>
        <li>
          7.14
          <a href="ch00/_credential_caching.html" >Credential Storage </a>
        </li>
        <li>
          7.15
          <a href="Git-Tools-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>8. <a href="ch00/_external_merge_tools.html">Customizing Git</a></h2>
    <ol>
        <li>
          8.1
          <a href="ch00/_external_merge_tools.html" >Git Configuration </a>
        </li>
        <li>
          8.2
          <a href="ch00/_keyword_expansion.html" >Git Attributes </a>
        </li>
        <li>
          8.3
          <a href="ch00/_email_hooks.html" >Git Hooks </a>
        </li>
        <li>
          8.4
          <a href="ch00/_enforcing_commit_message_format.html" >An Example Git-Enforced Policy </a>
        </li>
        <li>
          8.5
          <a href="Customizing-Git-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>9. <a href="ch00/_git_svn.html">Git and Other Systems</a></h2>
    <ol>
        <li>
          9.1
          <a href="ch00/_git_svn.html" >Git as a Client </a>
        </li>
        <li>
          9.2
          <a href="ch00/_git_p4.html" >Migrating to Git </a>
        </li>
        <li>
          9.3
          <a href="Git-and-Other-Systems-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>10. <a href="ch00/_plumbing_porcelain.html">Git Internals</a></h2>
    <ol>
        <li>
          10.1
          <a href="ch00/_plumbing_porcelain.html" >Plumbing and Porcelain </a>
        </li>
        <li>
          10.2
          <a href="ch00/_git_commit_objects.html" >Git Objects </a>
        </li>
        <li>
          10.3
          <a href="ch00/ref_the_ref.html" >Git References </a>
        </li>
        <li>
          10.4
          <a href="Git-Internals-Packfiles.html" >Packfiles </a>
        </li>
        <li>
          10.5
          <a href="ch00/_pushing_refspecs.html" >The Refspec </a>
        </li>
        <li>
          10.6
          <a href="Git-Internals-Transfer-Protocols.html" >Transfer Protocols </a>
        </li>
        <li>
          10.7
          <a href="ch00/_git_gc.html" >Maintenance and Data Recovery </a>
        </li>
        <li>
          10.8
          <a href="Git-Internals-Environment-Variables.html" >Environment Variables </a>
        </li>
        <li>
          10.9
          <a href="Git-Internals-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
</ol>

    </div>
    <div class='column-right'>
      <ol class='book-toc'>
  <li class='chapter'>
  <h2>A1. <a href="./Appendix-A:-Git-in-Other-Environments-Graphical-Interfaces.html">Appendix A: Git in Other Environments</a></h2>
    <ol>
        <li>
          A1.1
          <a href="./Appendix-A:-Git-in-Other-Environments-Graphical-Interfaces.html" >Graphical Interfaces </a>
        </li>
        <li>
          A1.2
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Visual-Studio.html" >Git in Visual Studio </a>
        </li>
        <li>
          A1.3
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Visual-Studio-Code.html" >Git in Visual Studio Code </a>
        </li>
        <li>
          A1.4
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-IntelliJ-%252F-PyCharm-%252F-WebStorm-%252F-PhpStorm-%252F-RubyMine.html" >Git in IntelliJ / PyCharm / WebStorm / PhpStorm / RubyMine </a>
        </li>
        <li>
          A1.5
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Sublime-Text.html" >Git in Sublime Text </a>
        </li>
        <li>
          A1.6
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-Bash.html" >Git in Bash </a>
        </li>
        <li>
          A1.7
          <a href="ch00/oh_my_zsh_git.html" >Git in Zsh </a>
        </li>
        <li>
          A1.8
          <a href="./Appendix-A:-Git-in-Other-Environments-Git-in-PowerShell.html" >Git in PowerShell </a>
        </li>
        <li>
          A1.9
          <a href="./Appendix-A:-Git-in-Other-Environments-Summary.html" >Summary </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A2. <a href="./Appendix-B:-Embedding-Git-in-your-Applications-Command-line-Git.html">Appendix B: Embedding Git in your Applications</a></h2>
    <ol>
        <li>
          A2.1
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-Command-line-Git.html" >Command-line Git </a>
        </li>
        <li>
          A2.2
          <a href="ch00/_libgit2_bindings.html" >Libgit2 </a>
        </li>
        <li>
          A2.3
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-JGit.html" >JGit </a>
        </li>
        <li>
          A2.4
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-go-git.html" >go-git </a>
        </li>
        <li>
          A2.5
          <a href="./Appendix-B:-Embedding-Git-in-your-Applications-Dulwich.html" >Dulwich </a>
        </li>
    </ol>
  </li>
  <li class='chapter'>
  <h2>A3. <a href="ch00/ch_core_editor.html">Appendix C: Git Commands</a></h2>
    <ol>
        <li>
          A3.1
          <a href="ch00/ch_core_editor.html" >Setup and Config </a>
        </li>
        <li>
          A3.2
          <a href="./Appendix-C:-Git-Commands-Getting-and-Creating-Projects.html" >Getting and Creating Projects </a>
        </li>
        <li>
          A3.3
          <a href="./Appendix-C:-Git-Commands-Basic-Snapshotting.html" >Basic Snapshotting </a>
        </li>
        <li>
          A3.4
          <a href="./Appendix-C:-Git-Commands-Branching-and-Merging.html" >Branching and Merging </a>
        </li>
        <li>
          A3.5
          <a href="./Appendix-C:-Git-Commands-Sharing-and-Updating-Projects.html" >Sharing and Updating Projects </a>
        </li>
        <li>
          A3.6
          <a href="./Appendix-C:-Git-Commands-Inspection-and-Comparison.html" >Inspection and Comparison </a>
        </li>
        <li>
          A3.7
          <a href="./Appendix-C:-Git-Commands-Debugging.html" >Debugging </a>
        </li>
        <li>
          A3.8
          <a href="./Appendix-C:-Git-Commands-Patching.html" >Patching </a>
        </li>
        <li>
          A3.9
          <a href="./Appendix-C:-Git-Commands-Email.html" >Email </a>
        </li>
        <li>
          A3.10
          <a href="./Appendix-C:-Git-Commands-External-Systems.html" >External Systems </a>
        </li>
        <li>
          A3.11
          <a href="./Appendix-C:-Git-Commands-Administration.html" >Administration </a>
        </li>
        <li>
          A3.12
          <a href="./Appendix-C:-Git-Commands-Plumbing-Commands.html" >Plumbing Commands </a>
        </li>
    </ol>
  </li>
</ol>

    </div>
  </div>
 </div>

    <span class="light" id="edition">
      2nd Edition
    </span>
</div>

<div id='main' class="book edition2">
    <h1>7.5 Git Tools - Searching</h1>
  <div>
<h2 id="_searching">Searching</h2>
<div class="paragraph">
<p>With just about any size codebase, you’ll often need to find where a function is called or defined, or display the history of a method.
Git provides a couple of useful tools for looking through the code and commits stored in its database quickly and easily.
We’ll go through a few of them.</p>
</div>
<div class="sect3">
<h3 id="_git_grep">Git Grep</h3>
<div class="paragraph">
<p>Git ships with a command called <code>grep</code> that allows you to easily search through any committed tree, the working directory, or even the index for a string or regular expression.
For the examples that follow, we’ll search through the source code for Git itself.</p>
</div>
<div class="paragraph">
<p>By default, <code>git grep</code> will look through the files in your working directory.
As a first variation, you can use either of the <code>-n</code> or <code>--line-number</code> options to print out the line numbers where Git has found matches:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git grep -n gmtime_r
compat/gmtime.c:3:#undef gmtime_r
compat/gmtime.c:8:      return git_gmtime_r(timep, &amp;result);
compat/gmtime.c:11:struct tm *git_gmtime_r(const time_t *timep, struct tm *result)
compat/gmtime.c:16:     ret = gmtime_r(timep, result);
compat/mingw.c:826:struct tm *gmtime_r(const time_t *timep, struct tm *result)
compat/mingw.h:206:struct tm *gmtime_r(const time_t *timep, struct tm *result);
date.c:482:             if (gmtime_r(&amp;now, &amp;now_tm))
date.c:545:             if (gmtime_r(&amp;time, tm)) {
date.c:758:             /* gmtime_r() in match_digit() may have clobbered it */
git-compat-util.h:1138:struct tm *git_gmtime_r(const time_t *, struct tm *);
git-compat-util.h:1140:#define gmtime_r git_gmtime_r</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to the basic search shown above, <code>git grep</code> supports a plethora of other interesting options.</p>
</div>
<div class="paragraph">
<p>For instance, instead of printing all of the matches, you can ask <code>git grep</code> to summarize the output by showing you only which files contained the search string and how many matches there were in each file with the <code>-c</code> or <code>--count</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git grep --count gmtime_r
compat/gmtime.c:4
compat/mingw.c:1
compat/mingw.h:1
date.c:3
git-compat-util.h:2</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you’re interested in the <em>context</em> of a search string, you can display the enclosing method or function for each matching string with either of the <code>-p</code> or <code>--show-function</code> options:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git grep -p gmtime_r *.c
date.c=static int match_multi_number(timestamp_t num, char c, const char *date,
date.c:         if (gmtime_r(&amp;now, &amp;now_tm))
date.c=static int match_digit(const char *date, struct tm *tm, int *offset, int *tm_gmt)
date.c:         if (gmtime_r(&amp;time, tm)) {
date.c=int parse_date_basic(const char *date, timestamp_t *timestamp, int *offset)
date.c:         /* gmtime_r() in match_digit() may have clobbered it */</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the <code>gmtime_r</code> routine is called from both the <code>match_multi_number</code> and <code>match_digit</code> functions in the <code>date.c</code> file (the third match displayed represents just the string appearing in a comment).</p>
</div>
<div class="paragraph">
<p>You can also search for complex combinations of strings with the <code>--and</code> flag, which ensures that multiple matches must occur in the same line of text.
For instance, let’s look for any lines that define a constant whose name contains <em>either</em> of the substrings “LINK” or “BUF_MAX”, specifically in an older version of the Git codebase represented by the tag <code>v1.8.0</code> (we’ll throw in the <code>--break</code> and <code>--heading</code> options which help split up the output into a more readable format):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git grep --break --heading \
    -n -e '#define' --and \( -e LINK -e BUF_MAX \) v1.8.0
v1.8.0:builtin/index-pack.c
62:#define FLAG_LINK (1u&lt;&lt;20)

v1.8.0:cache.h
73:#define S_IFGITLINK  0160000
74:#define S_ISGITLINK(m)       (((m) &amp; S_IFMT) == S_IFGITLINK)

v1.8.0:environment.c
54:#define OBJECT_CREATION_MODE OBJECT_CREATION_USES_HARDLINKS

v1.8.0:strbuf.c
326:#define STRBUF_MAXLINK (2*PATH_MAX)

v1.8.0:symlinks.c
53:#define FL_SYMLINK  (1 &lt;&lt; 2)

v1.8.0:zlib.c
30:/* #define ZLIB_BUF_MAX ((uInt)-1) */
31:#define ZLIB_BUF_MAX ((uInt) 1024 * 1024 * 1024) /* 1GB */</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>git grep</code> command has a few advantages over normal searching commands like <code>grep</code> and <code>ack</code>.
The first is that it’s really fast, the second is that you can search through any tree in Git, not just the working directory.
As we saw in the above example, we looked for terms in an older version of the Git source code, not the version that was currently checked out.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_log_searching">Git Log Searching</h3>
<div class="paragraph">
<p>Perhaps you’re looking not for <em>where</em> a term exists, but <em>when</em> it existed or was introduced.
The <code>git log</code> command has a number of powerful tools for finding specific commits by the content of their messages or even the content of the diff they introduce.</p>
</div>
<div class="paragraph">
<p>If, for example, we want to find out when the <code>ZLIB_BUF_MAX</code> constant was originally introduced, we can use the <code>-S</code> option (colloquially referred to as the Git “pickaxe” option) to tell Git to show us only those commits that changed the number of occurrences of that string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log -S ZLIB_BUF_MAX --oneline
e01503b zlib: allow feeding more than 4GB in one go
ef49a7a zlib: zlib can only process 4GB at a time</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we look at the diff of those commits, we can see that in <code>ef49a7a</code> the constant was introduced and in <code>e01503b</code> it was modified.</p>
</div>
<div class="paragraph">
<p>If you need to be more specific, you can provide a regular expression to search for with the <code>-G</code> option.</p>
</div>
<div class="sect4">
<h4 id="_line_log_search">Line Log Search</h4>
<div class="paragraph">
<p>Another fairly advanced log search that is insanely useful is the line history search.
Simply run <code>git log</code> with the <code>-L</code> option, and it will show you the history of a function or line of code in your codebase.</p>
</div>
<div class="paragraph">
<p>For example, if we wanted to see every change made to the function <code>git_deflate_bound</code> in the <code>zlib.c</code> file, we could run <code>git log -L :git_deflate_bound:zlib.c</code>.
This will try to figure out what the bounds of that function are and then look through the history and show us every change that was made to the function as a series of patches back to when the function was first created.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log -L :git_deflate_bound:zlib.c
commit ef49a7a0126d64359c974b4b3b71d7ad42ee3bca
Author: Junio C Hamano &lt;gitster@pobox.com&gt;
Date:   Fri Jun 10 11:52:15 2011 -0700

    zlib: zlib can only process 4GB at a time

diff --git a/zlib.c b/zlib.c
--- a/zlib.c
+++ b/zlib.c
@@ -85,5 +130,5 @@
-unsigned long git_deflate_bound(z_streamp strm, unsigned long size)
+unsigned long git_deflate_bound(git_zstream *strm, unsigned long size)
 {
-       return deflateBound(strm, size);
+       return deflateBound(&amp;strm-&gt;z, size);
 }


commit 225a6f1068f71723a910e8565db4e252b3ca21fa
Author: Junio C Hamano &lt;gitster@pobox.com&gt;
Date:   Fri Jun 10 11:18:17 2011 -0700

    zlib: wrap deflateBound() too

diff --git a/zlib.c b/zlib.c
--- a/zlib.c
+++ b/zlib.c
@@ -81,0 +85,5 @@
+unsigned long git_deflate_bound(z_streamp strm, unsigned long size)
+{
+       return deflateBound(strm, size);
+}
+</code></pre>
</div>
</div>
<div class="paragraph">
<p>If Git can’t figure out how to match a function or method in your programming language, you can also provide it with a regular expression (or <em>regex</em>).
For example, this would have done the same thing as the example above: <code>git log -L '/unsigned long git_deflate_bound/',/^}/:zlib.c</code>.
You could also give it a range of lines or a single line number and you’ll get the same sort of output.</p>
</div>
</div>
</div>
<div id="nav"><a href="ch00/_signing_commits.html">prev</a> | <a href="ch00/_removing_file_every_commit.html">next</a></div></div>
</div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    <a href="https://git-scm.com/site">About this site</a><br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="https://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>
<a href="ch00/_git_grep.html#top" class="no-js scrollToTop" id="scrollToTop" data-label="Scroll to top">
  <img src="chevron-up@2x.png" width="20" height="20" alt="scroll-to-top"/>
</a>
<script src="application-b09f91f7c527919e4bc194769429065537d64a7f73b9fe93b107afef32b02939.js"></script>

    </div>

</body>
</html>
